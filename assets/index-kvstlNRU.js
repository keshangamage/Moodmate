var K7=Object.defineProperty;var X7=(t,e,n)=>e in t?K7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ae=(t,e,n)=>X7(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var D0={exports:{}},gc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function Q7(){if(SE)return gc;SE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var u in r)u!=="key"&&(a[u]=r[u])}else a=r;return r=a.ref,{$$typeof:t,type:i,key:l,ref:r!==void 0?r:null,props:a}}return gc.Fragment=e,gc.jsx=n,gc.jsxs=n,gc}var TE;function Z7(){return TE||(TE=1,D0.exports=Q7()),D0.exports}var T=Z7(),P0={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function J7(){if(EE)return Te;EE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=m&&D[m]||D["@@iterator"],typeof D=="function"?D:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function w(D,K,ie){this.props=D,this.context=K,this.refs=x,this.updater=ie||b}w.prototype.isReactComponent={},w.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},w.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function E(){}E.prototype=w.prototype;function k(D,K,ie){this.props=D,this.context=K,this.refs=x,this.updater=ie||b}var O=k.prototype=new E;O.constructor=k,v(O,w.prototype),O.isPureReactComponent=!0;var A=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function P(D,K,ie,ne,ue,ge){return ie=ge.ref,{$$typeof:t,type:D,key:K,ref:ie!==void 0?ie:null,props:ge}}function z(D,K){return P(D.type,K,void 0,void 0,void 0,D.props)}function V(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function $(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ie){return K[ie]})}var U=/\/+/g;function Q(D,K){return typeof D=="object"&&D!==null&&D.key!=null?$(""+D.key):K.toString(36)}function J(){}function re(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(J,J):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ee(D,K,ie,ne,ue){var ge=typeof D;(ge==="undefined"||ge==="boolean")&&(D=null);var fe=!1;if(D===null)fe=!0;else switch(ge){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(D.$$typeof){case t:case e:fe=!0;break;case p:return fe=D._init,ee(fe(D._payload),K,ie,ne,ue)}}if(fe)return ue=ue(D),fe=ne===""?"."+Q(D,0):ne,A(ue)?(ie="",fe!=null&&(ie=fe.replace(U,"$&/")+"/"),ee(ue,K,ie,"",function(le){return le})):ue!=null&&(V(ue)&&(ue=z(ue,ie+(ue.key==null||D&&D.key===ue.key?"":(""+ue.key).replace(U,"$&/")+"/")+fe)),K.push(ue)),1;fe=0;var $e=ne===""?".":ne+":";if(A(D))for(var Re=0;Re<D.length;Re++)ne=D[Re],ge=$e+Q(ne,Re),fe+=ee(ne,K,ie,ge,ue);else if(Re=y(D),typeof Re=="function")for(D=Re.call(D),Re=0;!(ne=D.next()).done;)ne=ne.value,ge=$e+Q(ne,Re++),fe+=ee(ne,K,ie,ge,ue);else if(ge==="object"){if(typeof D.then=="function")return ee(re(D),K,ie,ne,ue);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return fe}function L(D,K,ie){if(D==null)return D;var ne=[],ue=0;return ee(D,ne,"","",function(ge){return K.call(ie,ge,ue++)}),ne}function Y(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(ie){(D._status===0||D._status===-1)&&(D._status=1,D._result=ie)},function(ie){(D._status===0||D._status===-1)&&(D._status=2,D._result=ie)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var se=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ce(){}return Te.Children={map:L,forEach:function(D,K,ie){L(D,function(){K.apply(this,arguments)},ie)},count:function(D){var K=0;return L(D,function(){K++}),K},toArray:function(D){return L(D,function(K){return K})||[]},only:function(D){if(!V(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Te.Component=w,Te.Fragment=n,Te.Profiler=r,Te.PureComponent=k,Te.StrictMode=i,Te.Suspense=f,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Te.__COMPILER_RUNTIME={__proto__:null,c:function(D){return M.H.useMemoCache(D)}},Te.cache=function(D){return function(){return D.apply(null,arguments)}},Te.cloneElement=function(D,K,ie){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ne=v({},D.props),ue=D.key,ge=void 0;if(K!=null)for(fe in K.ref!==void 0&&(ge=void 0),K.key!==void 0&&(ue=""+K.key),K)!R.call(K,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&K.ref===void 0||(ne[fe]=K[fe]);var fe=arguments.length-2;if(fe===1)ne.children=ie;else if(1<fe){for(var $e=Array(fe),Re=0;Re<fe;Re++)$e[Re]=arguments[Re+2];ne.children=$e}return P(D.type,ue,void 0,void 0,ge,ne)},Te.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:a,_context:D},D},Te.createElement=function(D,K,ie){var ne,ue={},ge=null;if(K!=null)for(ne in K.key!==void 0&&(ge=""+K.key),K)R.call(K,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ue[ne]=K[ne]);var fe=arguments.length-2;if(fe===1)ue.children=ie;else if(1<fe){for(var $e=Array(fe),Re=0;Re<fe;Re++)$e[Re]=arguments[Re+2];ue.children=$e}if(D&&D.defaultProps)for(ne in fe=D.defaultProps,fe)ue[ne]===void 0&&(ue[ne]=fe[ne]);return P(D,ge,void 0,void 0,null,ue)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(D){return{$$typeof:u,render:D}},Te.isValidElement=V,Te.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:Y}},Te.memo=function(D,K){return{$$typeof:d,type:D,compare:K===void 0?null:K}},Te.startTransition=function(D){var K=M.T,ie={};M.T=ie;try{var ne=D(),ue=M.S;ue!==null&&ue(ie,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ce,se)}catch(ge){se(ge)}finally{M.T=K}},Te.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Te.use=function(D){return M.H.use(D)},Te.useActionState=function(D,K,ie){return M.H.useActionState(D,K,ie)},Te.useCallback=function(D,K){return M.H.useCallback(D,K)},Te.useContext=function(D){return M.H.useContext(D)},Te.useDebugValue=function(){},Te.useDeferredValue=function(D,K){return M.H.useDeferredValue(D,K)},Te.useEffect=function(D,K,ie){var ne=M.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(D,K)},Te.useId=function(){return M.H.useId()},Te.useImperativeHandle=function(D,K,ie){return M.H.useImperativeHandle(D,K,ie)},Te.useInsertionEffect=function(D,K){return M.H.useInsertionEffect(D,K)},Te.useLayoutEffect=function(D,K){return M.H.useLayoutEffect(D,K)},Te.useMemo=function(D,K){return M.H.useMemo(D,K)},Te.useOptimistic=function(D,K){return M.H.useOptimistic(D,K)},Te.useReducer=function(D,K,ie){return M.H.useReducer(D,K,ie)},Te.useRef=function(D){return M.H.useRef(D)},Te.useState=function(D){return M.H.useState(D)},Te.useSyncExternalStore=function(D,K,ie){return M.H.useSyncExternalStore(D,K,ie)},Te.useTransition=function(){return M.H.useTransition()},Te.version="19.1.0",Te}var CE;function qu(){return CE||(CE=1,P0.exports=J7()),P0.exports}var N=qu();const C1=Wi(N);var L0={exports:{}},pc={},j0={exports:{}},z0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function e9(){return AE||(AE=1,function(t){function e(L,Y){var se=L.length;L.push(Y);e:for(;0<se;){var ce=se-1>>>1,D=L[ce];if(0<r(D,Y))L[ce]=Y,L[se]=D,se=ce;else break e}}function n(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var Y=L[0],se=L.pop();if(se!==Y){L[0]=se;e:for(var ce=0,D=L.length,K=D>>>1;ce<K;){var ie=2*(ce+1)-1,ne=L[ie],ue=ie+1,ge=L[ue];if(0>r(ne,se))ue<D&&0>r(ge,ne)?(L[ce]=ge,L[ue]=se,ce=ue):(L[ce]=ne,L[ie]=se,ce=ie);else if(ue<D&&0>r(ge,se))L[ce]=ge,L[ue]=se,ce=ue;else break e}}return Y}function r(L,Y){var se=L.sortIndex-Y.sortIndex;return se!==0?se:L.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],d=[],p=1,m=null,y=3,b=!1,v=!1,x=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function A(L){for(var Y=n(d);Y!==null;){if(Y.callback===null)i(d);else if(Y.startTime<=L)i(d),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=n(d)}}function M(L){if(x=!1,A(L),!v)if(n(f)!==null)v=!0,R||(R=!0,Q());else{var Y=n(d);Y!==null&&ee(M,Y.startTime-L)}}var R=!1,P=-1,z=5,V=-1;function $(){return w?!0:!(t.unstable_now()-V<z)}function U(){if(w=!1,R){var L=t.unstable_now();V=L;var Y=!0;try{e:{v=!1,x&&(x=!1,k(P),P=-1),b=!0;var se=y;try{t:{for(A(L),m=n(f);m!==null&&!(m.expirationTime>L&&$());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,y=m.priorityLevel;var D=ce(m.expirationTime<=L);if(L=t.unstable_now(),typeof D=="function"){m.callback=D,A(L),Y=!0;break t}m===n(f)&&i(f),A(L)}else i(f);m=n(f)}if(m!==null)Y=!0;else{var K=n(d);K!==null&&ee(M,K.startTime-L),Y=!1}}break e}finally{m=null,y=se,b=!1}Y=void 0}}finally{Y?Q():R=!1}}}var Q;if(typeof O=="function")Q=function(){O(U)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,re=J.port2;J.port1.onmessage=U,Q=function(){re.postMessage(null)}}else Q=function(){E(U,0)};function ee(L,Y){P=E(function(){L(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(L){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var se=y;y=Y;try{return L()}finally{y=se}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var se=y;y=L;try{return Y()}finally{y=se}},t.unstable_scheduleCallback=function(L,Y,se){var ce=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ce+se:ce):se=ce,L){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=se+D,L={id:p++,callback:Y,priorityLevel:L,startTime:se,expirationTime:D,sortIndex:-1},se>ce?(L.sortIndex=se,e(d,L),n(f)===null&&L===n(d)&&(x?(k(P),P=-1):x=!0,ee(M,se-ce))):(L.sortIndex=D,e(f,L),v||b||(v=!0,R||(R=!0,Q()))),L},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(L){var Y=y;return function(){var se=y;y=Y;try{return L.apply(this,arguments)}finally{y=se}}}}(z0)),z0}var RE;function t9(){return RE||(RE=1,j0.exports=e9()),j0.exports}var U0={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function n9(){if(ME)return Zt;ME=1;var t=qu();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(f,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:f,containerInfo:d,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zt.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,p)},Zt.flushSync=function(f){var d=l.T,p=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=p,i.d.f()}},Zt.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Zt.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Zt.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,m=u(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):p==="script"&&i.d.X(f,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Zt.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Zt.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=u(p,d.crossOrigin);i.d.L(f,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Zt.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Zt.requestFormReset=function(f){i.d.r(f)},Zt.unstable_batchedUpdates=function(f,d){return f(d)},Zt.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},Zt.useFormStatus=function(){return l.H.useHostTransitionStatus()},Zt.version="19.1.0",Zt}var kE;function jO(){if(kE)return U0.exports;kE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),U0.exports=n9(),U0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function i9(){if(OE)return pc;OE=1;var t=t9(),e=qu(),n=jO();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(i(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var c=s,h=o;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return u(g),s;if(_===h)return u(g),o;_=_.sibling}throw Error(i(188))}if(c.return!==h.return)c=g,h=_;else{for(var S=!1,C=g.child;C;){if(C===c){S=!0,c=g,h=_;break}if(C===h){S=!0,h=g,c=_;break}C=C.sibling}if(!S){for(C=_.child;C;){if(C===c){S=!0,c=_,h=g;break}if(C===h){S=!0,h=_,c=g;break}C=C.sibling}if(!S)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:o}function d(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=d(s),o!==null)return o;s=s.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),O=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var J=Symbol.for("react.client.reference");function re(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===J?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case v:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case M:return"Suspense";case R:return"SuspenseList";case V:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case O:return(s.displayName||"Context")+".Provider";case k:return(s._context.displayName||"Context")+".Consumer";case A:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return o=s.displayName||null,o!==null?o:re(s.type)||"Memo";case z:o=s._payload,s=s._init;try{return re(s(o))}catch{}}return null}var ee=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ce=[],D=-1;function K(s){return{current:s}}function ie(s){0>D||(s.current=ce[D],ce[D]=null,D--)}function ne(s,o){D++,ce[D]=s.current,s.current=o}var ue=K(null),ge=K(null),fe=K(null),$e=K(null);function Re(s,o){switch(ne(fe,o),ne(ge,s),ne(ue,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?QT(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=QT(o),s=ZT(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ie(ue),ne(ue,s)}function le(){ie(ue),ie(ge),ie(fe)}function ye(s){s.memoizedState!==null&&ne($e,s);var o=ue.current,c=ZT(o,s.type);o!==c&&(ne(ge,s),ne(ue,c))}function me(s){ge.current===s&&(ie(ue),ie(ge)),$e.current===s&&(ie($e),cc._currentValue=se)}var te=Object.prototype.hasOwnProperty,ct=t.unstable_scheduleCallback,Me=t.unstable_cancelCallback,mt=t.unstable_shouldYield,ut=t.unstable_requestPaint,rt=t.unstable_now,ii=t.unstable_getCurrentPriorityLevel,Zi=t.unstable_ImmediatePriority,st=t.unstable_UserBlockingPriority,Gt=t.unstable_NormalPriority,Kt=t.unstable_LowPriority,Pn=t.unstable_IdlePriority,Ti=t.log,Tn=t.unstable_setDisableYieldValue,an=null,Rt=null;function Ln(s){if(typeof Ti=="function"&&Tn(s),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(an,s)}catch{}}var Vt=Math.clz32?Math.clz32:js,_l=Math.log,Ei=Math.LN2;function js(s){return s>>>=0,s===0?32:31-(_l(s)/Ei|0)|0}var Ji=256,on=4194304;function fn(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ci(s,o,c){var h=s.pendingLanes;if(h===0)return 0;var g=0,_=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var C=h&134217727;return C!==0?(h=C&~_,h!==0?g=fn(h):(S&=C,S!==0?g=fn(S):c||(c=C&~s,c!==0&&(g=fn(c))))):(C=h&~_,C!==0?g=fn(C):S!==0?g=fn(S):c||(c=h&~s,c!==0&&(g=fn(c)))),g===0?0:o!==0&&o!==g&&(o&_)===0&&(_=g&-g,c=o&-o,_>=c||_===32&&(c&4194048)!==0)?o:g}function jn(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Ai(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zs(){var s=Ji;return Ji<<=1,(Ji&4194048)===0&&(Ji=256),s}function Us(){var s=on;return on<<=1,(on&62914560)===0&&(on=4194304),s}function Mt(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Ri(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function zr(s,o,c,h,g,_){var S=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var C=s.entanglements,I=s.expirationTimes,B=s.hiddenUpdates;for(c=S&~c;0<c;){var G=31-Vt(c),Z=1<<G;C[G]=0,I[G]=-1;var F=B[G];if(F!==null)for(B[G]=null,G=0;G<F.length;G++){var W=F[G];W!==null&&(W.lane&=-536870913)}c&=~Z}h!==0&&er(s,h,0),_!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=_&~(S&~o))}function er(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var h=31-Vt(o);s.entangledLanes|=o,s.entanglements[h]=s.entanglements[h]|1073741824|c&4194090}function lf(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-Vt(c),g=1<<h;g&o|s[h]&o&&(s[h]|=o),c&=~g}}function yl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ce(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Oe(){var s=Y.p;return s!==0?s:(s=window.event,s===void 0?32:_E(s.type))}function bl(s,o){var c=Y.p;try{return Y.p=s,o()}finally{Y.p=c}}var zn=Math.random().toString(36).slice(2),Xt="__reactFiber$"+zn,dn="__reactProps$"+zn,qa="__reactContainer$"+zn,Cp="__reactEvents$"+zn,U8="__reactListeners$"+zn,H8="__reactHandles$"+zn,Uw="__reactResources$"+zn,vl="__reactMarker$"+zn;function Ap(s){delete s[Xt],delete s[dn],delete s[Cp],delete s[U8],delete s[H8]}function Ba(s){var o=s[Xt];if(o)return o;for(var c=s.parentNode;c;){if(o=c[qa]||c[Xt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=nE(s);s!==null;){if(c=s[Xt])return c;s=nE(s)}return o}s=c,c=s.parentNode}return null}function Fa(s){if(s=s[Xt]||s[qa]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function xl(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Va(s){var o=s[Uw];return o||(o=s[Uw]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Pt(s){s[vl]=!0}var Hw=new Set,qw={};function Hs(s,o){Wa(s,o),Wa(s+"Capture",o)}function Wa(s,o){for(qw[s]=o,s=0;s<o.length;s++)Hw.add(o[s])}var q8=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bw={},Fw={};function B8(s){return te.call(Fw,s)?!0:te.call(Bw,s)?!1:q8.test(s)?Fw[s]=!0:(Bw[s]=!0,!1)}function cf(s,o,c){if(B8(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function uf(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function tr(s,o,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+h)}}var Rp,Vw;function $a(s){if(Rp===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Rp=o&&o[1]||"",Vw=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rp+s+Vw}var Mp=!1;function kp(s,o){if(!s||Mp)return"";Mp=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(W){var F=W}Reflect.construct(s,[],Z)}else{try{Z.call()}catch(W){F=W}s.call(Z.prototype)}}else{try{throw Error()}catch(W){F=W}(Z=s())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(W){if(W&&F&&typeof W.stack=="string")return[W.stack,F.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),S=_[0],C=_[1];if(S&&C){var I=S.split(`
`),B=C.split(`
`);for(g=h=0;h<I.length&&!I[h].includes("DetermineComponentFrameRoot");)h++;for(;g<B.length&&!B[g].includes("DetermineComponentFrameRoot");)g++;if(h===I.length||g===B.length)for(h=I.length-1,g=B.length-1;1<=h&&0<=g&&I[h]!==B[g];)g--;for(;1<=h&&0<=g;h--,g--)if(I[h]!==B[g]){if(h!==1||g!==1)do if(h--,g--,0>g||I[h]!==B[g]){var G=`
`+I[h].replace(" at new "," at ");return s.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",s.displayName)),G}while(1<=h&&0<=g);break}}}finally{Mp=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?$a(c):""}function F8(s){switch(s.tag){case 26:case 27:case 5:return $a(s.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 15:return kp(s.type,!1);case 11:return kp(s.type.render,!1);case 1:return kp(s.type,!0);case 31:return $a("Activity");default:return""}}function Ww(s){try{var o="";do o+=F8(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Un(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function $w(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function V8(s){var o=$w(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(S){h=""+S,_.call(this,S)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ff(s){s._valueTracker||(s._valueTracker=V8(s))}function Yw(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=$w(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function df(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var W8=/[\n"\\]/g;function Hn(s){return s.replace(W8,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Op(s,o,c,h,g,_,S,C){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),o!=null?S==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Un(o)):s.value!==""+Un(o)&&(s.value=""+Un(o)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),o!=null?Np(s,S,Un(o)):c!=null?Np(s,S,Un(c)):h!=null&&s.removeAttribute("value"),g==null&&_!=null&&(s.defaultChecked=!!_),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Un(C):s.removeAttribute("name")}function Gw(s,o,c,h,g,_,S,C){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),o!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;c=c!=null?""+Un(c):"",o=o!=null?""+Un(o):c,C||o===s.value||(s.value=o),s.defaultValue=o}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=C?s.checked:!!h,s.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function Np(s,o,c){o==="number"&&df(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Ya(s,o,c,h){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Un(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Kw(s,o,c){if(o!=null&&(o=""+Un(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+Un(c):""}function Xw(s,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(i(92));if(ee(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=Un(o),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h)}function Ga(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var $8=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qw(s,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":h?s.setProperty(o,c):typeof c!="number"||c===0||$8.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Zw(s,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in o)h=o[g],o.hasOwnProperty(g)&&c[g]!==h&&Qw(s,g,h)}else for(var _ in o)o.hasOwnProperty(_)&&Qw(s,_,o[_])}function Ip(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y8=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),G8=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hf(s){return G8.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Dp=null;function Pp(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ka=null,Xa=null;function Jw(s){var o=Fa(s);if(o&&(s=o.stateNode)){var c=s[dn]||null;e:switch(s=o.stateNode,o.type){case"input":if(Op(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Hn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var g=h[dn]||null;if(!g)throw Error(i(90));Op(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===s.form&&Yw(h)}break e;case"textarea":Kw(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Ya(s,!!c.multiple,o,!1)}}}var Lp=!1;function eS(s,o,c){if(Lp)return s(o,c);Lp=!0;try{var h=s(o);return h}finally{if(Lp=!1,(Ka!==null||Xa!==null)&&(Zf(),Ka&&(o=Ka,s=Xa,Xa=Ka=null,Jw(o),s)))for(o=0;o<s.length;o++)Jw(s[o])}}function wl(s,o){var c=s.stateNode;if(c===null)return null;var h=c[dn]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jp=!1;if(nr)try{var Sl={};Object.defineProperty(Sl,"passive",{get:function(){jp=!0}}),window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{jp=!1}var Ur=null,zp=null,gf=null;function tS(){if(gf)return gf;var s,o=zp,c=o.length,h,g="value"in Ur?Ur.value:Ur.textContent,_=g.length;for(s=0;s<c&&o[s]===g[s];s++);var S=c-s;for(h=1;h<=S&&o[c-h]===g[_-h];h++);return gf=g.slice(s,1<h?1-h:void 0)}function pf(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function mf(){return!0}function nS(){return!1}function hn(s){function o(c,h,g,_,S){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(c=s[C],this[C]=c?c(_):_[C]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?mf:nS,this.isPropagationStopped=nS,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=mf)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=mf)},persist:function(){},isPersistent:mf}),o}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_f=hn(qs),Tl=p({},qs,{view:0,detail:0}),K8=hn(Tl),Up,Hp,El,yf=p({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==El&&(El&&s.type==="mousemove"?(Up=s.screenX-El.screenX,Hp=s.screenY-El.screenY):Hp=Up=0,El=s),Up)},movementY:function(s){return"movementY"in s?s.movementY:Hp}}),iS=hn(yf),X8=p({},yf,{dataTransfer:0}),Q8=hn(X8),Z8=p({},Tl,{relatedTarget:0}),qp=hn(Z8),J8=p({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),eD=hn(J8),tD=p({},qs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),nD=hn(tD),iD=p({},qs,{data:0}),rS=hn(iD),rD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oD(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=aD[s])?!!o[s]:!1}function Bp(){return oD}var lD=p({},Tl,{key:function(s){if(s.key){var o=rD[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=pf(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?sD[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bp,charCode:function(s){return s.type==="keypress"?pf(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?pf(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),cD=hn(lD),uD=p({},yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sS=hn(uD),fD=p({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bp}),dD=hn(fD),hD=p({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),gD=hn(hD),pD=p({},yf,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),mD=hn(pD),_D=p({},qs,{newState:0,oldState:0}),yD=hn(_D),bD=[9,13,27,32],Fp=nr&&"CompositionEvent"in window,Cl=null;nr&&"documentMode"in document&&(Cl=document.documentMode);var vD=nr&&"TextEvent"in window&&!Cl,aS=nr&&(!Fp||Cl&&8<Cl&&11>=Cl),oS=" ",lS=!1;function cS(s,o){switch(s){case"keyup":return bD.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uS(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Qa=!1;function xD(s,o){switch(s){case"compositionend":return uS(o);case"keypress":return o.which!==32?null:(lS=!0,oS);case"textInput":return s=o.data,s===oS&&lS?null:s;default:return null}}function wD(s,o){if(Qa)return s==="compositionend"||!Fp&&cS(s,o)?(s=tS(),gf=zp=Ur=null,Qa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return aS&&o.locale!=="ko"?null:o.data;default:return null}}var SD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fS(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!SD[s.type]:o==="textarea"}function dS(s,o,c,h){Ka?Xa?Xa.push(h):Xa=[h]:Ka=h,o=rd(o,"onChange"),0<o.length&&(c=new _f("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var Al=null,Rl=null;function TD(s){$T(s,0)}function bf(s){var o=xl(s);if(Yw(o))return s}function hS(s,o){if(s==="change")return o}var gS=!1;if(nr){var Vp;if(nr){var Wp="oninput"in document;if(!Wp){var pS=document.createElement("div");pS.setAttribute("oninput","return;"),Wp=typeof pS.oninput=="function"}Vp=Wp}else Vp=!1;gS=Vp&&(!document.documentMode||9<document.documentMode)}function mS(){Al&&(Al.detachEvent("onpropertychange",_S),Rl=Al=null)}function _S(s){if(s.propertyName==="value"&&bf(Rl)){var o=[];dS(o,Rl,s,Pp(s)),eS(TD,o)}}function ED(s,o,c){s==="focusin"?(mS(),Al=o,Rl=c,Al.attachEvent("onpropertychange",_S)):s==="focusout"&&mS()}function CD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bf(Rl)}function AD(s,o){if(s==="click")return bf(o)}function RD(s,o){if(s==="input"||s==="change")return bf(o)}function MD(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var En=typeof Object.is=="function"?Object.is:MD;function Ml(s,o){if(En(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!te.call(o,g)||!En(s[g],o[g]))return!1}return!0}function yS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bS(s,o){var c=yS(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=yS(c)}}function vS(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?vS(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function xS(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=df(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=df(s.document)}return o}function $p(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var kD=nr&&"documentMode"in document&&11>=document.documentMode,Za=null,Yp=null,kl=null,Gp=!1;function wS(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Gp||Za==null||Za!==df(h)||(h=Za,"selectionStart"in h&&$p(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),kl&&Ml(kl,h)||(kl=h,h=rd(Yp,"onSelect"),0<h.length&&(o=new _f("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=Za)))}function Bs(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Ja={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},Kp={},SS={};nr&&(SS=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function Fs(s){if(Kp[s])return Kp[s];if(!Ja[s])return s;var o=Ja[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in SS)return Kp[s]=o[c];return s}var TS=Fs("animationend"),ES=Fs("animationiteration"),CS=Fs("animationstart"),OD=Fs("transitionrun"),ND=Fs("transitionstart"),ID=Fs("transitioncancel"),AS=Fs("transitionend"),RS=new Map,Xp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xp.push("scrollEnd");function ri(s,o){RS.set(s,o),Hs(o,[s])}var MS=new WeakMap;function qn(s,o){if(typeof s=="object"&&s!==null){var c=MS.get(s);return c!==void 0?c:(o={value:s,source:o,stack:Ww(o)},MS.set(s,o),o)}return{value:s,source:o,stack:Ww(o)}}var Bn=[],eo=0,Qp=0;function vf(){for(var s=eo,o=Qp=eo=0;o<s;){var c=Bn[o];Bn[o++]=null;var h=Bn[o];Bn[o++]=null;var g=Bn[o];Bn[o++]=null;var _=Bn[o];if(Bn[o++]=null,h!==null&&g!==null){var S=h.pending;S===null?g.next=g:(g.next=S.next,S.next=g),h.pending=g}_!==0&&kS(c,g,_)}}function xf(s,o,c,h){Bn[eo++]=s,Bn[eo++]=o,Bn[eo++]=c,Bn[eo++]=h,Qp|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Zp(s,o,c,h){return xf(s,o,c,h),wf(s)}function to(s,o){return xf(s,null,null,o),wf(s)}function kS(s,o,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var g=!1,_=s.return;_!==null;)_.childLanes|=c,h=_.alternate,h!==null&&(h.childLanes|=c),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(g=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,g&&o!==null&&(g=31-Vt(c),s=_.hiddenUpdates,h=s[g],h===null?s[g]=[o]:h.push(o),o.lane=c|536870912),_):null}function wf(s){if(50<tc)throw tc=0,r0=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var no={};function DD(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(s,o,c,h){return new DD(s,o,c,h)}function Jp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ir(s,o){var c=s.alternate;return c===null?(c=Cn(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function OS(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Sf(s,o,c,h,g,_){var S=0;if(h=s,typeof s=="function")Jp(s)&&(S=1);else if(typeof s=="string")S=L7(s,c,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case V:return s=Cn(31,c,o,g),s.elementType=V,s.lanes=_,s;case v:return Vs(c.children,g,_,o);case x:S=8,g|=24;break;case w:return s=Cn(12,c,o,g|2),s.elementType=w,s.lanes=_,s;case M:return s=Cn(13,c,o,g),s.elementType=M,s.lanes=_,s;case R:return s=Cn(19,c,o,g),s.elementType=R,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:case O:S=10;break e;case k:S=9;break e;case A:S=11;break e;case P:S=14;break e;case z:S=16,h=null;break e}S=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return o=Cn(S,c,o,g),o.elementType=s,o.type=h,o.lanes=_,o}function Vs(s,o,c,h){return s=Cn(7,s,h,o),s.lanes=c,s}function em(s,o,c){return s=Cn(6,s,null,o),s.lanes=c,s}function tm(s,o,c){return o=Cn(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var io=[],ro=0,Tf=null,Ef=0,Fn=[],Vn=0,Ws=null,rr=1,sr="";function $s(s,o){io[ro++]=Ef,io[ro++]=Tf,Tf=s,Ef=o}function NS(s,o,c){Fn[Vn++]=rr,Fn[Vn++]=sr,Fn[Vn++]=Ws,Ws=s;var h=rr;s=sr;var g=32-Vt(h)-1;h&=~(1<<g),c+=1;var _=32-Vt(o)+g;if(30<_){var S=g-g%5;_=(h&(1<<S)-1).toString(32),h>>=S,g-=S,rr=1<<32-Vt(o)+g|c<<g|h,sr=_+s}else rr=1<<_|c<<g|h,sr=s}function nm(s){s.return!==null&&($s(s,1),NS(s,1,0))}function im(s){for(;s===Tf;)Tf=io[--ro],io[ro]=null,Ef=io[--ro],io[ro]=null;for(;s===Ws;)Ws=Fn[--Vn],Fn[Vn]=null,sr=Fn[--Vn],Fn[Vn]=null,rr=Fn[--Vn],Fn[Vn]=null}var ln=null,bt=null,We=!1,Ys=null,Mi=!1,rm=Error(i(519));function Gs(s){var o=Error(i(418,""));throw Il(qn(o,s)),rm}function IS(s){var o=s.stateNode,c=s.type,h=s.memoizedProps;switch(o[Xt]=s,o[dn]=h,c){case"dialog":Le("cancel",o),Le("close",o);break;case"iframe":case"object":case"embed":Le("load",o);break;case"video":case"audio":for(c=0;c<ic.length;c++)Le(ic[c],o);break;case"source":Le("error",o);break;case"img":case"image":case"link":Le("error",o),Le("load",o);break;case"details":Le("toggle",o);break;case"input":Le("invalid",o),Gw(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),ff(o);break;case"select":Le("invalid",o);break;case"textarea":Le("invalid",o),Xw(o,h.value,h.defaultValue,h.children),ff(o)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||XT(o.textContent,c)?(h.popover!=null&&(Le("beforetoggle",o),Le("toggle",o)),h.onScroll!=null&&Le("scroll",o),h.onScrollEnd!=null&&Le("scrollend",o),h.onClick!=null&&(o.onclick=sd),o=!0):o=!1,o||Gs(s)}function DS(s){for(ln=s.return;ln;)switch(ln.tag){case 5:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:ln=ln.return}}function Ol(s){if(s!==ln)return!1;if(!We)return DS(s),We=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||v0(s.type,s.memoizedProps)),c=!c),c&&bt&&Gs(s),DS(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){bt=ai(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}bt=null}}else o===27?(o=bt,ts(s.type)?(s=T0,T0=null,bt=s):bt=o):bt=ln?ai(s.stateNode.nextSibling):null;return!0}function Nl(){bt=ln=null,We=!1}function PS(){var s=Ys;return s!==null&&(mn===null?mn=s:mn.push.apply(mn,s),Ys=null),s}function Il(s){Ys===null?Ys=[s]:Ys.push(s)}var sm=K(null),Ks=null,ar=null;function Hr(s,o,c){ne(sm,o._currentValue),o._currentValue=c}function or(s){s._currentValue=sm.current,ie(sm)}function am(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function om(s,o,c,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var _=g.dependencies;if(_!==null){var S=g.child;_=_.firstContext;e:for(;_!==null;){var C=_;_=g;for(var I=0;I<o.length;I++)if(C.context===o[I]){_.lanes|=c,C=_.alternate,C!==null&&(C.lanes|=c),am(_.return,c,s),h||(S=null);break e}_=C.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(i(341));S.lanes|=c,_=S.alternate,_!==null&&(_.lanes|=c),am(S,c,s),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===s){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Dl(s,o,c,h){s=null;for(var g=o,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var C=g.type;En(g.pendingProps.value,S.value)||(s!==null?s.push(C):s=[C])}}else if(g===$e.current){if(S=g.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(cc):s=[cc])}g=g.return}s!==null&&om(o,s,c,h),o.flags|=262144}function Cf(s){for(s=s.firstContext;s!==null;){if(!En(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Xs(s){Ks=s,ar=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Qt(s){return LS(Ks,s)}function Af(s,o){return Ks===null&&Xs(s),LS(s,o)}function LS(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},ar===null){if(s===null)throw Error(i(308));ar=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else ar=ar.next=o;return c}var PD=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},LD=t.unstable_scheduleCallback,jD=t.unstable_NormalPriority,kt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new PD,data:new Map,refCount:0}}function Pl(s){s.refCount--,s.refCount===0&&LD(jD,function(){s.controller.abort()})}var Ll=null,cm=0,so=0,ao=null;function zD(s,o){if(Ll===null){var c=Ll=[];cm=0,so=f0(),ao={status:"pending",value:void 0,then:function(h){c.push(h)}}}return cm++,o.then(jS,jS),o}function jS(){if(--cm===0&&Ll!==null){ao!==null&&(ao.status="fulfilled");var s=Ll;Ll=null,so=0,ao=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function UD(s,o){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return s.then(function(){h.status="fulfilled",h.value=o;for(var g=0;g<c.length;g++)(0,c[g])(o)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var zS=L.S;L.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&zD(s,o),zS!==null&&zS(s,o)};var Qs=K(null);function um(){var s=Qs.current;return s!==null?s:at.pooledCache}function Rf(s,o){o===null?ne(Qs,Qs.current):ne(Qs,o.pool)}function US(){var s=um();return s===null?null:{parent:kt._currentValue,pool:s}}var jl=Error(i(460)),HS=Error(i(474)),Mf=Error(i(542)),fm={then:function(){}};function qS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function kf(){}function BS(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(kf,kf),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,VS(s),s;default:if(typeof o.status=="string")o.then(kf,kf);else{if(s=at,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(h){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=h}},function(h){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,VS(s),s}throw zl=o,jl}}var zl=null;function FS(){if(zl===null)throw Error(i(459));var s=zl;return zl=null,s}function VS(s){if(s===jl||s===Mf)throw Error(i(483))}var qr=!1;function dm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hm(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Br(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fr(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Ye&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,o=wf(s),kS(s,null,c),o}return xf(s,h,o,c),wf(s)}function Ul(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,lf(s,c)}}function gm(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?g=_=S:_=_.next=S,c=c.next}while(c!==null);_===null?g=_=o:_=_.next=o}else g=_=o;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var pm=!1;function Hl(){if(pm){var s=ao;if(s!==null)throw s}}function ql(s,o,c,h){pm=!1;var g=s.updateQueue;qr=!1;var _=g.firstBaseUpdate,S=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var I=C,B=I.next;I.next=null,S===null?_=B:S.next=B,S=I;var G=s.alternate;G!==null&&(G=G.updateQueue,C=G.lastBaseUpdate,C!==S&&(C===null?G.firstBaseUpdate=B:C.next=B,G.lastBaseUpdate=I))}if(_!==null){var Z=g.baseState;S=0,G=B=I=null,C=_;do{var F=C.lane&-536870913,W=F!==C.lane;if(W?(He&F)===F:(h&F)===F){F!==0&&F===so&&(pm=!0),G!==null&&(G=G.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var we=s,_e=C;F=o;var Ze=c;switch(_e.tag){case 1:if(we=_e.payload,typeof we=="function"){Z=we.call(Ze,Z,F);break e}Z=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,F=typeof we=="function"?we.call(Ze,Z,F):we,F==null)break e;Z=p({},Z,F);break e;case 2:qr=!0}}F=C.callback,F!==null&&(s.flags|=64,W&&(s.flags|=8192),W=g.callbacks,W===null?g.callbacks=[F]:W.push(F))}else W={lane:F,tag:C.tag,payload:C.payload,callback:C.callback,next:null},G===null?(B=G=W,I=Z):G=G.next=W,S|=F;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;W=C,C=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);G===null&&(I=Z),g.baseState=I,g.firstBaseUpdate=B,g.lastBaseUpdate=G,_===null&&(g.shared.lanes=0),Qr|=S,s.lanes=S,s.memoizedState=Z}}function WS(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function $S(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)WS(c[s],o)}var oo=K(null),Of=K(0);function YS(s,o){s=gr,ne(Of,s),ne(oo,o),gr=s|o.baseLanes}function mm(){ne(Of,gr),ne(oo,oo.current)}function _m(){gr=Of.current,ie(oo),ie(Of)}var Vr=0,ke=null,Xe=null,Et=null,Nf=!1,lo=!1,Zs=!1,If=0,Bl=0,co=null,HD=0;function xt(){throw Error(i(321))}function ym(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!En(s[c],o[c]))return!1;return!0}function bm(s,o,c,h,g,_){return Vr=_,ke=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,L.H=s===null||s.memoizedState===null?k2:O2,Zs=!1,_=c(h,g),Zs=!1,lo&&(_=KS(o,c,h,g)),GS(s),_}function GS(s){L.H=Uf;var o=Xe!==null&&Xe.next!==null;if(Vr=0,Et=Xe=ke=null,Nf=!1,Bl=0,co=null,o)throw Error(i(300));s===null||Lt||(s=s.dependencies,s!==null&&Cf(s)&&(Lt=!0))}function KS(s,o,c,h){ke=s;var g=0;do{if(lo&&(co=null),Bl=0,lo=!1,25<=g)throw Error(i(301));if(g+=1,Et=Xe=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}L.H=YD,_=o(c,h)}while(lo);return _}function qD(){var s=L.H,o=s.useState()[0];return o=typeof o.then=="function"?Fl(o):o,s=s.useState()[0],(Xe!==null?Xe.memoizedState:null)!==s&&(ke.flags|=1024),o}function vm(){var s=If!==0;return If=0,s}function xm(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function wm(s){if(Nf){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Nf=!1}Vr=0,Et=Xe=ke=null,lo=!1,Bl=If=0,co=null}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?ke.memoizedState=Et=s:Et=Et.next=s,Et}function Ct(){if(Xe===null){var s=ke.alternate;s=s!==null?s.memoizedState:null}else s=Xe.next;var o=Et===null?ke.memoizedState:Et.next;if(o!==null)Et=o,Xe=s;else{if(s===null)throw ke.alternate===null?Error(i(467)):Error(i(310));Xe=s,s={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Et===null?ke.memoizedState=Et=s:Et=Et.next=s}return Et}function Sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(s){var o=Bl;return Bl+=1,co===null&&(co=[]),s=BS(co,s,o),o=ke,(Et===null?o.memoizedState:Et.next)===null&&(o=o.alternate,L.H=o===null||o.memoizedState===null?k2:O2),s}function Df(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Fl(s);if(s.$$typeof===O)return Qt(s)}throw Error(i(438,String(s)))}function Tm(s){var o=null,c=ke.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=ke.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Sm(),ke.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),h=0;h<s;h++)c[h]=$;return o.index++,c}function lr(s,o){return typeof o=="function"?o(s):o}function Pf(s){var o=Ct();return Em(o,Xe,s)}function Em(s,o,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var g=s.baseQueue,_=h.pending;if(_!==null){if(g!==null){var S=g.next;g.next=_.next,_.next=S}o.baseQueue=g=_,h.pending=null}if(_=s.baseState,g===null)s.memoizedState=_;else{o=g.next;var C=S=null,I=null,B=o,G=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(He&Z)===Z:(Vr&Z)===Z){var F=B.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===so&&(G=!0);else if((Vr&F)===F){B=B.next,F===so&&(G=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(C=I=Z,S=_):I=I.next=Z,ke.lanes|=F,Qr|=F;Z=B.action,Zs&&c(_,Z),_=B.hasEagerState?B.eagerState:c(_,Z)}else F={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(C=I=F,S=_):I=I.next=F,ke.lanes|=Z,Qr|=Z;B=B.next}while(B!==null&&B!==o);if(I===null?S=_:I.next=C,!En(_,s.memoizedState)&&(Lt=!0,G&&(c=ao,c!==null)))throw c;s.memoizedState=_,s.baseState=S,s.baseQueue=I,h.lastRenderedState=_}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Cm(s){var o=Ct(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,_=o.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do _=s(_,S.action),S=S.next;while(S!==g);En(_,o.memoizedState)||(Lt=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,h]}function XS(s,o,c){var h=ke,g=Ct(),_=We;if(_){if(c===void 0)throw Error(i(407));c=c()}else c=o();var S=!En((Xe||g).memoizedState,c);S&&(g.memoizedState=c,Lt=!0),g=g.queue;var C=JS.bind(null,h,g,s);if(Vl(2048,8,C,[s]),g.getSnapshot!==o||S||Et!==null&&Et.memoizedState.tag&1){if(h.flags|=2048,uo(9,Lf(),ZS.bind(null,h,g,c,o),null),at===null)throw Error(i(349));_||(Vr&124)!==0||QS(h,o,c)}return c}function QS(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=ke.updateQueue,o===null?(o=Sm(),ke.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function ZS(s,o,c,h){o.value=c,o.getSnapshot=h,e2(o)&&t2(s)}function JS(s,o,c){return c(function(){e2(o)&&t2(s)})}function e2(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!En(s,c)}catch{return!0}}function t2(s){var o=to(s,2);o!==null&&On(o,s,2)}function Am(s){var o=gn();if(typeof s=="function"){var c=s;if(s=c(),Zs){Ln(!0);try{c()}finally{Ln(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:s},o}function n2(s,o,c,h){return s.baseState=c,Em(s,Xe,typeof h=="function"?h:lr)}function BD(s,o,c,h,g){if(zf(s))throw Error(i(485));if(s=o.action,s!==null){var _={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){_.listeners.push(S)}};L.T!==null?c(!0):_.isTransition=!1,h(_),c=o.pending,c===null?(_.next=o.pending=_,i2(o,_)):(_.next=c.next,o.pending=c.next=_)}}function i2(s,o){var c=o.action,h=o.payload,g=s.state;if(o.isTransition){var _=L.T,S={};L.T=S;try{var C=c(g,h),I=L.S;I!==null&&I(S,C),r2(s,o,C)}catch(B){Rm(s,o,B)}finally{L.T=_}}else try{_=c(g,h),r2(s,o,_)}catch(B){Rm(s,o,B)}}function r2(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){s2(s,o,h)},function(h){return Rm(s,o,h)}):s2(s,o,c)}function s2(s,o,c){o.status="fulfilled",o.value=c,a2(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,i2(s,c)))}function Rm(s,o,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,a2(o),o=o.next;while(o!==h)}s.action=null}function a2(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function o2(s,o){return o}function l2(s,o){if(We){var c=at.formState;if(c!==null){e:{var h=ke;if(We){if(bt){t:{for(var g=bt,_=Mi;g.nodeType!==8;){if(!_){g=null;break t}if(g=ai(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){bt=ai(g.nextSibling),h=g.data==="F!";break e}}Gs(h)}h=!1}h&&(o=c[0])}}return c=gn(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o2,lastRenderedState:o},c.queue=h,c=A2.bind(null,ke,h),h.dispatch=c,h=Am(!1),_=Im.bind(null,ke,!1,h.queue),h=gn(),g={state:o,dispatch:null,action:s,pending:null},h.queue=g,c=BD.bind(null,ke,g,_,c),g.dispatch=c,h.memoizedState=s,[o,c,!1]}function c2(s){var o=Ct();return u2(o,Xe,s)}function u2(s,o,c){if(o=Em(s,o,o2)[0],s=Pf(lr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Fl(o)}catch(S){throw S===jl?Mf:S}else h=o;o=Ct();var g=o.queue,_=g.dispatch;return c!==o.memoizedState&&(ke.flags|=2048,uo(9,Lf(),FD.bind(null,g,c),null)),[h,_,s]}function FD(s,o){s.action=o}function f2(s){var o=Ct(),c=Xe;if(c!==null)return u2(o,c,s);Ct(),o=o.memoizedState,c=Ct();var h=c.queue.dispatch;return c.memoizedState=s,[o,h,!1]}function uo(s,o,c,h){return s={tag:s,create:c,deps:h,inst:o,next:null},o=ke.updateQueue,o===null&&(o=Sm(),ke.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s),s}function Lf(){return{destroy:void 0,resource:void 0}}function d2(){return Ct().memoizedState}function jf(s,o,c,h){var g=gn();h=h===void 0?null:h,ke.flags|=s,g.memoizedState=uo(1|o,Lf(),c,h)}function Vl(s,o,c,h){var g=Ct();h=h===void 0?null:h;var _=g.memoizedState.inst;Xe!==null&&h!==null&&ym(h,Xe.memoizedState.deps)?g.memoizedState=uo(o,_,c,h):(ke.flags|=s,g.memoizedState=uo(1|o,_,c,h))}function h2(s,o){jf(8390656,8,s,o)}function g2(s,o){Vl(2048,8,s,o)}function p2(s,o){return Vl(4,2,s,o)}function m2(s,o){return Vl(4,4,s,o)}function _2(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function y2(s,o,c){c=c!=null?c.concat([s]):null,Vl(4,4,_2.bind(null,o,s),c)}function Mm(){}function b2(s,o){var c=Ct();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&ym(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function v2(s,o){var c=Ct();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&ym(o,h[1]))return h[0];if(h=s(),Zs){Ln(!0);try{s()}finally{Ln(!1)}}return c.memoizedState=[h,o],h}function km(s,o,c){return c===void 0||(Vr&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=ST(),ke.lanes|=s,Qr|=s,c)}function x2(s,o,c,h){return En(c,o)?c:oo.current!==null?(s=km(s,c,h),En(s,o)||(Lt=!0),s):(Vr&42)===0?(Lt=!0,s.memoizedState=c):(s=ST(),ke.lanes|=s,Qr|=s,o)}function w2(s,o,c,h,g){var _=Y.p;Y.p=_!==0&&8>_?_:8;var S=L.T,C={};L.T=C,Im(s,!1,o,c);try{var I=g(),B=L.S;if(B!==null&&B(C,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=UD(I,h);Wl(s,o,G,kn(s))}else Wl(s,o,h,kn(s))}catch(Z){Wl(s,o,{then:function(){},status:"rejected",reason:Z},kn())}finally{Y.p=_,L.T=S}}function VD(){}function Om(s,o,c,h){if(s.tag!==5)throw Error(i(476));var g=S2(s).queue;w2(s,g,o,se,c===null?VD:function(){return T2(s),c(h)})}function S2(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:se},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function T2(s){var o=S2(s).next.queue;Wl(s,o,{},kn())}function Nm(){return Qt(cc)}function E2(){return Ct().memoizedState}function C2(){return Ct().memoizedState}function WD(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=kn();s=Br(c);var h=Fr(o,s,c);h!==null&&(On(h,o,c),Ul(h,o,c)),o={cache:lm()},s.payload=o;return}o=o.return}}function $D(s,o,c){var h=kn();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},zf(s)?R2(o,c):(c=Zp(s,o,c,h),c!==null&&(On(c,s,h),M2(c,o,h)))}function A2(s,o,c){var h=kn();Wl(s,o,c,h)}function Wl(s,o,c,h){var g={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(zf(s))R2(o,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var S=o.lastRenderedState,C=_(S,c);if(g.hasEagerState=!0,g.eagerState=C,En(C,S))return xf(s,o,g,0),at===null&&vf(),!1}catch{}finally{}if(c=Zp(s,o,g,h),c!==null)return On(c,s,h),M2(c,o,h),!0}return!1}function Im(s,o,c,h){if(h={lane:2,revertLane:f0(),action:h,hasEagerState:!1,eagerState:null,next:null},zf(s)){if(o)throw Error(i(479))}else o=Zp(s,c,h,2),o!==null&&On(o,s,2)}function zf(s){var o=s.alternate;return s===ke||o!==null&&o===ke}function R2(s,o){lo=Nf=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function M2(s,o,c){if((c&4194048)!==0){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,lf(s,c)}}var Uf={readContext:Qt,use:Df,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},k2={readContext:Qt,use:Df,useCallback:function(s,o){return gn().memoizedState=[s,o===void 0?null:o],s},useContext:Qt,useEffect:h2,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,jf(4194308,4,_2.bind(null,o,s),c)},useLayoutEffect:function(s,o){return jf(4194308,4,s,o)},useInsertionEffect:function(s,o){jf(4,2,s,o)},useMemo:function(s,o){var c=gn();o=o===void 0?null:o;var h=s();if(Zs){Ln(!0);try{s()}finally{Ln(!1)}}return c.memoizedState=[h,o],h},useReducer:function(s,o,c){var h=gn();if(c!==void 0){var g=c(o);if(Zs){Ln(!0);try{c(o)}finally{Ln(!1)}}}else g=o;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=$D.bind(null,ke,s),[h.memoizedState,s]},useRef:function(s){var o=gn();return s={current:s},o.memoizedState=s},useState:function(s){s=Am(s);var o=s.queue,c=A2.bind(null,ke,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:Mm,useDeferredValue:function(s,o){var c=gn();return km(c,s,o)},useTransition:function(){var s=Am(!1);return s=w2.bind(null,ke,s.queue,!0,!1),gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var h=ke,g=gn();if(We){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),at===null)throw Error(i(349));(He&124)!==0||QS(h,o,c)}g.memoizedState=c;var _={value:c,getSnapshot:o};return g.queue=_,h2(JS.bind(null,h,_,s),[s]),h.flags|=2048,uo(9,Lf(),ZS.bind(null,h,_,c,o),null),c},useId:function(){var s=gn(),o=at.identifierPrefix;if(We){var c=sr,h=rr;c=(h&~(1<<32-Vt(h)-1)).toString(32)+c,o="«"+o+"R"+c,c=If++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=HD++,o="«"+o+"r"+c.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:Nm,useFormState:l2,useActionState:l2,useOptimistic:function(s){var o=gn();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Im.bind(null,ke,!0,c),c.dispatch=o,[s,o]},useMemoCache:Tm,useCacheRefresh:function(){return gn().memoizedState=WD.bind(null,ke)}},O2={readContext:Qt,use:Df,useCallback:b2,useContext:Qt,useEffect:g2,useImperativeHandle:y2,useInsertionEffect:p2,useLayoutEffect:m2,useMemo:v2,useReducer:Pf,useRef:d2,useState:function(){return Pf(lr)},useDebugValue:Mm,useDeferredValue:function(s,o){var c=Ct();return x2(c,Xe.memoizedState,s,o)},useTransition:function(){var s=Pf(lr)[0],o=Ct().memoizedState;return[typeof s=="boolean"?s:Fl(s),o]},useSyncExternalStore:XS,useId:E2,useHostTransitionStatus:Nm,useFormState:c2,useActionState:c2,useOptimistic:function(s,o){var c=Ct();return n2(c,Xe,s,o)},useMemoCache:Tm,useCacheRefresh:C2},YD={readContext:Qt,use:Df,useCallback:b2,useContext:Qt,useEffect:g2,useImperativeHandle:y2,useInsertionEffect:p2,useLayoutEffect:m2,useMemo:v2,useReducer:Cm,useRef:d2,useState:function(){return Cm(lr)},useDebugValue:Mm,useDeferredValue:function(s,o){var c=Ct();return Xe===null?km(c,s,o):x2(c,Xe.memoizedState,s,o)},useTransition:function(){var s=Cm(lr)[0],o=Ct().memoizedState;return[typeof s=="boolean"?s:Fl(s),o]},useSyncExternalStore:XS,useId:E2,useHostTransitionStatus:Nm,useFormState:f2,useActionState:f2,useOptimistic:function(s,o){var c=Ct();return Xe!==null?n2(c,Xe,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Tm,useCacheRefresh:C2},fo=null,$l=0;function Hf(s){var o=$l;return $l+=1,fo===null&&(fo=[]),BS(fo,s,o)}function Yl(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function qf(s,o){throw o.$$typeof===m?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function N2(s){var o=s._init;return o(s._payload)}function I2(s){function o(H,j){if(s){var q=H.deletions;q===null?(H.deletions=[j],H.flags|=16):q.push(j)}}function c(H,j){if(!s)return null;for(;j!==null;)o(H,j),j=j.sibling;return null}function h(H){for(var j=new Map;H!==null;)H.key!==null?j.set(H.key,H):j.set(H.index,H),H=H.sibling;return j}function g(H,j){return H=ir(H,j),H.index=0,H.sibling=null,H}function _(H,j,q){return H.index=q,s?(q=H.alternate,q!==null?(q=q.index,q<j?(H.flags|=67108866,j):q):(H.flags|=67108866,j)):(H.flags|=1048576,j)}function S(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function C(H,j,q,X){return j===null||j.tag!==6?(j=em(q,H.mode,X),j.return=H,j):(j=g(j,q),j.return=H,j)}function I(H,j,q,X){var de=q.type;return de===v?G(H,j,q.props.children,X,q.key):j!==null&&(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===z&&N2(de)===j.type)?(j=g(j,q.props),Yl(j,q),j.return=H,j):(j=Sf(q.type,q.key,q.props,null,H.mode,X),Yl(j,q),j.return=H,j)}function B(H,j,q,X){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=tm(q,H.mode,X),j.return=H,j):(j=g(j,q.children||[]),j.return=H,j)}function G(H,j,q,X,de){return j===null||j.tag!==7?(j=Vs(q,H.mode,X,de),j.return=H,j):(j=g(j,q),j.return=H,j)}function Z(H,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=em(""+j,H.mode,q),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case y:return q=Sf(j.type,j.key,j.props,null,H.mode,q),Yl(q,j),q.return=H,q;case b:return j=tm(j,H.mode,q),j.return=H,j;case z:var X=j._init;return j=X(j._payload),Z(H,j,q)}if(ee(j)||Q(j))return j=Vs(j,H.mode,q,null),j.return=H,j;if(typeof j.then=="function")return Z(H,Hf(j),q);if(j.$$typeof===O)return Z(H,Af(H,j),q);qf(H,j)}return null}function F(H,j,q,X){var de=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:C(H,j,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case y:return q.key===de?I(H,j,q,X):null;case b:return q.key===de?B(H,j,q,X):null;case z:return de=q._init,q=de(q._payload),F(H,j,q,X)}if(ee(q)||Q(q))return de!==null?null:G(H,j,q,X,null);if(typeof q.then=="function")return F(H,j,Hf(q),X);if(q.$$typeof===O)return F(H,j,Af(H,q),X);qf(H,q)}return null}function W(H,j,q,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return H=H.get(q)||null,C(j,H,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case y:return H=H.get(X.key===null?q:X.key)||null,I(j,H,X,de);case b:return H=H.get(X.key===null?q:X.key)||null,B(j,H,X,de);case z:var Ne=X._init;return X=Ne(X._payload),W(H,j,q,X,de)}if(ee(X)||Q(X))return H=H.get(q)||null,G(j,H,X,de,null);if(typeof X.then=="function")return W(H,j,q,Hf(X),de);if(X.$$typeof===O)return W(H,j,q,Af(j,X),de);qf(j,X)}return null}function we(H,j,q,X){for(var de=null,Ne=null,he=j,be=j=0,zt=null;he!==null&&be<q.length;be++){he.index>be?(zt=he,he=null):zt=he.sibling;var Be=F(H,he,q[be],X);if(Be===null){he===null&&(he=zt);break}s&&he&&Be.alternate===null&&o(H,he),j=_(Be,j,be),Ne===null?de=Be:Ne.sibling=Be,Ne=Be,he=zt}if(be===q.length)return c(H,he),We&&$s(H,be),de;if(he===null){for(;be<q.length;be++)he=Z(H,q[be],X),he!==null&&(j=_(he,j,be),Ne===null?de=he:Ne.sibling=he,Ne=he);return We&&$s(H,be),de}for(he=h(he);be<q.length;be++)zt=W(he,H,be,q[be],X),zt!==null&&(s&&zt.alternate!==null&&he.delete(zt.key===null?be:zt.key),j=_(zt,j,be),Ne===null?de=zt:Ne.sibling=zt,Ne=zt);return s&&he.forEach(function(as){return o(H,as)}),We&&$s(H,be),de}function _e(H,j,q,X){if(q==null)throw Error(i(151));for(var de=null,Ne=null,he=j,be=j=0,zt=null,Be=q.next();he!==null&&!Be.done;be++,Be=q.next()){he.index>be?(zt=he,he=null):zt=he.sibling;var as=F(H,he,Be.value,X);if(as===null){he===null&&(he=zt);break}s&&he&&as.alternate===null&&o(H,he),j=_(as,j,be),Ne===null?de=as:Ne.sibling=as,Ne=as,he=zt}if(Be.done)return c(H,he),We&&$s(H,be),de;if(he===null){for(;!Be.done;be++,Be=q.next())Be=Z(H,Be.value,X),Be!==null&&(j=_(Be,j,be),Ne===null?de=Be:Ne.sibling=Be,Ne=Be);return We&&$s(H,be),de}for(he=h(he);!Be.done;be++,Be=q.next())Be=W(he,H,be,Be.value,X),Be!==null&&(s&&Be.alternate!==null&&he.delete(Be.key===null?be:Be.key),j=_(Be,j,be),Ne===null?de=Be:Ne.sibling=Be,Ne=Be);return s&&he.forEach(function(G7){return o(H,G7)}),We&&$s(H,be),de}function Ze(H,j,q,X){if(typeof q=="object"&&q!==null&&q.type===v&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case y:e:{for(var de=q.key;j!==null;){if(j.key===de){if(de=q.type,de===v){if(j.tag===7){c(H,j.sibling),X=g(j,q.props.children),X.return=H,H=X;break e}}else if(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===z&&N2(de)===j.type){c(H,j.sibling),X=g(j,q.props),Yl(X,q),X.return=H,H=X;break e}c(H,j);break}else o(H,j);j=j.sibling}q.type===v?(X=Vs(q.props.children,H.mode,X,q.key),X.return=H,H=X):(X=Sf(q.type,q.key,q.props,null,H.mode,X),Yl(X,q),X.return=H,H=X)}return S(H);case b:e:{for(de=q.key;j!==null;){if(j.key===de)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){c(H,j.sibling),X=g(j,q.children||[]),X.return=H,H=X;break e}else{c(H,j);break}else o(H,j);j=j.sibling}X=tm(q,H.mode,X),X.return=H,H=X}return S(H);case z:return de=q._init,q=de(q._payload),Ze(H,j,q,X)}if(ee(q))return we(H,j,q,X);if(Q(q)){if(de=Q(q),typeof de!="function")throw Error(i(150));return q=de.call(q),_e(H,j,q,X)}if(typeof q.then=="function")return Ze(H,j,Hf(q),X);if(q.$$typeof===O)return Ze(H,j,Af(H,q),X);qf(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(c(H,j.sibling),X=g(j,q),X.return=H,H=X):(c(H,j),X=em(q,H.mode,X),X.return=H,H=X),S(H)):c(H,j)}return function(H,j,q,X){try{$l=0;var de=Ze(H,j,q,X);return fo=null,de}catch(he){if(he===jl||he===Mf)throw he;var Ne=Cn(29,he,null,H.mode);return Ne.lanes=X,Ne.return=H,Ne}finally{}}}var ho=I2(!0),D2=I2(!1),Wn=K(null),ki=null;function Wr(s){var o=s.alternate;ne(Ot,Ot.current&1),ne(Wn,s),ki===null&&(o===null||oo.current!==null||o.memoizedState!==null)&&(ki=s)}function P2(s){if(s.tag===22){if(ne(Ot,Ot.current),ne(Wn,s),ki===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(ki=s)}}else $r()}function $r(){ne(Ot,Ot.current),ne(Wn,Wn.current)}function cr(s){ie(Wn),ki===s&&(ki=null),ie(Ot)}var Ot=K(0);function Bf(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||S0(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Dm(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:p({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Pm={enqueueSetState:function(s,o,c){s=s._reactInternals;var h=kn(),g=Br(h);g.payload=o,c!=null&&(g.callback=c),o=Fr(s,g,h),o!==null&&(On(o,s,h),Ul(o,s,h))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=kn(),g=Br(h);g.tag=1,g.payload=o,c!=null&&(g.callback=c),o=Fr(s,g,h),o!==null&&(On(o,s,h),Ul(o,s,h))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=kn(),h=Br(c);h.tag=2,o!=null&&(h.callback=o),o=Fr(s,h,c),o!==null&&(On(o,s,c),Ul(o,s,c))}};function L2(s,o,c,h,g,_,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,S):o.prototype&&o.prototype.isPureReactComponent?!Ml(c,h)||!Ml(g,_):!0}function j2(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&Pm.enqueueReplaceState(o,o.state,null)}function Js(s,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(s=s.defaultProps){c===o&&(c=p({},c));for(var g in s)c[g]===void 0&&(c[g]=s[g])}return c}var Ff=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function z2(s){Ff(s)}function U2(s){console.error(s)}function H2(s){Ff(s)}function Vf(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function q2(s,o,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Lm(s,o,c){return c=Br(c),c.tag=3,c.payload={element:null},c.callback=function(){Vf(s,o)},c}function B2(s){return s=Br(s),s.tag=3,s}function F2(s,o,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var _=h.value;s.payload=function(){return g(_)},s.callback=function(){q2(o,c,h)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){q2(o,c,h),typeof g!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})})}function GD(s,o,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&Dl(o,c,g,!0),c=Wn.current,c!==null){switch(c.tag){case 13:return ki===null?a0():c.alternate===null&&vt===0&&(vt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===fm?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),l0(s,h,g)),!1;case 22:return c.flags|=65536,h===fm?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),l0(s,h,g)),!1}throw Error(i(435,c.tag))}return l0(s,h,g),a0(),!1}if(We)return o=Wn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,h!==rm&&(s=Error(i(422),{cause:h}),Il(qn(s,c)))):(h!==rm&&(o=Error(i(423),{cause:h}),Il(qn(o,c))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=qn(h,c),g=Lm(s.stateNode,h,g),gm(s,g),vt!==4&&(vt=2)),!1;var _=Error(i(520),{cause:h});if(_=qn(_,c),ec===null?ec=[_]:ec.push(_),vt!==4&&(vt=2),o===null)return!0;h=qn(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=g&-g,c.lanes|=s,s=Lm(c.stateNode,h,s),gm(c,s),!1;case 1:if(o=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Zr===null||!Zr.has(_))))return c.flags|=65536,g&=-g,c.lanes|=g,g=B2(g),F2(g,s,c,h),gm(c,g),!1}c=c.return}while(c!==null);return!1}var V2=Error(i(461)),Lt=!1;function Wt(s,o,c,h){o.child=s===null?D2(o,null,c,h):ho(o,s.child,c,h)}function W2(s,o,c,h,g){c=c.render;var _=o.ref;if("ref"in h){var S={};for(var C in h)C!=="ref"&&(S[C]=h[C])}else S=h;return Xs(o),h=bm(s,o,c,S,_,g),C=vm(),s!==null&&!Lt?(xm(s,o,g),ur(s,o,g)):(We&&C&&nm(o),o.flags|=1,Wt(s,o,h,g),o.child)}function $2(s,o,c,h,g){if(s===null){var _=c.type;return typeof _=="function"&&!Jp(_)&&_.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=_,Y2(s,o,_,h,g)):(s=Sf(c.type,null,h,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,!Vm(s,g)){var S=_.memoizedProps;if(c=c.compare,c=c!==null?c:Ml,c(S,h)&&s.ref===o.ref)return ur(s,o,g)}return o.flags|=1,s=ir(_,h),s.ref=o.ref,s.return=o,o.child=s}function Y2(s,o,c,h,g){if(s!==null){var _=s.memoizedProps;if(Ml(_,h)&&s.ref===o.ref)if(Lt=!1,o.pendingProps=h=_,Vm(s,g))(s.flags&131072)!==0&&(Lt=!0);else return o.lanes=s.lanes,ur(s,o,g)}return jm(s,o,c,h,g)}function G2(s,o,c){var h=o.pendingProps,g=h.children,_=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((o.flags&128)!==0){if(h=_!==null?_.baseLanes|c:c,s!==null){for(g=o.child=s.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;o.childLanes=_&~h}else o.childLanes=0,o.child=null;return K2(s,o,h,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Rf(o,_!==null?_.cachePool:null),_!==null?YS(o,_):mm(),P2(o);else return o.lanes=o.childLanes=536870912,K2(s,o,_!==null?_.baseLanes|c:c,c)}else _!==null?(Rf(o,_.cachePool),YS(o,_),$r(),o.memoizedState=null):(s!==null&&Rf(o,null),mm(),$r());return Wt(s,o,g,c),o.child}function K2(s,o,c,h){var g=um();return g=g===null?null:{parent:kt._currentValue,pool:g},o.memoizedState={baseLanes:c,cachePool:g},s!==null&&Rf(o,null),mm(),P2(o),s!==null&&Dl(s,o,h,!0),null}function Wf(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function jm(s,o,c,h,g){return Xs(o),c=bm(s,o,c,h,void 0,g),h=vm(),s!==null&&!Lt?(xm(s,o,g),ur(s,o,g)):(We&&h&&nm(o),o.flags|=1,Wt(s,o,c,g),o.child)}function X2(s,o,c,h,g,_){return Xs(o),o.updateQueue=null,c=KS(o,h,c,g),GS(s),h=vm(),s!==null&&!Lt?(xm(s,o,_),ur(s,o,_)):(We&&h&&nm(o),o.flags|=1,Wt(s,o,c,_),o.child)}function Q2(s,o,c,h,g){if(Xs(o),o.stateNode===null){var _=no,S=c.contextType;typeof S=="object"&&S!==null&&(_=Qt(S)),_=new c(h,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Pm,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=h,_.state=o.memoizedState,_.refs={},dm(o),S=c.contextType,_.context=typeof S=="object"&&S!==null?Qt(S):no,_.state=o.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(Dm(o,c,S,h),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(S=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),S!==_.state&&Pm.enqueueReplaceState(_,_.state,null),ql(o,h,_,g),Hl(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(s===null){_=o.stateNode;var C=o.memoizedProps,I=Js(c,C);_.props=I;var B=_.context,G=c.contextType;S=no,typeof G=="object"&&G!==null&&(S=Qt(G));var Z=c.getDerivedStateFromProps;G=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,G||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C||B!==S)&&j2(o,_,h,S),qr=!1;var F=o.memoizedState;_.state=F,ql(o,h,_,g),Hl(),B=o.memoizedState,C||F!==B||qr?(typeof Z=="function"&&(Dm(o,c,Z,h),B=o.memoizedState),(I=qr||L2(o,c,I,h,F,B,S))?(G||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=B),_.props=h,_.state=B,_.context=S,h=I):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,hm(s,o),S=o.memoizedProps,G=Js(c,S),_.props=G,Z=o.pendingProps,F=_.context,B=c.contextType,I=no,typeof B=="object"&&B!==null&&(I=Qt(B)),C=c.getDerivedStateFromProps,(B=typeof C=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==Z||F!==I)&&j2(o,_,h,I),qr=!1,F=o.memoizedState,_.state=F,ql(o,h,_,g),Hl();var W=o.memoizedState;S!==Z||F!==W||qr||s!==null&&s.dependencies!==null&&Cf(s.dependencies)?(typeof C=="function"&&(Dm(o,c,C,h),W=o.memoizedState),(G=qr||L2(o,c,G,h,F,W,I)||s!==null&&s.dependencies!==null&&Cf(s.dependencies))?(B||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,W,I),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,W,I)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===s.memoizedProps&&F===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&F===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=W),_.props=h,_.state=W,_.context=I,h=G):(typeof _.componentDidUpdate!="function"||S===s.memoizedProps&&F===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&F===s.memoizedState||(o.flags|=1024),h=!1)}return _=h,Wf(s,o),h=(o.flags&128)!==0,_||h?(_=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,s!==null&&h?(o.child=ho(o,s.child,null,g),o.child=ho(o,null,c,g)):Wt(s,o,c,g),o.memoizedState=_.state,s=o.child):s=ur(s,o,g),s}function Z2(s,o,c,h){return Nl(),o.flags|=256,Wt(s,o,c,h),o.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(s){return{baseLanes:s,cachePool:US()}}function Hm(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=$n),s}function J2(s,o,c){var h=o.pendingProps,g=!1,_=(o.flags&128)!==0,S;if((S=_)||(S=s!==null&&s.memoizedState===null?!1:(Ot.current&2)!==0),S&&(g=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,s===null){if(We){if(g?Wr(o):$r(),We){var C=bt,I;if(I=C){e:{for(I=C,C=Mi;I.nodeType!==8;){if(!C){C=null;break e}if(I=ai(I.nextSibling),I===null){C=null;break e}}C=I}C!==null?(o.memoizedState={dehydrated:C,treeContext:Ws!==null?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},I=Cn(18,null,null,0),I.stateNode=C,I.return=o,o.child=I,ln=o,bt=null,I=!0):I=!1}I||Gs(o)}if(C=o.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return S0(C)?o.lanes=32:o.lanes=536870912,null;cr(o)}return C=h.children,h=h.fallback,g?($r(),g=o.mode,C=$f({mode:"hidden",children:C},g),h=Vs(h,g,c,null),C.return=o,h.return=o,C.sibling=h,o.child=C,g=o.child,g.memoizedState=Um(c),g.childLanes=Hm(s,S,c),o.memoizedState=zm,h):(Wr(o),qm(o,C))}if(I=s.memoizedState,I!==null&&(C=I.dehydrated,C!==null)){if(_)o.flags&256?(Wr(o),o.flags&=-257,o=Bm(s,o,c)):o.memoizedState!==null?($r(),o.child=s.child,o.flags|=128,o=null):($r(),g=h.fallback,C=o.mode,h=$f({mode:"visible",children:h.children},C),g=Vs(g,C,c,null),g.flags|=2,h.return=o,g.return=o,h.sibling=g,o.child=h,ho(o,s.child,null,c),h=o.child,h.memoizedState=Um(c),h.childLanes=Hm(s,S,c),o.memoizedState=zm,o=g);else if(Wr(o),S0(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var B=S.dgst;S=B,h=Error(i(419)),h.stack="",h.digest=S,Il({value:h,source:null,stack:null}),o=Bm(s,o,c)}else if(Lt||Dl(s,o,c,!1),S=(c&s.childLanes)!==0,Lt||S){if(S=at,S!==null&&(h=c&-c,h=(h&42)!==0?1:yl(h),h=(h&(S.suspendedLanes|c))!==0?0:h,h!==0&&h!==I.retryLane))throw I.retryLane=h,to(s,h),On(S,s,h),V2;C.data==="$?"||a0(),o=Bm(s,o,c)}else C.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=I.treeContext,bt=ai(C.nextSibling),ln=o,We=!0,Ys=null,Mi=!1,s!==null&&(Fn[Vn++]=rr,Fn[Vn++]=sr,Fn[Vn++]=Ws,rr=s.id,sr=s.overflow,Ws=o),o=qm(o,h.children),o.flags|=4096);return o}return g?($r(),g=h.fallback,C=o.mode,I=s.child,B=I.sibling,h=ir(I,{mode:"hidden",children:h.children}),h.subtreeFlags=I.subtreeFlags&65011712,B!==null?g=ir(B,g):(g=Vs(g,C,c,null),g.flags|=2),g.return=o,h.return=o,h.sibling=g,o.child=h,h=g,g=o.child,C=s.child.memoizedState,C===null?C=Um(c):(I=C.cachePool,I!==null?(B=kt._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=US(),C={baseLanes:C.baseLanes|c,cachePool:I}),g.memoizedState=C,g.childLanes=Hm(s,S,c),o.memoizedState=zm,h):(Wr(o),c=s.child,s=c.sibling,c=ir(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,s!==null&&(S=o.deletions,S===null?(o.deletions=[s],o.flags|=16):S.push(s)),o.child=c,o.memoizedState=null,c)}function qm(s,o){return o=$f({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function $f(s,o){return s=Cn(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Bm(s,o,c){return ho(o,s.child,null,c),s=qm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function eT(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),am(s.return,o,c)}function Fm(s,o,c,h,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=c,_.tailMode=g)}function tT(s,o,c){var h=o.pendingProps,g=h.revealOrder,_=h.tail;if(Wt(s,o,h.children,c),h=Ot.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&eT(s,c,o);else if(s.tag===19)eT(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(ne(Ot,h),g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&Bf(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),Fm(o,!1,g,c,_);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Bf(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Fm(o,!0,c,null,_);break;case"together":Fm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ur(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Qr|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(Dl(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,c=ir(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=ir(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function Vm(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Cf(s)))}function KD(s,o,c){switch(o.tag){case 3:Re(o,o.stateNode.containerInfo),Hr(o,kt,s.memoizedState.cache),Nl();break;case 27:case 5:ye(o);break;case 4:Re(o,o.stateNode.containerInfo);break;case 10:Hr(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Wr(o),o.flags|=128,null):(c&o.child.childLanes)!==0?J2(s,o,c):(Wr(o),s=ur(s,o,c),s!==null?s.sibling:null);Wr(o);break;case 19:var g=(s.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(Dl(s,o,c,!1),h=(c&o.childLanes)!==0),g){if(h)return tT(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ne(Ot,Ot.current),h)break;return null;case 22:case 23:return o.lanes=0,G2(s,o,c);case 24:Hr(o,kt,s.memoizedState.cache)}return ur(s,o,c)}function nT(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)Lt=!0;else{if(!Vm(s,c)&&(o.flags&128)===0)return Lt=!1,KD(s,o,c);Lt=(s.flags&131072)!==0}else Lt=!1,We&&(o.flags&1048576)!==0&&NS(o,Ef,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var h=o.elementType,g=h._init;if(h=g(h._payload),o.type=h,typeof h=="function")Jp(h)?(s=Js(h,s),o.tag=1,o=Q2(null,o,h,s,c)):(o.tag=0,o=jm(null,o,h,s,c));else{if(h!=null){if(g=h.$$typeof,g===A){o.tag=11,o=W2(null,o,h,s,c);break e}else if(g===P){o.tag=14,o=$2(null,o,h,s,c);break e}}throw o=re(h)||h,Error(i(306,o,""))}}return o;case 0:return jm(s,o,o.type,o.pendingProps,c);case 1:return h=o.type,g=Js(h,o.pendingProps),Q2(s,o,h,g,c);case 3:e:{if(Re(o,o.stateNode.containerInfo),s===null)throw Error(i(387));h=o.pendingProps;var _=o.memoizedState;g=_.element,hm(s,o),ql(o,h,null,c);var S=o.memoizedState;if(h=S.cache,Hr(o,kt,h),h!==_.cache&&om(o,[kt],c,!0),Hl(),h=S.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=Z2(s,o,h,c);break e}else if(h!==g){g=qn(Error(i(424)),o),Il(g),o=Z2(s,o,h,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(bt=ai(s.firstChild),ln=o,We=!0,Ys=null,Mi=!0,c=D2(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Nl(),h===g){o=ur(s,o,c);break e}Wt(s,o,h,c)}o=o.child}return o;case 26:return Wf(s,o),s===null?(c=aE(o.type,null,o.pendingProps,null))?o.memoizedState=c:We||(c=o.type,s=o.pendingProps,h=ad(fe.current).createElement(c),h[Xt]=o,h[dn]=s,Yt(h,c,s),Pt(h),o.stateNode=h):o.memoizedState=aE(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return ye(o),s===null&&We&&(h=o.stateNode=iE(o.type,o.pendingProps,fe.current),ln=o,Mi=!0,g=bt,ts(o.type)?(T0=g,bt=ai(h.firstChild)):bt=g),Wt(s,o,o.pendingProps.children,c),Wf(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&We&&((g=h=bt)&&(h=S7(h,o.type,o.pendingProps,Mi),h!==null?(o.stateNode=h,ln=o,bt=ai(h.firstChild),Mi=!1,g=!0):g=!1),g||Gs(o)),ye(o),g=o.type,_=o.pendingProps,S=s!==null?s.memoizedProps:null,h=_.children,v0(g,_)?h=null:S!==null&&v0(g,S)&&(o.flags|=32),o.memoizedState!==null&&(g=bm(s,o,qD,null,null,c),cc._currentValue=g),Wf(s,o),Wt(s,o,h,c),o.child;case 6:return s===null&&We&&((s=c=bt)&&(c=T7(c,o.pendingProps,Mi),c!==null?(o.stateNode=c,ln=o,bt=null,s=!0):s=!1),s||Gs(o)),null;case 13:return J2(s,o,c);case 4:return Re(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=ho(o,null,h,c):Wt(s,o,h,c),o.child;case 11:return W2(s,o,o.type,o.pendingProps,c);case 7:return Wt(s,o,o.pendingProps,c),o.child;case 8:return Wt(s,o,o.pendingProps.children,c),o.child;case 12:return Wt(s,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,Hr(o,o.type,h.value),Wt(s,o,h.children,c),o.child;case 9:return g=o.type._context,h=o.pendingProps.children,Xs(o),g=Qt(g),h=h(g),o.flags|=1,Wt(s,o,h,c),o.child;case 14:return $2(s,o,o.type,o.pendingProps,c);case 15:return Y2(s,o,o.type,o.pendingProps,c);case 19:return tT(s,o,c);case 31:return h=o.pendingProps,c=o.mode,h={mode:h.mode,children:h.children},s===null?(c=$f(h,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=ir(s.child,h),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return G2(s,o,c);case 24:return Xs(o),h=Qt(kt),s===null?(g=um(),g===null&&(g=at,_=lm(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=c),g=_),o.memoizedState={parent:h,cache:g},dm(o),Hr(o,kt,g)):((s.lanes&c)!==0&&(hm(s,o),ql(o,null,null,c),Hl()),g=s.memoizedState,_=o.memoizedState,g.parent!==h?(g={parent:h,cache:h},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Hr(o,kt,h)):(h=_.cache,Hr(o,kt,h),h!==g.cache&&om(o,[kt],c,!0))),Wt(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function fr(s){s.flags|=4}function iT(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!fE(o)){if(o=Wn.current,o!==null&&((He&4194048)===He?ki!==null:(He&62914560)!==He&&(He&536870912)===0||o!==ki))throw zl=fm,HS;s.flags|=8192}}function Yf(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Us():536870912,s.lanes|=o,_o|=o)}function Gl(s,o){if(!We)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function _t(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function XD(s,o,c){var h=o.pendingProps;switch(im(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(o),null;case 1:return _t(o),null;case 3:return c=o.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),or(kt),le(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Ol(o)?fr(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,PS())),_t(o),null;case 26:return c=o.memoizedState,s===null?(fr(o),c!==null?(_t(o),iT(o,c)):(_t(o),o.flags&=-16777217)):c?c!==s.memoizedState?(fr(o),_t(o),iT(o,c)):(_t(o),o.flags&=-16777217):(s.memoizedProps!==h&&fr(o),_t(o),o.flags&=-16777217),null;case 27:me(o),c=fe.current;var g=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==h&&fr(o);else{if(!h){if(o.stateNode===null)throw Error(i(166));return _t(o),null}s=ue.current,Ol(o)?IS(o):(s=iE(g,h,c),o.stateNode=s,fr(o))}return _t(o),null;case 5:if(me(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&fr(o);else{if(!h){if(o.stateNode===null)throw Error(i(166));return _t(o),null}if(s=ue.current,Ol(o))IS(o);else{switch(g=ad(fe.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?g.createElement(c,{is:h.is}):g.createElement(c)}}s[Xt]=o,s[dn]=h;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=s;e:switch(Yt(s,c,h),c){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&fr(o)}}return _t(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==h&&fr(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(i(166));if(s=fe.current,Ol(o)){if(s=o.stateNode,c=o.memoizedProps,h=null,g=ln,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[Xt]=o,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||XT(s.nodeValue,c)),s||Gs(o)}else s=ad(s).createTextNode(h),s[Xt]=o,o.stateNode=s}return _t(o),null;case 13:if(h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Ol(o),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Xt]=o}else Nl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;_t(o),g=!1}else g=PS(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(cr(o),o):(cr(o),null)}if(cr(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=h!==null,s=s!==null&&s.memoizedState!==null,c){h=o.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==g&&(h.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),Yf(o,o.updateQueue),_t(o),null;case 4:return le(),s===null&&p0(o.stateNode.containerInfo),_t(o),null;case 10:return or(o.type),_t(o),null;case 19:if(ie(Ot),g=o.memoizedState,g===null)return _t(o),null;if(h=(o.flags&128)!==0,_=g.rendering,_===null)if(h)Gl(g,!1);else{if(vt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(_=Bf(s),_!==null){for(o.flags|=128,Gl(g,!1),s=_.updateQueue,o.updateQueue=s,Yf(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)OS(c,s),c=c.sibling;return ne(Ot,Ot.current&1|2),o.child}s=s.sibling}g.tail!==null&&rt()>Xf&&(o.flags|=128,h=!0,Gl(g,!1),o.lanes=4194304)}else{if(!h)if(s=Bf(_),s!==null){if(o.flags|=128,h=!0,s=s.updateQueue,o.updateQueue=s,Yf(o,s),Gl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!We)return _t(o),null}else 2*rt()-g.renderingStartTime>Xf&&c!==536870912&&(o.flags|=128,h=!0,Gl(g,!1),o.lanes=4194304);g.isBackwards?(_.sibling=o.child,o.child=_):(s=g.last,s!==null?s.sibling=_:o.child=_,g.last=_)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=rt(),o.sibling=null,s=Ot.current,ne(Ot,h?s&1|2:s&1),o):(_t(o),null);case 22:case 23:return cr(o),_m(),h=o.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(_t(o),o.subtreeFlags&6&&(o.flags|=8192)):_t(o),c=o.updateQueue,c!==null&&Yf(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),s!==null&&ie(Qs),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),or(kt),_t(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function QD(s,o){switch(im(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return or(kt),le(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return me(o),null;case 13:if(cr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Nl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ie(Ot),null;case 4:return le(),null;case 10:return or(o.type),null;case 22:case 23:return cr(o),_m(),s!==null&&ie(Qs),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return or(kt),null;case 25:return null;default:return null}}function rT(s,o){switch(im(o),o.tag){case 3:or(kt),le();break;case 26:case 27:case 5:me(o);break;case 4:le();break;case 13:cr(o);break;case 19:ie(Ot);break;case 10:or(o.type);break;case 22:case 23:cr(o),_m(),s!==null&&ie(Qs);break;case 24:or(kt)}}function Kl(s,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&s)===s){h=void 0;var _=c.create,S=c.inst;h=_(),S.destroy=h}c=c.next}while(c!==g)}}catch(C){et(o,o.return,C)}}function Yr(s,o,c){try{var h=o.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&s)===s){var S=h.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,g=o;var I=c,B=C;try{B()}catch(G){et(g,I,G)}}}h=h.next}while(h!==_)}}catch(G){et(o,o.return,G)}}function sT(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{$S(o,c)}catch(h){et(s,s.return,h)}}}function aT(s,o,c){c.props=Js(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){et(s,o,h)}}function Xl(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(g){et(s,o,g)}}function Oi(s,o){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){et(s,o,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){et(s,o,g)}else c.current=null}function oT(s){var o=s.type,c=s.memoizedProps,h=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){et(s,s.return,g)}}function Wm(s,o,c){try{var h=s.stateNode;y7(h,s.type,c,o),h[dn]=o}catch(g){et(s,s.return,g)}}function lT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ts(s.type)||s.tag===4}function $m(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||lT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ts(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ym(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=sd));else if(h!==4&&(h===27&&ts(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(Ym(s,o,c),s=s.sibling;s!==null;)Ym(s,o,c),s=s.sibling}function Gf(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(h===27&&ts(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Gf(s,o,c),s=s.sibling;s!==null;)Gf(s,o,c),s=s.sibling}function cT(s){var o=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Yt(o,h,c),o[Xt]=s,o[dn]=c}catch(_){et(s,s.return,_)}}var dr=!1,wt=!1,Gm=!1,uT=typeof WeakSet=="function"?WeakSet:Set,jt=null;function ZD(s,o){if(s=s.containerInfo,y0=dd,s=xS(s),$p(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var S=0,C=-1,I=-1,B=0,G=0,Z=s,F=null;t:for(;;){for(var W;Z!==c||g!==0&&Z.nodeType!==3||(C=S+g),Z!==_||h!==0&&Z.nodeType!==3||(I=S+h),Z.nodeType===3&&(S+=Z.nodeValue.length),(W=Z.firstChild)!==null;)F=Z,Z=W;for(;;){if(Z===s)break t;if(F===c&&++B===g&&(C=S),F===_&&++G===h&&(I=S),(W=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=W}c=C===-1||I===-1?null:{start:C,end:I}}else c=null}c=c||{start:0,end:0}}else c=null;for(b0={focusedElem:s,selectionRange:c},dd=!1,jt=o;jt!==null;)if(o=jt,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,jt=s;else for(;jt!==null;){switch(o=jt,_=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,c=o,g=_.memoizedProps,_=_.memoizedState,h=c.stateNode;try{var we=Js(c.type,g,c.elementType===c.type);s=h.getSnapshotBeforeUpdate(we,_),h.__reactInternalSnapshotBeforeUpdate=s}catch(_e){et(c,c.return,_e)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)w0(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":w0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,jt=s;break}jt=o.return}}function fT(s,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Gr(s,c),h&4&&Kl(5,c);break;case 1:if(Gr(s,c),h&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(S){et(c,c.return,S)}else{var g=Js(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(g,o,s.__reactInternalSnapshotBeforeUpdate)}catch(S){et(c,c.return,S)}}h&64&&sT(c),h&512&&Xl(c,c.return);break;case 3:if(Gr(s,c),h&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{$S(s,o)}catch(S){et(c,c.return,S)}}break;case 27:o===null&&h&4&&cT(c);case 26:case 5:Gr(s,c),o===null&&h&4&&oT(c),h&512&&Xl(c,c.return);break;case 12:Gr(s,c);break;case 13:Gr(s,c),h&4&&gT(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=o7.bind(null,c),E7(s,c))));break;case 22:if(h=c.memoizedState!==null||dr,!h){o=o!==null&&o.memoizedState!==null||wt,g=dr;var _=wt;dr=h,(wt=o)&&!_?Kr(s,c,(c.subtreeFlags&8772)!==0):Gr(s,c),dr=g,wt=_}break;case 30:break;default:Gr(s,c)}}function dT(s){var o=s.alternate;o!==null&&(s.alternate=null,dT(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ap(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var gt=null,pn=!1;function hr(s,o,c){for(c=c.child;c!==null;)hT(s,o,c),c=c.sibling}function hT(s,o,c){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(an,c)}catch{}switch(c.tag){case 26:wt||Oi(c,o),hr(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:wt||Oi(c,o);var h=gt,g=pn;ts(c.type)&&(gt=c.stateNode,pn=!1),hr(s,o,c),sc(c.stateNode),gt=h,pn=g;break;case 5:wt||Oi(c,o);case 6:if(h=gt,g=pn,gt=null,hr(s,o,c),gt=h,pn=g,gt!==null)if(pn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(c.stateNode)}catch(_){et(c,o,_)}else try{gt.removeChild(c.stateNode)}catch(_){et(c,o,_)}break;case 18:gt!==null&&(pn?(s=gt,tE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),hc(s)):tE(gt,c.stateNode));break;case 4:h=gt,g=pn,gt=c.stateNode.containerInfo,pn=!0,hr(s,o,c),gt=h,pn=g;break;case 0:case 11:case 14:case 15:wt||Yr(2,c,o),wt||Yr(4,c,o),hr(s,o,c);break;case 1:wt||(Oi(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&aT(c,o,h)),hr(s,o,c);break;case 21:hr(s,o,c);break;case 22:wt=(h=wt)||c.memoizedState!==null,hr(s,o,c),wt=h;break;default:hr(s,o,c)}}function gT(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{hc(s)}catch(c){et(o,o.return,c)}}function JD(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new uT),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new uT),o;default:throw Error(i(435,s.tag))}}function Km(s,o){var c=JD(s);o.forEach(function(h){var g=l7.bind(null,s,h);c.has(h)||(c.add(h),h.then(g,g))})}function An(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],_=s,S=o,C=S;e:for(;C!==null;){switch(C.tag){case 27:if(ts(C.type)){gt=C.stateNode,pn=!1;break e}break;case 5:gt=C.stateNode,pn=!1;break e;case 3:case 4:gt=C.stateNode.containerInfo,pn=!0;break e}C=C.return}if(gt===null)throw Error(i(160));hT(_,S,g),gt=null,pn=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)pT(o,s),o=o.sibling}var si=null;function pT(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:An(o,s),Rn(s),h&4&&(Yr(3,s,s.return),Kl(3,s),Yr(5,s,s.return));break;case 1:An(o,s),Rn(s),h&512&&(wt||c===null||Oi(c,c.return)),h&64&&dr&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=si;if(An(o,s),Rn(s),h&512&&(wt||c===null||Oi(c,c.return)),h&4){var _=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){e:{h=s.type,c=s.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":_=g.getElementsByTagName("title")[0],(!_||_[vl]||_[Xt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(h),g.head.insertBefore(_,g.querySelector("head > title"))),Yt(_,h,c),_[Xt]=s,Pt(_),h=_;break e;case"link":var S=cE("link","href",g).get(h+(c.href||""));if(S){for(var C=0;C<S.length;C++)if(_=S[C],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(C,1);break t}}_=g.createElement(h),Yt(_,h,c),g.head.appendChild(_);break;case"meta":if(S=cE("meta","content",g).get(h+(c.content||""))){for(C=0;C<S.length;C++)if(_=S[C],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(C,1);break t}}_=g.createElement(h),Yt(_,h,c),g.head.appendChild(_);break;default:throw Error(i(468,h))}_[Xt]=s,Pt(_),h=_}s.stateNode=h}else uE(g,s.type,s.stateNode);else s.stateNode=lE(g,h,s.memoizedProps);else _!==h?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,h===null?uE(g,s.type,s.stateNode):lE(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Wm(s,s.memoizedProps,c.memoizedProps)}break;case 27:An(o,s),Rn(s),h&512&&(wt||c===null||Oi(c,c.return)),c!==null&&h&4&&Wm(s,s.memoizedProps,c.memoizedProps);break;case 5:if(An(o,s),Rn(s),h&512&&(wt||c===null||Oi(c,c.return)),s.flags&32){g=s.stateNode;try{Ga(g,"")}catch(W){et(s,s.return,W)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,Wm(s,g,c!==null?c.memoizedProps:g)),h&1024&&(Gm=!0);break;case 6:if(An(o,s),Rn(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(W){et(s,s.return,W)}}break;case 3:if(cd=null,g=si,si=od(o.containerInfo),An(o,s),si=g,Rn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{hc(o.containerInfo)}catch(W){et(s,s.return,W)}Gm&&(Gm=!1,mT(s));break;case 4:h=si,si=od(s.stateNode.containerInfo),An(o,s),Rn(s),si=h;break;case 12:An(o,s),Rn(s);break;case 13:An(o,s),Rn(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(t0=rt()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Km(s,h)));break;case 22:g=s.memoizedState!==null;var I=c!==null&&c.memoizedState!==null,B=dr,G=wt;if(dr=B||g,wt=G||I,An(o,s),wt=G,dr=B,Rn(s),h&8192)e:for(o=s.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(c===null||I||dr||wt||ea(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){I=c=o;try{if(_=I.stateNode,g)S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=I.stateNode;var Z=I.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;C.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(W){et(I,I.return,W)}}}else if(o.tag===6){if(c===null){I=o;try{I.stateNode.nodeValue=g?"":I.memoizedProps}catch(W){et(I,I.return,W)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Km(s,c))));break;case 19:An(o,s),Rn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Km(s,h)));break;case 30:break;case 21:break;default:An(o,s),Rn(s)}}function Rn(s){var o=s.flags;if(o&2){try{for(var c,h=s.return;h!==null;){if(lT(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var g=c.stateNode,_=$m(s);Gf(s,_,g);break;case 5:var S=c.stateNode;c.flags&32&&(Ga(S,""),c.flags&=-33);var C=$m(s);Gf(s,C,S);break;case 3:case 4:var I=c.stateNode.containerInfo,B=$m(s);Ym(s,B,I);break;default:throw Error(i(161))}}catch(G){et(s,s.return,G)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function mT(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;mT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Gr(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)fT(s,o.alternate,o),o=o.sibling}function ea(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Yr(4,o,o.return),ea(o);break;case 1:Oi(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&aT(o,o.return,c),ea(o);break;case 27:sc(o.stateNode);case 26:case 5:Oi(o,o.return),ea(o);break;case 22:o.memoizedState===null&&ea(o);break;case 30:ea(o);break;default:ea(o)}s=s.sibling}}function Kr(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,g=s,_=o,S=_.flags;switch(_.tag){case 0:case 11:case 15:Kr(g,_,c),Kl(4,_);break;case 1:if(Kr(g,_,c),h=_,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(B){et(h,h.return,B)}if(h=_,g=h.updateQueue,g!==null){var C=h.stateNode;try{var I=g.shared.hiddenCallbacks;if(I!==null)for(g.shared.hiddenCallbacks=null,g=0;g<I.length;g++)WS(I[g],C)}catch(B){et(h,h.return,B)}}c&&S&64&&sT(_),Xl(_,_.return);break;case 27:cT(_);case 26:case 5:Kr(g,_,c),c&&h===null&&S&4&&oT(_),Xl(_,_.return);break;case 12:Kr(g,_,c);break;case 13:Kr(g,_,c),c&&S&4&&gT(g,_);break;case 22:_.memoizedState===null&&Kr(g,_,c),Xl(_,_.return);break;case 30:break;default:Kr(g,_,c)}o=o.sibling}}function Xm(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Pl(c))}function Qm(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Pl(s))}function Ni(s,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)_T(s,o,c,h),o=o.sibling}function _T(s,o,c,h){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Ni(s,o,c,h),g&2048&&Kl(9,o);break;case 1:Ni(s,o,c,h);break;case 3:Ni(s,o,c,h),g&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Pl(s)));break;case 12:if(g&2048){Ni(s,o,c,h),s=o.stateNode;try{var _=o.memoizedProps,S=_.id,C=_.onPostCommit;typeof C=="function"&&C(S,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(I){et(o,o.return,I)}}else Ni(s,o,c,h);break;case 13:Ni(s,o,c,h);break;case 23:break;case 22:_=o.stateNode,S=o.alternate,o.memoizedState!==null?_._visibility&2?Ni(s,o,c,h):Ql(s,o):_._visibility&2?Ni(s,o,c,h):(_._visibility|=2,go(s,o,c,h,(o.subtreeFlags&10256)!==0)),g&2048&&Xm(S,o);break;case 24:Ni(s,o,c,h),g&2048&&Qm(o.alternate,o);break;default:Ni(s,o,c,h)}}function go(s,o,c,h,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=s,S=o,C=c,I=h,B=S.flags;switch(S.tag){case 0:case 11:case 15:go(_,S,C,I,g),Kl(8,S);break;case 23:break;case 22:var G=S.stateNode;S.memoizedState!==null?G._visibility&2?go(_,S,C,I,g):Ql(_,S):(G._visibility|=2,go(_,S,C,I,g)),g&&B&2048&&Xm(S.alternate,S);break;case 24:go(_,S,C,I,g),g&&B&2048&&Qm(S.alternate,S);break;default:go(_,S,C,I,g)}o=o.sibling}}function Ql(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,h=o,g=h.flags;switch(h.tag){case 22:Ql(c,h),g&2048&&Xm(h.alternate,h);break;case 24:Ql(c,h),g&2048&&Qm(h.alternate,h);break;default:Ql(c,h)}o=o.sibling}}var Zl=8192;function po(s){if(s.subtreeFlags&Zl)for(s=s.child;s!==null;)yT(s),s=s.sibling}function yT(s){switch(s.tag){case 26:po(s),s.flags&Zl&&s.memoizedState!==null&&z7(si,s.memoizedState,s.memoizedProps);break;case 5:po(s);break;case 3:case 4:var o=si;si=od(s.stateNode.containerInfo),po(s),si=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Zl,Zl=16777216,po(s),Zl=o):po(s));break;default:po(s)}}function bT(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Jl(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];jt=h,xT(h,s)}bT(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vT(s),s=s.sibling}function vT(s){switch(s.tag){case 0:case 11:case 15:Jl(s),s.flags&2048&&Yr(9,s,s.return);break;case 3:Jl(s);break;case 12:Jl(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Kf(s)):Jl(s);break;default:Jl(s)}}function Kf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];jt=h,xT(h,s)}bT(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Yr(8,o,o.return),Kf(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Kf(o));break;default:Kf(o)}s=s.sibling}}function xT(s,o){for(;jt!==null;){var c=jt;switch(c.tag){case 0:case 11:case 15:Yr(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Pl(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,jt=h;else e:for(c=s;jt!==null;){h=jt;var g=h.sibling,_=h.return;if(dT(h),h===c){jt=null;break e}if(g!==null){g.return=_,jt=g;break e}jt=_}}}var e7={getCacheForType:function(s){var o=Qt(kt),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},t7=typeof WeakMap=="function"?WeakMap:Map,Ye=0,at=null,Pe=null,He=0,Ge=0,Mn=null,Xr=!1,mo=!1,Zm=!1,gr=0,vt=0,Qr=0,ta=0,Jm=0,$n=0,_o=0,ec=null,mn=null,e0=!1,t0=0,Xf=1/0,Qf=null,Zr=null,$t=0,Jr=null,yo=null,bo=0,n0=0,i0=null,wT=null,tc=0,r0=null;function kn(){if((Ye&2)!==0&&He!==0)return He&-He;if(L.T!==null){var s=so;return s!==0?s:f0()}return Oe()}function ST(){$n===0&&($n=(He&536870912)===0||We?zs():536870912);var s=Wn.current;return s!==null&&(s.flags|=32),$n}function On(s,o,c){(s===at&&(Ge===2||Ge===9)||s.cancelPendingCommit!==null)&&(vo(s,0),es(s,He,$n,!1)),Ri(s,c),((Ye&2)===0||s!==at)&&(s===at&&((Ye&2)===0&&(ta|=c),vt===4&&es(s,He,$n,!1)),Ii(s))}function TT(s,o,c){if((Ye&6)!==0)throw Error(i(327));var h=!c&&(o&124)===0&&(o&s.expiredLanes)===0||jn(s,o),g=h?r7(s,o):o0(s,o,!0),_=h;do{if(g===0){mo&&!h&&es(s,o,0,!1);break}else{if(c=s.current.alternate,_&&!n7(c)){g=o0(s,o,!1),_=!1;continue}if(g===2){if(_=o,s.errorRecoveryDisabledLanes&_)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var C=s;g=ec;var I=C.current.memoizedState.isDehydrated;if(I&&(vo(C,S).flags|=256),S=o0(C,S,!1),S!==2){if(Zm&&!I){C.errorRecoveryDisabledLanes|=_,ta|=_,g=4;break e}_=mn,mn=g,_!==null&&(mn===null?mn=_:mn.push.apply(mn,_))}g=S}if(_=!1,g!==2)continue}}if(g===1){vo(s,0),es(s,o,0,!0);break}e:{switch(h=s,_=g,_){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:es(h,o,$n,!Xr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(g=t0+300-rt(),10<g)){if(es(h,o,$n,!Xr),Ci(h,0,!0)!==0)break e;h.timeoutHandle=JT(ET.bind(null,h,c,mn,Qf,e0,o,$n,ta,_o,Xr,_,2,-0,0),g);break e}ET(h,c,mn,Qf,e0,o,$n,ta,_o,Xr,_,0,-0,0)}}break}while(!0);Ii(s)}function ET(s,o,c,h,g,_,S,C,I,B,G,Z,F,W){if(s.timeoutHandle=-1,Z=o.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(lc={stylesheets:null,count:0,unsuspend:j7},yT(o),Z=U7(),Z!==null)){s.cancelPendingCommit=Z(NT.bind(null,s,o,_,c,h,g,S,C,I,G,1,F,W)),es(s,_,S,!B);return}NT(s,o,_,c,h,g,S,C,I)}function n7(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],_=g.getSnapshot;g=g.value;try{if(!En(_(),g))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function es(s,o,c,h){o&=~Jm,o&=~ta,s.suspendedLanes|=o,s.pingedLanes&=~o,h&&(s.warmLanes|=o),h=s.expirationTimes;for(var g=o;0<g;){var _=31-Vt(g),S=1<<_;h[_]=-1,g&=~S}c!==0&&er(s,c,o)}function Zf(){return(Ye&6)===0?(nc(0),!1):!0}function s0(){if(Pe!==null){if(Ge===0)var s=Pe.return;else s=Pe,ar=Ks=null,wm(s),fo=null,$l=0,s=Pe;for(;s!==null;)rT(s.alternate,s),s=s.return;Pe=null}}function vo(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,v7(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),s0(),at=s,Pe=c=ir(s.current,null),He=o,Ge=0,Mn=null,Xr=!1,mo=jn(s,o),Zm=!1,_o=$n=Jm=ta=Qr=vt=0,mn=ec=null,e0=!1,(o&8)!==0&&(o|=o&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=o;0<h;){var g=31-Vt(h),_=1<<g;o|=s[g],h&=~_}return gr=o,vf(),c}function CT(s,o){ke=null,L.H=Uf,o===jl||o===Mf?(o=FS(),Ge=3):o===HS?(o=FS(),Ge=4):Ge=o===V2?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mn=o,Pe===null&&(vt=1,Vf(s,qn(o,s.current)))}function AT(){var s=L.H;return L.H=Uf,s===null?Uf:s}function RT(){var s=L.A;return L.A=e7,s}function a0(){vt=4,Xr||(He&4194048)!==He&&Wn.current!==null||(mo=!0),(Qr&134217727)===0&&(ta&134217727)===0||at===null||es(at,He,$n,!1)}function o0(s,o,c){var h=Ye;Ye|=2;var g=AT(),_=RT();(at!==s||He!==o)&&(Qf=null,vo(s,o)),o=!1;var S=vt;e:do try{if(Ge!==0&&Pe!==null){var C=Pe,I=Mn;switch(Ge){case 8:s0(),S=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(o=!0);var B=Ge;if(Ge=0,Mn=null,xo(s,C,I,B),c&&mo){S=0;break e}break;default:B=Ge,Ge=0,Mn=null,xo(s,C,I,B)}}i7(),S=vt;break}catch(G){CT(s,G)}while(!0);return o&&s.shellSuspendCounter++,ar=Ks=null,Ye=h,L.H=g,L.A=_,Pe===null&&(at=null,He=0,vf()),S}function i7(){for(;Pe!==null;)MT(Pe)}function r7(s,o){var c=Ye;Ye|=2;var h=AT(),g=RT();at!==s||He!==o?(Qf=null,Xf=rt()+500,vo(s,o)):mo=jn(s,o);e:do try{if(Ge!==0&&Pe!==null){o=Pe;var _=Mn;t:switch(Ge){case 1:Ge=0,Mn=null,xo(s,o,_,1);break;case 2:case 9:if(qS(_)){Ge=0,Mn=null,kT(o);break}o=function(){Ge!==2&&Ge!==9||at!==s||(Ge=7),Ii(s)},_.then(o,o);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:qS(_)?(Ge=0,Mn=null,kT(o)):(Ge=0,Mn=null,xo(s,o,_,7));break;case 5:var S=null;switch(Pe.tag){case 26:S=Pe.memoizedState;case 5:case 27:var C=Pe;if(!S||fE(S)){Ge=0,Mn=null;var I=C.sibling;if(I!==null)Pe=I;else{var B=C.return;B!==null?(Pe=B,Jf(B)):Pe=null}break t}}Ge=0,Mn=null,xo(s,o,_,5);break;case 6:Ge=0,Mn=null,xo(s,o,_,6);break;case 8:s0(),vt=6;break e;default:throw Error(i(462))}}s7();break}catch(G){CT(s,G)}while(!0);return ar=Ks=null,L.H=h,L.A=g,Ye=c,Pe!==null?0:(at=null,He=0,vf(),vt)}function s7(){for(;Pe!==null&&!mt();)MT(Pe)}function MT(s){var o=nT(s.alternate,s,gr);s.memoizedProps=s.pendingProps,o===null?Jf(s):Pe=o}function kT(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=X2(c,o,o.pendingProps,o.type,void 0,He);break;case 11:o=X2(c,o,o.pendingProps,o.type.render,o.ref,He);break;case 5:wm(o);default:rT(c,o),o=Pe=OS(o,gr),o=nT(c,o,gr)}s.memoizedProps=s.pendingProps,o===null?Jf(s):Pe=o}function xo(s,o,c,h){ar=Ks=null,wm(o),fo=null,$l=0;var g=o.return;try{if(GD(s,g,o,c,He)){vt=1,Vf(s,qn(c,s.current)),Pe=null;return}}catch(_){if(g!==null)throw Pe=g,_;vt=1,Vf(s,qn(c,s.current)),Pe=null;return}o.flags&32768?(We||h===1?s=!0:mo||(He&536870912)!==0?s=!1:(Xr=s=!0,(h===2||h===9||h===3||h===6)&&(h=Wn.current,h!==null&&h.tag===13&&(h.flags|=16384))),OT(o,s)):Jf(o)}function Jf(s){var o=s;do{if((o.flags&32768)!==0){OT(o,Xr);return}s=o.return;var c=XD(o.alternate,o,gr);if(c!==null){Pe=c;return}if(o=o.sibling,o!==null){Pe=o;return}Pe=o=s}while(o!==null);vt===0&&(vt=5)}function OT(s,o){do{var c=QD(s.alternate,s);if(c!==null){c.flags&=32767,Pe=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){Pe=s;return}Pe=s=c}while(s!==null);vt=6,Pe=null}function NT(s,o,c,h,g,_,S,C,I){s.cancelPendingCommit=null;do ed();while($t!==0);if((Ye&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(_=o.lanes|o.childLanes,_|=Qp,zr(s,c,_,S,C,I),s===at&&(Pe=at=null,He=0),yo=o,Jr=s,bo=c,n0=_,i0=g,wT=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,c7(Gt,function(){return jT(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=L.T,L.T=null,g=Y.p,Y.p=2,S=Ye,Ye|=4;try{ZD(s,o,c)}finally{Ye=S,Y.p=g,L.T=h}}$t=1,IT(),DT(),PT()}}function IT(){if($t===1){$t=0;var s=Jr,o=yo,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=L.T,L.T=null;var h=Y.p;Y.p=2;var g=Ye;Ye|=4;try{pT(o,s);var _=b0,S=xS(s.containerInfo),C=_.focusedElem,I=_.selectionRange;if(S!==C&&C&&C.ownerDocument&&vS(C.ownerDocument.documentElement,C)){if(I!==null&&$p(C)){var B=I.start,G=I.end;if(G===void 0&&(G=B),"selectionStart"in C)C.selectionStart=B,C.selectionEnd=Math.min(G,C.value.length);else{var Z=C.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var W=F.getSelection(),we=C.textContent.length,_e=Math.min(I.start,we),Ze=I.end===void 0?_e:Math.min(I.end,we);!W.extend&&_e>Ze&&(S=Ze,Ze=_e,_e=S);var H=bS(C,_e),j=bS(C,Ze);if(H&&j&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==j.node||W.focusOffset!==j.offset)){var q=Z.createRange();q.setStart(H.node,H.offset),W.removeAllRanges(),_e>Ze?(W.addRange(q),W.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),W.addRange(q))}}}}for(Z=[],W=C;W=W.parentNode;)W.nodeType===1&&Z.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Z.length;C++){var X=Z[C];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}dd=!!y0,b0=y0=null}finally{Ye=g,Y.p=h,L.T=c}}s.current=o,$t=2}}function DT(){if($t===2){$t=0;var s=Jr,o=yo,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=L.T,L.T=null;var h=Y.p;Y.p=2;var g=Ye;Ye|=4;try{fT(s,o.alternate,o)}finally{Ye=g,Y.p=h,L.T=c}}$t=3}}function PT(){if($t===4||$t===3){$t=0,ut();var s=Jr,o=yo,c=bo,h=wT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?$t=5:($t=0,yo=Jr=null,LT(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Zr=null),Ce(c),o=o.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(an,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=L.T,g=Y.p,Y.p=2,L.T=null;try{for(var _=s.onRecoverableError,S=0;S<h.length;S++){var C=h[S];_(C.value,{componentStack:C.stack})}}finally{L.T=o,Y.p=g}}(bo&3)!==0&&ed(),Ii(s),g=s.pendingLanes,(c&4194090)!==0&&(g&42)!==0?s===r0?tc++:(tc=0,r0=s):tc=0,nc(0)}}function LT(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Pl(o)))}function ed(s){return IT(),DT(),PT(),jT()}function jT(){if($t!==5)return!1;var s=Jr,o=n0;n0=0;var c=Ce(bo),h=L.T,g=Y.p;try{Y.p=32>c?32:c,L.T=null,c=i0,i0=null;var _=Jr,S=bo;if($t=0,yo=Jr=null,bo=0,(Ye&6)!==0)throw Error(i(331));var C=Ye;if(Ye|=4,vT(_.current),_T(_,_.current,S,c),Ye=C,nc(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(an,_)}catch{}return!0}finally{Y.p=g,L.T=h,LT(s,o)}}function zT(s,o,c){o=qn(c,o),o=Lm(s.stateNode,o,2),s=Fr(s,o,2),s!==null&&(Ri(s,2),Ii(s))}function et(s,o,c){if(s.tag===3)zT(s,s,c);else for(;o!==null;){if(o.tag===3){zT(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Zr===null||!Zr.has(h))){s=qn(c,s),c=B2(2),h=Fr(o,c,2),h!==null&&(F2(c,h,o,s),Ri(h,2),Ii(h));break}}o=o.return}}function l0(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new t7;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(c)||(Zm=!0,g.add(c),s=a7.bind(null,s,o,c),o.then(s,s))}function a7(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,at===s&&(He&c)===c&&(vt===4||vt===3&&(He&62914560)===He&&300>rt()-t0?(Ye&2)===0&&vo(s,0):Jm|=c,_o===He&&(_o=0)),Ii(s)}function UT(s,o){o===0&&(o=Us()),s=to(s,o),s!==null&&(Ri(s,o),Ii(s))}function o7(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),UT(s,c)}function l7(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(o),UT(s,c)}function c7(s,o){return ct(s,o)}var td=null,wo=null,c0=!1,nd=!1,u0=!1,na=0;function Ii(s){s!==wo&&s.next===null&&(wo===null?td=wo=s:wo=wo.next=s),nd=!0,c0||(c0=!0,f7())}function nc(s,o){if(!u0&&nd){u0=!0;do for(var c=!1,h=td;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var _=0;else{var S=h.suspendedLanes,C=h.pingedLanes;_=(1<<31-Vt(42|s)+1)-1,_&=g&~(S&~C),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,FT(h,_))}else _=He,_=Ci(h,h===at?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||jn(h,_)||(c=!0,FT(h,_));h=h.next}while(c);u0=!1}}function u7(){HT()}function HT(){nd=c0=!1;var s=0;na!==0&&(b7()&&(s=na),na=0);for(var o=rt(),c=null,h=td;h!==null;){var g=h.next,_=qT(h,o);_===0?(h.next=null,c===null?td=g:c.next=g,g===null&&(wo=c)):(c=h,(s!==0||(_&3)!==0)&&(nd=!0)),h=g}nc(s)}function qT(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var S=31-Vt(_),C=1<<S,I=g[S];I===-1?((C&c)===0||(C&h)!==0)&&(g[S]=Ai(C,o)):I<=o&&(s.expiredLanes|=C),_&=~C}if(o=at,c=He,c=Ci(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===o&&(Ge===2||Ge===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Me(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||jn(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(h!==null&&Me(h),Ce(c)){case 2:case 8:c=st;break;case 32:c=Gt;break;case 268435456:c=Pn;break;default:c=Gt}return h=BT.bind(null,s),c=ct(c,h),s.callbackPriority=o,s.callbackNode=c,o}return h!==null&&h!==null&&Me(h),s.callbackPriority=2,s.callbackNode=null,2}function BT(s,o){if($t!==0&&$t!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(ed()&&s.callbackNode!==c)return null;var h=He;return h=Ci(s,s===at?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(TT(s,h,o),qT(s,rt()),s.callbackNode!=null&&s.callbackNode===c?BT.bind(null,s):null)}function FT(s,o){if(ed())return null;TT(s,o,!0)}function f7(){x7(function(){(Ye&6)!==0?ct(Zi,u7):HT()})}function f0(){return na===0&&(na=zs()),na}function VT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:hf(""+s)}function WT(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function d7(s,o,c,h,g){if(o==="submit"&&c&&c.stateNode===g){var _=VT((g[dn]||null).action),S=h.submitter;S&&(o=(o=S[dn]||null)?VT(o.formAction):S.getAttribute("formAction"),o!==null&&(_=o,S=null));var C=new _f("action","action",null,h,g);s.push({event:C,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(na!==0){var I=S?WT(g,S):new FormData(g);Om(c,{pending:!0,data:I,method:g.method,action:_},null,I)}}else typeof _=="function"&&(C.preventDefault(),I=S?WT(g,S):new FormData(g),Om(c,{pending:!0,data:I,method:g.method,action:_},_,I))},currentTarget:g}]})}}for(var d0=0;d0<Xp.length;d0++){var h0=Xp[d0],h7=h0.toLowerCase(),g7=h0[0].toUpperCase()+h0.slice(1);ri(h7,"on"+g7)}ri(TS,"onAnimationEnd"),ri(ES,"onAnimationIteration"),ri(CS,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(OD,"onTransitionRun"),ri(ND,"onTransitionStart"),ri(ID,"onTransitionCancel"),ri(AS,"onTransitionEnd"),Wa("onMouseEnter",["mouseout","mouseover"]),Wa("onMouseLeave",["mouseout","mouseover"]),Wa("onPointerEnter",["pointerout","pointerover"]),Wa("onPointerLeave",["pointerout","pointerover"]),Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ic));function $T(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var S=h.length-1;0<=S;S--){var C=h[S],I=C.instance,B=C.currentTarget;if(C=C.listener,I!==_&&g.isPropagationStopped())break e;_=C,g.currentTarget=B;try{_(g)}catch(G){Ff(G)}g.currentTarget=null,_=I}else for(S=0;S<h.length;S++){if(C=h[S],I=C.instance,B=C.currentTarget,C=C.listener,I!==_&&g.isPropagationStopped())break e;_=C,g.currentTarget=B;try{_(g)}catch(G){Ff(G)}g.currentTarget=null,_=I}}}}function Le(s,o){var c=o[Cp];c===void 0&&(c=o[Cp]=new Set);var h=s+"__bubble";c.has(h)||(YT(o,s,2,!1),c.add(h))}function g0(s,o,c){var h=0;o&&(h|=4),YT(c,s,h,o)}var id="_reactListening"+Math.random().toString(36).slice(2);function p0(s){if(!s[id]){s[id]=!0,Hw.forEach(function(c){c!=="selectionchange"&&(p7.has(c)||g0(c,!1,s),g0(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[id]||(o[id]=!0,g0("selectionchange",!1,o))}}function YT(s,o,c,h){switch(_E(o)){case 2:var g=B7;break;case 8:g=F7;break;default:g=M0}c=g.bind(null,o,c,s),g=void 0,!jp||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function m0(s,o,c,h,g){var _=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var C=h.stateNode.containerInfo;if(C===g)break;if(S===4)for(S=h.return;S!==null;){var I=S.tag;if((I===3||I===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;C!==null;){if(S=Ba(C),S===null)return;if(I=S.tag,I===5||I===6||I===26||I===27){h=_=S;continue e}C=C.parentNode}}h=h.return}eS(function(){var B=_,G=Pp(c),Z=[];e:{var F=RS.get(s);if(F!==void 0){var W=_f,we=s;switch(s){case"keypress":if(pf(c)===0)break e;case"keydown":case"keyup":W=cD;break;case"focusin":we="focus",W=qp;break;case"focusout":we="blur",W=qp;break;case"beforeblur":case"afterblur":W=qp;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=iS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Q8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=dD;break;case TS:case ES:case CS:W=eD;break;case AS:W=gD;break;case"scroll":case"scrollend":W=K8;break;case"wheel":W=mD;break;case"copy":case"cut":case"paste":W=nD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=sS;break;case"toggle":case"beforetoggle":W=yD}var _e=(o&4)!==0,Ze=!_e&&(s==="scroll"||s==="scrollend"),H=_e?F!==null?F+"Capture":null:F;_e=[];for(var j=B,q;j!==null;){var X=j;if(q=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||q===null||H===null||(X=wl(j,H),X!=null&&_e.push(rc(j,X,q))),Ze)break;j=j.return}0<_e.length&&(F=new W(F,we,null,c,G),Z.push({event:F,listeners:_e}))}}if((o&7)===0){e:{if(F=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",F&&c!==Dp&&(we=c.relatedTarget||c.fromElement)&&(Ba(we)||we[qa]))break e;if((W||F)&&(F=G.window===G?G:(F=G.ownerDocument)?F.defaultView||F.parentWindow:window,W?(we=c.relatedTarget||c.toElement,W=B,we=we?Ba(we):null,we!==null&&(Ze=a(we),_e=we.tag,we!==Ze||_e!==5&&_e!==27&&_e!==6)&&(we=null)):(W=null,we=B),W!==we)){if(_e=iS,X="onMouseLeave",H="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(_e=sS,X="onPointerLeave",H="onPointerEnter",j="pointer"),Ze=W==null?F:xl(W),q=we==null?F:xl(we),F=new _e(X,j+"leave",W,c,G),F.target=Ze,F.relatedTarget=q,X=null,Ba(G)===B&&(_e=new _e(H,j+"enter",we,c,G),_e.target=q,_e.relatedTarget=Ze,X=_e),Ze=X,W&&we)t:{for(_e=W,H=we,j=0,q=_e;q;q=So(q))j++;for(q=0,X=H;X;X=So(X))q++;for(;0<j-q;)_e=So(_e),j--;for(;0<q-j;)H=So(H),q--;for(;j--;){if(_e===H||H!==null&&_e===H.alternate)break t;_e=So(_e),H=So(H)}_e=null}else _e=null;W!==null&&GT(Z,F,W,_e,!1),we!==null&&Ze!==null&&GT(Z,Ze,we,_e,!0)}}e:{if(F=B?xl(B):window,W=F.nodeName&&F.nodeName.toLowerCase(),W==="select"||W==="input"&&F.type==="file")var de=hS;else if(fS(F))if(gS)de=RD;else{de=CD;var Ne=ED}else W=F.nodeName,!W||W.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&Ip(B.elementType)&&(de=hS):de=AD;if(de&&(de=de(s,B))){dS(Z,de,c,G);break e}Ne&&Ne(s,F,B),s==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&Np(F,"number",F.value)}switch(Ne=B?xl(B):window,s){case"focusin":(fS(Ne)||Ne.contentEditable==="true")&&(Za=Ne,Yp=B,kl=null);break;case"focusout":kl=Yp=Za=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,wS(Z,c,G);break;case"selectionchange":if(kD)break;case"keydown":case"keyup":wS(Z,c,G)}var he;if(Fp)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Qa?cS(s,c)&&(be="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(be="onCompositionStart");be&&(aS&&c.locale!=="ko"&&(Qa||be!=="onCompositionStart"?be==="onCompositionEnd"&&Qa&&(he=tS()):(Ur=G,zp="value"in Ur?Ur.value:Ur.textContent,Qa=!0)),Ne=rd(B,be),0<Ne.length&&(be=new rS(be,s,null,c,G),Z.push({event:be,listeners:Ne}),he?be.data=he:(he=uS(c),he!==null&&(be.data=he)))),(he=vD?xD(s,c):wD(s,c))&&(be=rd(B,"onBeforeInput"),0<be.length&&(Ne=new rS("onBeforeInput","beforeinput",null,c,G),Z.push({event:Ne,listeners:be}),Ne.data=he)),d7(Z,s,B,c,G)}$T(Z,o)})}function rc(s,o,c){return{instance:s,listener:o,currentTarget:c}}function rd(s,o){for(var c=o+"Capture",h=[];s!==null;){var g=s,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=wl(s,c),g!=null&&h.unshift(rc(s,g,_)),g=wl(s,o),g!=null&&h.push(rc(s,g,_))),s.tag===3)return h;s=s.return}return[]}function So(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function GT(s,o,c,h,g){for(var _=o._reactName,S=[];c!==null&&c!==h;){var C=c,I=C.alternate,B=C.stateNode;if(C=C.tag,I!==null&&I===h)break;C!==5&&C!==26&&C!==27||B===null||(I=B,g?(B=wl(c,_),B!=null&&S.unshift(rc(c,B,I))):g||(B=wl(c,_),B!=null&&S.push(rc(c,B,I)))),c=c.return}S.length!==0&&s.push({event:o,listeners:S})}var m7=/\r\n?/g,_7=/\u0000|\uFFFD/g;function KT(s){return(typeof s=="string"?s:""+s).replace(m7,`
`).replace(_7,"")}function XT(s,o){return o=KT(o),KT(s)===o}function sd(){}function Qe(s,o,c,h,g,_){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Ga(s,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Ga(s,""+h);break;case"className":uf(s,"class",h);break;case"tabIndex":uf(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":uf(s,c,h);break;case"style":Zw(s,h,_);break;case"data":if(o!=="object"){uf(s,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=hf(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(o!=="input"&&Qe(s,o,"name",g.name,g,null),Qe(s,o,"formEncType",g.formEncType,g,null),Qe(s,o,"formMethod",g.formMethod,g,null),Qe(s,o,"formTarget",g.formTarget,g,null)):(Qe(s,o,"encType",g.encType,g,null),Qe(s,o,"method",g.method,g,null),Qe(s,o,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=hf(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=sd);break;case"onScroll":h!=null&&Le("scroll",s);break;case"onScrollEnd":h!=null&&Le("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=hf(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Le("beforetoggle",s),Le("toggle",s),cf(s,"popover",h);break;case"xlinkActuate":tr(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":tr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":tr(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":tr(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":tr(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":tr(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":tr(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":tr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":tr(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":cf(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Y8.get(c)||c,cf(s,c,h))}}function _0(s,o,c,h,g,_){switch(c){case"style":Zw(s,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Ga(s,h):(typeof h=="number"||typeof h=="bigint")&&Ga(s,""+h);break;case"onScroll":h!=null&&Le("scroll",s);break;case"onScrollEnd":h!=null&&Le("scrollend",s);break;case"onClick":h!=null&&(s.onclick=sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qw.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),o=c.slice(2,g?c.length-7:void 0),_=s[dn]||null,_=_!=null?_[c]:null,typeof _=="function"&&s.removeEventListener(o,_,g),typeof h=="function")){typeof _!="function"&&_!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,h,g);break e}c in s?s[c]=h:h===!0?s.setAttribute(c,""):cf(s,c,h)}}}function Yt(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",s),Le("load",s);var h=!1,g=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var S=c[_];if(S!=null)switch(_){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Qe(s,o,_,S,c,null)}}g&&Qe(s,o,"srcSet",c.srcSet,c,null),h&&Qe(s,o,"src",c.src,c,null);return;case"input":Le("invalid",s);var C=_=S=g=null,I=null,B=null;for(h in c)if(c.hasOwnProperty(h)){var G=c[h];if(G!=null)switch(h){case"name":g=G;break;case"type":S=G;break;case"checked":I=G;break;case"defaultChecked":B=G;break;case"value":_=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,o));break;default:Qe(s,o,h,G,c,null)}}Gw(s,_,C,I,B,S,g,!1),ff(s);return;case"select":Le("invalid",s),h=S=_=null;for(g in c)if(c.hasOwnProperty(g)&&(C=c[g],C!=null))switch(g){case"value":_=C;break;case"defaultValue":S=C;break;case"multiple":h=C;default:Qe(s,o,g,C,c,null)}o=_,c=S,s.multiple=!!h,o!=null?Ya(s,!!h,o,!1):c!=null&&Ya(s,!!h,c,!0);return;case"textarea":Le("invalid",s),_=g=h=null;for(S in c)if(c.hasOwnProperty(S)&&(C=c[S],C!=null))switch(S){case"value":h=C;break;case"defaultValue":g=C;break;case"children":_=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:Qe(s,o,S,C,c,null)}Xw(s,h,g,_),ff(s);return;case"option":for(I in c)if(c.hasOwnProperty(I)&&(h=c[I],h!=null))switch(I){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Qe(s,o,I,h,c,null)}return;case"dialog":Le("beforetoggle",s),Le("toggle",s),Le("cancel",s),Le("close",s);break;case"iframe":case"object":Le("load",s);break;case"video":case"audio":for(h=0;h<ic.length;h++)Le(ic[h],s);break;case"image":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"embed":case"source":case"link":Le("error",s),Le("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in c)if(c.hasOwnProperty(B)&&(h=c[B],h!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Qe(s,o,B,h,c,null)}return;default:if(Ip(o)){for(G in c)c.hasOwnProperty(G)&&(h=c[G],h!==void 0&&_0(s,o,G,h,c,void 0));return}}for(C in c)c.hasOwnProperty(C)&&(h=c[C],h!=null&&Qe(s,o,C,h,c,null))}function y7(s,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,S=null,C=null,I=null,B=null,G=null;for(W in c){var Z=c[W];if(c.hasOwnProperty(W)&&Z!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":I=Z;default:h.hasOwnProperty(W)||Qe(s,o,W,null,h,Z)}}for(var F in h){var W=h[F];if(Z=c[F],h.hasOwnProperty(F)&&(W!=null||Z!=null))switch(F){case"type":_=W;break;case"name":g=W;break;case"checked":B=W;break;case"defaultChecked":G=W;break;case"value":S=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,o));break;default:W!==Z&&Qe(s,o,F,W,h,Z)}}Op(s,S,C,I,B,G,_,g);return;case"select":W=S=C=F=null;for(_ in c)if(I=c[_],c.hasOwnProperty(_)&&I!=null)switch(_){case"value":break;case"multiple":W=I;default:h.hasOwnProperty(_)||Qe(s,o,_,null,h,I)}for(g in h)if(_=h[g],I=c[g],h.hasOwnProperty(g)&&(_!=null||I!=null))switch(g){case"value":F=_;break;case"defaultValue":C=_;break;case"multiple":S=_;default:_!==I&&Qe(s,o,g,_,h,I)}o=C,c=S,h=W,F!=null?Ya(s,!!c,F,!1):!!h!=!!c&&(o!=null?Ya(s,!!c,o,!0):Ya(s,!!c,c?[]:"",!1));return;case"textarea":W=F=null;for(C in c)if(g=c[C],c.hasOwnProperty(C)&&g!=null&&!h.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Qe(s,o,C,null,h,g)}for(S in h)if(g=h[S],_=c[S],h.hasOwnProperty(S)&&(g!=null||_!=null))switch(S){case"value":F=g;break;case"defaultValue":W=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==_&&Qe(s,o,S,g,h,_)}Kw(s,F,W);return;case"option":for(var we in c)if(F=c[we],c.hasOwnProperty(we)&&F!=null&&!h.hasOwnProperty(we))switch(we){case"selected":s.selected=!1;break;default:Qe(s,o,we,null,h,F)}for(I in h)if(F=h[I],W=c[I],h.hasOwnProperty(I)&&F!==W&&(F!=null||W!=null))switch(I){case"selected":s.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Qe(s,o,I,F,h,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in c)F=c[_e],c.hasOwnProperty(_e)&&F!=null&&!h.hasOwnProperty(_e)&&Qe(s,o,_e,null,h,F);for(B in h)if(F=h[B],W=c[B],h.hasOwnProperty(B)&&F!==W&&(F!=null||W!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,o));break;default:Qe(s,o,B,F,h,W)}return;default:if(Ip(o)){for(var Ze in c)F=c[Ze],c.hasOwnProperty(Ze)&&F!==void 0&&!h.hasOwnProperty(Ze)&&_0(s,o,Ze,void 0,h,F);for(G in h)F=h[G],W=c[G],!h.hasOwnProperty(G)||F===W||F===void 0&&W===void 0||_0(s,o,G,F,h,W);return}}for(var H in c)F=c[H],c.hasOwnProperty(H)&&F!=null&&!h.hasOwnProperty(H)&&Qe(s,o,H,null,h,F);for(Z in h)F=h[Z],W=c[Z],!h.hasOwnProperty(Z)||F===W||F==null&&W==null||Qe(s,o,Z,F,h,W)}var y0=null,b0=null;function ad(s){return s.nodeType===9?s:s.ownerDocument}function QT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZT(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function v0(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var x0=null;function b7(){var s=window.event;return s&&s.type==="popstate"?s===x0?!1:(x0=s,!0):(x0=null,!1)}var JT=typeof setTimeout=="function"?setTimeout:void 0,v7=typeof clearTimeout=="function"?clearTimeout:void 0,eE=typeof Promise=="function"?Promise:void 0,x7=typeof queueMicrotask=="function"?queueMicrotask:typeof eE<"u"?function(s){return eE.resolve(null).then(s).catch(w7)}:JT;function w7(s){setTimeout(function(){throw s})}function ts(s){return s==="head"}function tE(s,o){var c=o,h=0,g=0;do{var _=c.nextSibling;if(s.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"){if(0<h&&8>h){c=h;var S=s.ownerDocument;if(c&1&&sc(S.documentElement),c&2&&sc(S.body),c&4)for(c=S.head,sc(c),S=c.firstChild;S;){var C=S.nextSibling,I=S.nodeName;S[vl]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=C}}if(g===0){s.removeChild(_),hc(o);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:h=c.charCodeAt(0)-48;else h=0;c=_}while(c);hc(o)}function w0(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":w0(c),Ap(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function S7(s,o,c,h){for(;s.nodeType===1;){var g=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[vl])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=ai(s.nextSibling),s===null)break}return null}function T7(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ai(s.nextSibling),s===null))return null;return s}function S0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function E7(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function ai(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var T0=null;function nE(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function iE(s,o,c){switch(o=ad(c),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function sc(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Ap(s)}var Yn=new Map,rE=new Set;function od(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var pr=Y.d;Y.d={f:C7,r:A7,D:R7,C:M7,L:k7,m:O7,X:I7,S:N7,M:D7};function C7(){var s=pr.f(),o=Zf();return s||o}function A7(s){var o=Fa(s);o!==null&&o.tag===5&&o.type==="form"?T2(o):pr.r(s)}var To=typeof document>"u"?null:document;function sE(s,o,c){var h=To;if(h&&typeof o=="string"&&o){var g=Hn(o);g='link[rel="'+s+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),rE.has(g)||(rE.add(g),s={rel:s,crossOrigin:c,href:o},h.querySelector(g)===null&&(o=h.createElement("link"),Yt(o,"link",s),Pt(o),h.head.appendChild(o)))}}function R7(s){pr.D(s),sE("dns-prefetch",s,null)}function M7(s,o){pr.C(s,o),sE("preconnect",s,o)}function k7(s,o,c){pr.L(s,o,c);var h=To;if(h&&s&&o){var g='link[rel="preload"][as="'+Hn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Hn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Hn(c.imageSizes)+'"]')):g+='[href="'+Hn(s)+'"]';var _=g;switch(o){case"style":_=Eo(s);break;case"script":_=Co(s)}Yn.has(_)||(s=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),Yn.set(_,s),h.querySelector(g)!==null||o==="style"&&h.querySelector(ac(_))||o==="script"&&h.querySelector(oc(_))||(o=h.createElement("link"),Yt(o,"link",s),Pt(o),h.head.appendChild(o)))}}function O7(s,o){pr.m(s,o);var c=To;if(c&&s){var h=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Hn(h)+'"][href="'+Hn(s)+'"]',_=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Co(s)}if(!Yn.has(_)&&(s=p({rel:"modulepreload",href:s},o),Yn.set(_,s),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(oc(_)))return}h=c.createElement("link"),Yt(h,"link",s),Pt(h),c.head.appendChild(h)}}}function N7(s,o,c){pr.S(s,o,c);var h=To;if(h&&s){var g=Va(h).hoistableStyles,_=Eo(s);o=o||"default";var S=g.get(_);if(!S){var C={loading:0,preload:null};if(S=h.querySelector(ac(_)))C.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":o},c),(c=Yn.get(_))&&E0(s,c);var I=S=h.createElement("link");Pt(I),Yt(I,"link",s),I._p=new Promise(function(B,G){I.onload=B,I.onerror=G}),I.addEventListener("load",function(){C.loading|=1}),I.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ld(S,o,h)}S={type:"stylesheet",instance:S,count:1,state:C},g.set(_,S)}}}function I7(s,o){pr.X(s,o);var c=To;if(c&&s){var h=Va(c).hoistableScripts,g=Co(s),_=h.get(g);_||(_=c.querySelector(oc(g)),_||(s=p({src:s,async:!0},o),(o=Yn.get(g))&&C0(s,o),_=c.createElement("script"),Pt(_),Yt(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function D7(s,o){pr.M(s,o);var c=To;if(c&&s){var h=Va(c).hoistableScripts,g=Co(s),_=h.get(g);_||(_=c.querySelector(oc(g)),_||(s=p({src:s,async:!0,type:"module"},o),(o=Yn.get(g))&&C0(s,o),_=c.createElement("script"),Pt(_),Yt(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function aE(s,o,c,h){var g=(g=fe.current)?od(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Eo(c.href),c=Va(g).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Eo(c.href);var _=Va(g).hoistableStyles,S=_.get(s);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,S),(_=g.querySelector(ac(s)))&&!_._p&&(S.instance=_,S.state.loading=5),Yn.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Yn.set(s,c),_||P7(g,s,c,S.state))),o&&h===null)throw Error(i(528,""));return S}if(o&&h!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Co(c),c=Va(g).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Eo(s){return'href="'+Hn(s)+'"'}function ac(s){return'link[rel="stylesheet"]['+s+"]"}function oE(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function P7(s,o,c,h){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=s.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Yt(o,"link",c),Pt(o),s.head.appendChild(o))}function Co(s){return'[src="'+Hn(s)+'"]'}function oc(s){return"script[async]"+s}function lE(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=s.querySelector('style[data-href~="'+Hn(c.href)+'"]');if(h)return o.instance=h,Pt(h),h;var g=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Pt(h),Yt(h,"style",g),ld(h,c.precedence,s),o.instance=h;case"stylesheet":g=Eo(c.href);var _=s.querySelector(ac(g));if(_)return o.state.loading|=4,o.instance=_,Pt(_),_;h=oE(c),(g=Yn.get(g))&&E0(h,g),_=(s.ownerDocument||s).createElement("link"),Pt(_);var S=_;return S._p=new Promise(function(C,I){S.onload=C,S.onerror=I}),Yt(_,"link",h),o.state.loading|=4,ld(_,c.precedence,s),o.instance=_;case"script":return _=Co(c.src),(g=s.querySelector(oc(_)))?(o.instance=g,Pt(g),g):(h=c,(g=Yn.get(_))&&(h=p({},c),C0(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),Pt(g),Yt(g,"link",h),s.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,ld(h,c.precedence,s));return o.instance}function ld(s,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,_=g,S=0;S<h.length;S++){var C=h[S];if(C.dataset.precedence===o)_=C;else if(_!==g)break}_?_.parentNode.insertBefore(s,_.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function E0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function C0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var cd=null;function cE(s,o,c){if(cd===null){var h=new Map,g=cd=new Map;g.set(c,h)}else g=cd,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),g=0;g<c.length;g++){var _=c[g];if(!(_[vl]||_[Xt]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var S=_.getAttribute(o)||"";S=s+S;var C=h.get(S);C?C.push(_):h.set(S,[_])}}return h}function uE(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function L7(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function fE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var lc=null;function j7(){}function z7(s,o,c){if(lc===null)throw Error(i(475));var h=lc;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Eo(c.href),_=s.querySelector(ac(g));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=ud.bind(h),s.then(h,h)),o.state.loading|=4,o.instance=_,Pt(_);return}_=s.ownerDocument||s,c=oE(c),(g=Yn.get(g))&&E0(c,g),_=_.createElement("link"),Pt(_);var S=_;S._p=new Promise(function(C,I){S.onload=C,S.onerror=I}),Yt(_,"link",c),o.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=ud.bind(h),s.addEventListener("load",o),s.addEventListener("error",o))}}function U7(){if(lc===null)throw Error(i(475));var s=lc;return s.stylesheets&&s.count===0&&A0(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&A0(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function ud(){if(this.count--,this.count===0){if(this.stylesheets)A0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var fd=null;function A0(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,fd=new Map,o.forEach(H7,s),fd=null,ud.call(s))}function H7(s,o){if(!(o.state.loading&4)){var c=fd.get(s);if(c)var h=c.get(null);else{c=new Map,fd.set(s,c);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var S=g[_];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),h=S)}h&&c.set(null,h)}g=o.instance,S=g.getAttribute("data-precedence"),_=c.get(S)||h,_===h&&c.set(null,g),c.set(S,g),this.count++,h=ud.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),_?_.parentNode.insertBefore(g,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),o.state.loading|=4}}var cc={$$typeof:O,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function q7(s,o,c,h,g,_,S,C){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.hiddenUpdates=Mt(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function dE(s,o,c,h,g,_,S,C,I,B,G,Z){return s=new q7(s,o,c,S,C,I,B,Z),o=1,_===!0&&(o|=24),_=Cn(3,null,null,o),s.current=_,_.stateNode=s,o=lm(),o.refCount++,s.pooledCache=o,o.refCount++,_.memoizedState={element:h,isDehydrated:c,cache:o},dm(_),s}function hE(s){return s?(s=no,s):no}function gE(s,o,c,h,g,_){g=hE(g),h.context===null?h.context=g:h.pendingContext=g,h=Br(o),h.payload={element:c},_=_===void 0?null:_,_!==null&&(h.callback=_),c=Fr(s,h,o),c!==null&&(On(c,s,o),Ul(c,s,o))}function pE(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function R0(s,o){pE(s,o),(s=s.alternate)&&pE(s,o)}function mE(s){if(s.tag===13){var o=to(s,67108864);o!==null&&On(o,s,67108864),R0(s,67108864)}}var dd=!0;function B7(s,o,c,h){var g=L.T;L.T=null;var _=Y.p;try{Y.p=2,M0(s,o,c,h)}finally{Y.p=_,L.T=g}}function F7(s,o,c,h){var g=L.T;L.T=null;var _=Y.p;try{Y.p=8,M0(s,o,c,h)}finally{Y.p=_,L.T=g}}function M0(s,o,c,h){if(dd){var g=k0(h);if(g===null)m0(s,o,h,hd,c),yE(s,h);else if(W7(g,s,o,c,h))h.stopPropagation();else if(yE(s,h),o&4&&-1<V7.indexOf(s)){for(;g!==null;){var _=Fa(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var S=fn(_.pendingLanes);if(S!==0){var C=_;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var I=1<<31-Vt(S);C.entanglements[1]|=I,S&=~I}Ii(_),(Ye&6)===0&&(Xf=rt()+500,nc(0))}}break;case 13:C=to(_,2),C!==null&&On(C,_,2),Zf(),R0(_,2)}if(_=k0(h),_===null&&m0(s,o,h,hd,c),_===g)break;g=_}g!==null&&h.stopPropagation()}else m0(s,o,h,null,c)}}function k0(s){return s=Pp(s),O0(s)}var hd=null;function O0(s){if(hd=null,s=Ba(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return hd=s,null}function _E(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ii()){case Zi:return 2;case st:return 8;case Gt:case Kt:return 32;case Pn:return 268435456;default:return 32}default:return 32}}var N0=!1,ns=null,is=null,rs=null,uc=new Map,fc=new Map,ss=[],V7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yE(s,o){switch(s){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":uc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(o.pointerId)}}function dc(s,o,c,h,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},o!==null&&(o=Fa(o),o!==null&&mE(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function W7(s,o,c,h,g){switch(o){case"focusin":return ns=dc(ns,s,o,c,h,g),!0;case"dragenter":return is=dc(is,s,o,c,h,g),!0;case"mouseover":return rs=dc(rs,s,o,c,h,g),!0;case"pointerover":var _=g.pointerId;return uc.set(_,dc(uc.get(_)||null,s,o,c,h,g)),!0;case"gotpointercapture":return _=g.pointerId,fc.set(_,dc(fc.get(_)||null,s,o,c,h,g)),!0}return!1}function bE(s){var o=Ba(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,bl(s.priority,function(){if(c.tag===13){var h=kn();h=yl(h);var g=to(c,h);g!==null&&On(g,c,h),R0(c,h)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function gd(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=k0(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Dp=h,c.target.dispatchEvent(h),Dp=null}else return o=Fa(c),o!==null&&mE(o),s.blockedOn=c,!1;o.shift()}return!0}function vE(s,o,c){gd(s)&&c.delete(o)}function $7(){N0=!1,ns!==null&&gd(ns)&&(ns=null),is!==null&&gd(is)&&(is=null),rs!==null&&gd(rs)&&(rs=null),uc.forEach(vE),fc.forEach(vE)}function pd(s,o){s.blockedOn===o&&(s.blockedOn=null,N0||(N0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$7)))}var md=null;function xE(s){md!==s&&(md=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){md===s&&(md=null);for(var o=0;o<s.length;o+=3){var c=s[o],h=s[o+1],g=s[o+2];if(typeof h!="function"){if(O0(h||c)===null)continue;break}var _=Fa(c);_!==null&&(s.splice(o,3),o-=3,Om(_,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function hc(s){function o(I){return pd(I,s)}ns!==null&&pd(ns,s),is!==null&&pd(is,s),rs!==null&&pd(rs,s),uc.forEach(o),fc.forEach(o);for(var c=0;c<ss.length;c++){var h=ss[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<ss.length&&(c=ss[0],c.blockedOn===null);)bE(c),c.blockedOn===null&&ss.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],_=c[h+1],S=g[dn]||null;if(typeof _=="function")S||xE(c);else if(S){var C=null;if(_&&_.hasAttribute("formAction")){if(g=_,S=_[dn]||null)C=S.formAction;else if(O0(g)!==null)continue}else C=S.action;typeof C=="function"?c[h+1]=C:(c.splice(h,3),h-=3),xE(c)}}}function I0(s){this._internalRoot=s}_d.prototype.render=I0.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,h=kn();gE(c,h,s,o,null,null)},_d.prototype.unmount=I0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;gE(s.current,2,null,s,null,null),Zf(),o[qa]=null}};function _d(s){this._internalRoot=s}_d.prototype.unstable_scheduleHydration=function(s){if(s){var o=Oe();s={blockedOn:null,target:s,priority:o};for(var c=0;c<ss.length&&o!==0&&o<ss[c].priority;c++);ss.splice(c,0,s),c===0&&bE(s)}};var wE=e.version;if(wE!=="19.1.0")throw Error(i(527,wE,"19.1.0"));Y.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(o),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var Y7={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{an=yd.inject(Y7),Rt=yd}catch{}}return pc.createRoot=function(s,o){if(!r(s))throw Error(i(299));var c=!1,h="",g=z2,_=U2,S=H2,C=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks)),o=dE(s,1,!1,null,null,c,h,g,_,S,C,null),s[qa]=o.current,p0(s),new I0(o)},pc.hydrateRoot=function(s,o,c){if(!r(s))throw Error(i(299));var h=!1,g="",_=z2,S=U2,C=H2,I=null,B=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(C=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(I=c.unstable_transitionCallbacks),c.formState!==void 0&&(B=c.formState)),o=dE(s,1,!0,o,c??null,h,g,_,S,C,I,B),o.context=hE(null),c=o.current,h=kn(),h=yl(h),g=Br(h),g.callback=null,Fr(c,g,h),c=h,o.current.lanes=c,Ri(o,c),Ii(o),s[qa]=o.current,p0(s),new _d(o)},pc.version="19.1.0",pc}var NE;function r9(){if(NE)return L0.exports;NE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),L0.exports=i9(),L0.exports}var s9=r9(),mc={},IE;function a9(){if(IE)return mc;IE=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.parse=l,mc.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,a=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,b){const v=new a,x=y.length;if(x<2)return v;const w=(b==null?void 0:b.decode)||p;let E=0;do{const k=y.indexOf("=",E);if(k===-1)break;const O=y.indexOf(";",E),A=O===-1?x:O;if(k>A){E=y.lastIndexOf(";",k-1)+1;continue}const M=u(y,E,k),R=f(y,k,M),P=y.slice(M,R);if(v[P]===void 0){let z=u(y,k+1,A),V=f(y,A,z);const $=w(y.slice(z,V));v[P]=$}E=A+1}while(E<x);return v}function u(y,b,v){do{const x=y.charCodeAt(b);if(x!==32&&x!==9)return b}while(++b<v);return v}function f(y,b,v){for(;b>v;){const x=y.charCodeAt(--b);if(x!==32&&x!==9)return b+1}return v}function d(y,b,v){const x=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const w=x(b);if(!e.test(w))throw new TypeError(`argument val is invalid: ${b}`);let E=y+"="+w;if(!v)return E;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);E+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);E+="; Domain="+v.domain}if(v.path){if(!i.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);E+="; Path="+v.path}if(v.expires){if(!m(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);E+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(E+="; HttpOnly"),v.secure&&(E+="; Secure"),v.partitioned&&(E+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return E}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return r.call(y)==="[object Date]"}return mc}a9();var DE="popstate";function o9(t={}){function e(i,r){let{pathname:a,search:l,hash:u}=i.location;return Mv("",{pathname:a,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:uu(r)}return c9(e,n,null,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function l9(){return Math.random().toString(36).substring(2,10)}function PE(t,e){return{usr:t.state,key:t.key,idx:e}}function Mv(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?rl(e):e,state:n,key:e&&e.key||i||l9()}}function uu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function c9(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,l=r.history,u="POP",f=null,d=p();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let w=p(),E=w==null?null:w-d;d=w,f&&f({action:u,location:x.location,delta:E})}function y(w,E){u="PUSH";let k=Mv(x.location,w,E);d=p()+1;let O=PE(k,d),A=x.createHref(k);try{l.pushState(O,"",A)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(A)}a&&f&&f({action:u,location:x.location,delta:1})}function b(w,E){u="REPLACE";let k=Mv(x.location,w,E);d=p();let O=PE(k,d),A=x.createHref(k);l.replaceState(O,"",A),a&&f&&f({action:u,location:x.location,delta:0})}function v(w){let E=r.location.origin!=="null"?r.location.origin:r.location.href,k=typeof w=="string"?w:uu(w);return k=k.replace(/ $/,"%20"),pt(E,`No window.location.(origin|href) available to create URL for href: ${k}`),new URL(k,E)}let x={get action(){return u},get location(){return t(r,l)},listen(w){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(DE,m),f=w,()=>{r.removeEventListener(DE,m),f=null}},createHref(w){return e(r,w)},createURL:v,encodeLocation(w){let E=v(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:b,go(w){return l.go(w)}};return x}function zO(t,e,n="/"){return u9(t,e,n,!1)}function u9(t,e,n,i){let r=typeof e=="string"?rl(e):e,a=Rr(r.pathname||"/",n);if(a==null)return null;let l=UO(t);f9(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let d=w9(a);u=v9(l[f],d,i)}return u}function UO(t,e=[],n=[],i=""){let r=(a,l,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(pt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let d=Er([i,f.relativePath]),p=n.concat(f);a.children&&a.children.length>0&&(pt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),UO(a.children,e,p,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:y9(d,a.index),routesMeta:p})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))r(a,l);else for(let f of HO(a.path))r(a,l,f)}),e}function HO(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let l=HO(i.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),r&&u.push(...l),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function f9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:b9(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var d9=/^:[\w-]+$/,h9=3,g9=2,p9=1,m9=10,_9=-2,LE=t=>t==="*";function y9(t,e){let n=t.split("/"),i=n.length;return n.some(LE)&&(i+=_9),e&&(i+=g9),n.filter(r=>!LE(r)).reduce((r,a)=>r+(d9.test(a)?h9:a===""?p9:m9),i)}function b9(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function v9(t,e,n=!1){let{routesMeta:i}=t,r={},a="/",l=[];for(let u=0;u<i.length;++u){let f=i[u],d=u===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",m=sh({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),y=f.route;if(!m&&d&&n&&!i[i.length-1].route.index&&(m=sh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:Er([a,m.pathname]),pathnameBase:C9(Er([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=Er([a,m.pathnameBase]))}return l}function sh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=x9(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:m},y)=>{if(p==="*"){let v=u[y]||"";l=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const b=u[y];return m&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:t}}function x9(t,e=!1,n=!0){yi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function w9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function S9(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?rl(t):t;return{pathname:n?n.startsWith("/")?n:T9(n,e):e,search:A9(i),hash:R9(r)}}function T9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function H0(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function A1(t){let e=E9(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function R1(t,e,n,i=!1){let r;typeof t=="string"?r=rl(t):(r={...t},pt(!r.pathname||!r.pathname.includes("?"),H0("?","pathname","search",r)),pt(!r.pathname||!r.pathname.includes("#"),H0("#","pathname","hash",r)),pt(!r.search||!r.search.includes("#"),H0("#","search","hash",r)));let a=t===""||r.pathname==="",l=a?"/":r.pathname,u;if(l==null)u=n;else{let m=e.length-1;if(!i&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),m-=1;r.pathname=y.join("/")}u=m>=0?e[m]:"/"}let f=S9(r,u),d=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var Er=t=>t.join("/").replace(/\/\/+/g,"/"),C9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),A9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function M9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var qO=["POST","PUT","PATCH","DELETE"];new Set(qO);var k9=["GET",...qO];new Set(k9);var sl=N.createContext(null);sl.displayName="DataRouter";var eg=N.createContext(null);eg.displayName="DataRouterState";var BO=N.createContext({isTransitioning:!1});BO.displayName="ViewTransition";var O9=N.createContext(new Map);O9.displayName="Fetchers";var N9=N.createContext(null);N9.displayName="Await";var wi=N.createContext(null);wi.displayName="Navigation";var Bu=N.createContext(null);Bu.displayName="Location";var $i=N.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var M1=N.createContext(null);M1.displayName="RouteError";function I9(t,{relative:e}={}){pt(al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(wi),{hash:r,pathname:a,search:l}=Fu(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Er([n,a])),i.createHref({pathname:u,search:l,hash:r})}function al(){return N.useContext(Bu)!=null}function Ir(){return pt(al(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Bu).location}var FO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VO(t){N.useContext(wi).static||N.useLayoutEffect(t)}function k1(){let{isDataRoute:t}=N.useContext($i);return t?$9():D9()}function D9(){pt(al(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(sl),{basename:e,navigator:n}=N.useContext(wi),{matches:i}=N.useContext($i),{pathname:r}=Ir(),a=JSON.stringify(A1(i)),l=N.useRef(!1);return VO(()=>{l.current=!0}),N.useCallback((f,d={})=>{if(yi(l.current,FO),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=R1(f,JSON.parse(a),r,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Er([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,a,r,t])}N.createContext(null);function Fu(t,{relative:e}={}){let{matches:n}=N.useContext($i),{pathname:i}=Ir(),r=JSON.stringify(A1(n));return N.useMemo(()=>R1(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function P9(t,e){return WO(t,e)}function WO(t,e,n,i){var k;pt(al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:a}=N.useContext(wi),{matches:l}=N.useContext($i),u=l[l.length-1],f=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let O=m&&m.path||"";$O(d,!m||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=Ir(),b;if(e){let O=typeof e=="string"?rl(e):e;pt(p==="/"||((k=O.pathname)==null?void 0:k.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),b=O}else b=y;let v=b.pathname||"/",x=v;if(p!=="/"){let O=p.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(O.length).join("/")}let w=!a&&n&&n.matches&&n.matches.length>0?n.matches:zO(t,{pathname:x});yi(m||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),yi(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=H9(w&&w.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:Er([p,r.encodeLocation?r.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:Er([p,r.encodeLocation?r.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,n,i);return e&&E?N.createElement(Bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},E):E}function L9(){let t=W9(),e=M9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:r},n):null,l)}var j9=N.createElement(L9,null),z9=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement($i.Provider,{value:this.props.routeContext},N.createElement(M1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function U9({routeContext:t,match:e,children:n}){let i=N.useContext(sl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement($i.Provider,{value:t},n)}function H9(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,a=n==null?void 0:n.errors;if(a!=null){let f=r.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);pt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<r.length;f++){let d=r[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:p,errors:m}=n,y=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((f,d,p)=>{let m,y=!1,b=null,v=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,b=d.route.errorElement||j9,l&&(u<0&&p===0?($O("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,v=null):u===p&&(y=!0,v=d.route.hydrateFallbackElement||null)));let x=e.concat(r.slice(0,p+1)),w=()=>{let E;return m?E=b:y?E=v:d.route.Component?E=N.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=f,N.createElement(U9,{match:d,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?N.createElement(z9,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}function O1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q9(t){let e=N.useContext(sl);return pt(e,O1(t)),e}function B9(t){let e=N.useContext(eg);return pt(e,O1(t)),e}function F9(t){let e=N.useContext($i);return pt(e,O1(t)),e}function N1(t){let e=F9(t),n=e.matches[e.matches.length-1];return pt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function V9(){return N1("useRouteId")}function W9(){var i;let t=N.useContext(M1),e=B9("useRouteError"),n=N1("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function $9(){let{router:t}=q9("useNavigate"),e=N1("useNavigate"),n=N.useRef(!1);return VO(()=>{n.current=!0}),N.useCallback(async(r,a={})=>{yi(n.current,FO),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...a}))},[t,e])}var jE={};function $O(t,e,n){!e&&!jE[t]&&(jE[t]=!0,yi(!1,n))}N.memo(Y9);function Y9({routes:t,future:e,state:n}){return WO(t,void 0,n,e)}function G9({to:t,replace:e,state:n,relative:i}){pt(al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=N.useContext(wi);yi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=N.useContext($i),{pathname:l}=Ir(),u=k1(),f=R1(t,A1(a),l,i==="path"),d=JSON.stringify(f);return N.useEffect(()=>{u(JSON.parse(d),{replace:e,state:n,relative:i})},[u,d,i,e,n]),null}function Vd(t){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K9({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:a=!1}){pt(!al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:r,static:a,future:{}}),[l,r,a]);typeof n=="string"&&(n=rl(n));let{pathname:f="/",search:d="",hash:p="",state:m=null,key:y="default"}=n,b=N.useMemo(()=>{let v=Rr(f,l);return v==null?null:{location:{pathname:v,search:d,hash:p,state:m,key:y},navigationType:i}},[l,f,d,p,m,y,i]);return yi(b!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:N.createElement(wi.Provider,{value:u},N.createElement(Bu.Provider,{children:e,value:b}))}function X9({children:t,location:e}){return P9(kv(t),e)}function kv(t,e=[]){let n=[];return N.Children.forEach(t,(i,r)=>{if(!N.isValidElement(i))return;let a=[...e,r];if(i.type===N.Fragment){n.push.apply(n,kv(i.props.children,a));return}pt(i.type===Vd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=kv(i.props.children,a)),n.push(l)}),n}var Wd="get",$d="application/x-www-form-urlencoded";function tg(t){return t!=null&&typeof t.tagName=="string"}function Q9(t){return tg(t)&&t.tagName.toLowerCase()==="button"}function Z9(t){return tg(t)&&t.tagName.toLowerCase()==="form"}function J9(t){return tg(t)&&t.tagName.toLowerCase()==="input"}function eP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tP(t,e){return t.button===0&&(!e||e==="_self")&&!eP(t)}var vd=null;function nP(){if(vd===null)try{new FormData(document.createElement("form"),0),vd=!1}catch{vd=!0}return vd}var iP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function q0(t){return t!=null&&!iP.has(t)?(yi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$d}"`),null):t}function rP(t,e){let n,i,r,a,l;if(Z9(t)){let u=t.getAttribute("action");i=u?Rr(u,e):null,n=t.getAttribute("method")||Wd,r=q0(t.getAttribute("enctype"))||$d,a=new FormData(t)}else if(Q9(t)||J9(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(i=f?Rr(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Wd,r=q0(t.getAttribute("formenctype"))||q0(u.getAttribute("enctype"))||$d,a=new FormData(u,t),!nP()){let{name:d,type:p,value:m}=t;if(p==="image"){let y=d?`${d}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else d&&a.append(d,m)}}else{if(tg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wd,i=null,r=$d,l=t}return a&&r==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:l}}function I1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function sP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oP(t,e,n){let i=await Promise.all(t.map(async r=>{let a=e.routes[r.route.id];if(a){let l=await sP(a,n);return l.links?l.links():[]}return[]}));return fP(i.flat(1).filter(aP).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function zE(t,e,n,i,r,a){let l=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,u=(f,d)=>{var p;return n[d].pathname!==f.pathname||((p=n[d].route.path)==null?void 0:p.endsWith("*"))&&n[d].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,d)=>l(f,d)||u(f,d)):a==="data"?e.filter((f,d)=>{var m;let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function lP(t,e,{includeHydrateFallback:n}={}){return cP(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function cP(t){return[...new Set(t)]}function uP(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function fP(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let a=JSON.stringify(uP(r));return n.has(a)||(n.add(a),i.push({key:a,link:r})),i},[])}var dP=new Set([100,101,204,205]);function hP(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Rr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function YO(){let t=N.useContext(sl);return I1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gP(){let t=N.useContext(eg);return I1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var D1=N.createContext(void 0);D1.displayName="FrameworkContext";function GO(){let t=N.useContext(D1);return I1(t,"You must render this element inside a <HydratedRouter> element"),t}function pP(t,e){let n=N.useContext(D1),[i,r]=N.useState(!1),[a,l]=N.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:m}=e,y=N.useRef(null);N.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let x=E=>{E.forEach(k=>{l(k.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return y.current&&w.observe(y.current),()=>{w.disconnect()}}},[t]),N.useEffect(()=>{if(i){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[i]);let b=()=>{r(!0)},v=()=>{r(!1),l(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:_c(u,b),onBlur:_c(f,v),onMouseEnter:_c(d,b),onMouseLeave:_c(p,v),onTouchStart:_c(m,b)}]:[!1,y,{}]}function _c(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mP({page:t,...e}){let{router:n}=YO(),i=N.useMemo(()=>zO(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(yP,{page:t,matches:i,...e}):null}function _P(t){let{manifest:e,routeModules:n}=GO(),[i,r]=N.useState([]);return N.useEffect(()=>{let a=!1;return oP(t,e,n).then(l=>{a||r(l)}),()=>{a=!0}},[t,e,n]),i}function yP({page:t,matches:e,...n}){let i=Ir(),{manifest:r,routeModules:a}=GO(),{basename:l}=YO(),{loaderData:u,matches:f}=gP(),d=N.useMemo(()=>zE(t,e,f,r,i,"data"),[t,e,f,r,i]),p=N.useMemo(()=>zE(t,e,f,r,i,"assets"),[t,e,f,r,i]),m=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let v=new Set,x=!1;if(e.forEach(E=>{var O;let k=r.routes[E.route.id];!k||!k.hasLoader||(!d.some(A=>A.route.id===E.route.id)&&E.route.id in u&&((O=a[E.route.id])!=null&&O.shouldRevalidate)||k.hasClientLoader?x=!0:v.add(E.route.id))}),v.size===0)return[];let w=hP(t,l);return x&&v.size>0&&w.searchParams.set("_routes",e.filter(E=>v.has(E.route.id)).map(E=>E.route.id).join(",")),[w.pathname+w.search]},[l,u,i,r,d,e,t,a]),y=N.useMemo(()=>lP(p,r),[p,r]),b=_P(p);return N.createElement(N.Fragment,null,m.map(v=>N.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),y.map(v=>N.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),b.map(({key:v,link:x})=>N.createElement("link",{key:v,...x})))}function bP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var KO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KO&&(window.__reactRouterVersion="7.5.3")}catch{}function vP({basename:t,children:e,window:n}){let i=N.useRef();i.current==null&&(i.current=o9({window:n,v5Compat:!0}));let r=i.current,[a,l]=N.useState({action:r.action,location:r.location}),u=N.useCallback(f=>{N.startTransition(()=>l(f))},[l]);return N.useLayoutEffect(()=>r.listen(u),[r,u]),N.createElement(K9,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:r})}var XO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:a,replace:l,state:u,target:f,to:d,preventScrollReset:p,viewTransition:m,...y},b){let{basename:v}=N.useContext(wi),x=typeof d=="string"&&XO.test(d),w,E=!1;if(typeof d=="string"&&x&&(w=d,KO))try{let V=new URL(window.location.href),$=d.startsWith("//")?new URL(V.protocol+d):new URL(d),U=Rr($.pathname,v);$.origin===V.origin&&U!=null?d=U+$.search+$.hash:E=!0}catch{yi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=I9(d,{relative:r}),[O,A,M]=pP(i,y),R=TP(d,{replace:l,state:u,target:f,preventScrollReset:p,relative:r,viewTransition:m});function P(V){e&&e(V),V.defaultPrevented||R(V)}let z=N.createElement("a",{...y,...M,href:w||k,onClick:E||a?e:P,ref:bP(b,A),target:f,"data-discover":!x&&n==="render"?"true":void 0});return O&&!x?N.createElement(N.Fragment,null,z,N.createElement(mP,{page:k})):z});en.displayName="Link";var xP=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:a,to:l,viewTransition:u,children:f,...d},p){let m=Fu(l,{relative:d.relative}),y=Ir(),b=N.useContext(eg),{navigator:v,basename:x}=N.useContext(wi),w=b!=null&&MP(m)&&u===!0,E=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,k=y.pathname,O=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(k=k.toLowerCase(),O=O?O.toLowerCase():null,E=E.toLowerCase()),O&&x&&(O=Rr(O,x)||O);const A=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let M=k===E||!r&&k.startsWith(E)&&k.charAt(A)==="/",R=O!=null&&(O===E||!r&&O.startsWith(E)&&O.charAt(E.length)==="/"),P={isActive:M,isPending:R,isTransitioning:w},z=M?e:void 0,V;typeof i=="function"?V=i(P):V=[i,M?"active":null,R?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let $=typeof a=="function"?a(P):a;return N.createElement(en,{...d,"aria-current":z,className:V,ref:p,style:$,to:l,viewTransition:u},typeof f=="function"?f(P):f)});xP.displayName="NavLink";var wP=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:a,method:l=Wd,action:u,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:m,...y},b)=>{let v=AP(),x=RP(u,{relative:d}),w=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&XO.test(u),k=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let A=O.nativeEvent.submitter,M=(A==null?void 0:A.getAttribute("formmethod"))||l;v(A||O.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:r,state:a,relative:d,preventScrollReset:p,viewTransition:m})};return N.createElement("form",{ref:b,method:w,action:x,onSubmit:i?f:k,...y,"data-discover":!E&&t==="render"?"true":void 0})});wP.displayName="Form";function SP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QO(t){let e=N.useContext(sl);return pt(e,SP(t)),e}function TP(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:a,viewTransition:l}={}){let u=k1(),f=Ir(),d=Fu(t,{relative:a});return N.useCallback(p=>{if(tP(p,e)){p.preventDefault();let m=n!==void 0?n:uu(f)===uu(d);u(t,{replace:m,state:i,preventScrollReset:r,relative:a,viewTransition:l})}},[f,u,d,n,i,e,t,r,a,l])}var EP=0,CP=()=>`__${String(++EP)}__`;function AP(){let{router:t}=QO("useSubmit"),{basename:e}=N.useContext(wi),n=V9();return N.useCallback(async(i,r={})=>{let{action:a,method:l,encType:u,formData:f,body:d}=rP(i,e);if(r.navigate===!1){let p=r.fetcherKey||CP();await t.fetch(p,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await t.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function RP(t,{relative:e}={}){let{basename:n}=N.useContext(wi),i=N.useContext($i);pt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Fu(t||".",{relative:e})},l=Ir();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Er([n,a.pathname])),uu(a)}function MP(t,e={}){let n=N.useContext(BO);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=QO("useViewTransitionState"),r=Fu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Rr(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Rr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return sh(r.pathname,l)!=null||sh(r.pathname,a)!=null}new TextEncoder;[...dP];var kP=jO();const OP=()=>{};var UE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe=function(t,e){if(!t)throw ol(e)},ol=function(t){return new Error("Firebase Database ("+ZO.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},NP=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],l=t[n++],u=t[n++],f=((r&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return e.join("")},P1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const a=t[r],l=r+1<t.length,u=l?t[r+1]:0,f=r+2<t.length,d=f?t[r+2]:0,p=a>>2,m=(a&3)<<4|u>>4;let y=(u&15)<<2|d>>6,b=d&63;f||(b=64,l||(y=64)),i.push(n[p],n[m],n[y],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||u==null||d==null||m==null)throw new IP;const y=a<<2|u>>4;if(i.push(y),d!==64){const b=u<<4&240|d>>2;if(i.push(b),m!==64){const v=d<<6&192|m;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eN=function(t){const e=JO(t);return P1.encodeByteArray(e,!0)},ah=function(t){return eN(t).replace(/\./g,"")},oh=function(t){try{return P1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){return tN(void 0,t)}function tN(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!PP(n)||(t[n]=tN(t[n],e[n]));return t}function PP(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=()=>LP().__FIREBASE_DEFAULTS__,zP=()=>{if(typeof process>"u"||typeof UE>"u")return;const t=UE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oh(t[1]);return e&&JSON.parse(e)},L1=()=>{try{return OP()||jP()||zP()||UP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nN=t=>{var e,n;return(n=(e=L1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HP=t=>{const e=nN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},iN=()=>{var t;return(t=L1())===null||t===void 0?void 0:t.config},rN=t=>{var e;return(e=L1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ah(JSON.stringify(n)),ah(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function BP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FP(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VP(){return ZO.NODE_ADMIN===!0}function oN(){try{return typeof indexedDB=="object"}catch{return!1}}function lN(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function WP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="FirebaseError";class Yi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=$P,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Da.prototype.create)}}class Da{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],l=a?YP(a,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new Yi(r,u,i)}}function YP(t,e){return t.replace(GP,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const GP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){return JSON.parse(t)}function Nt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=function(t){let e={},n={},i={},r="";try{const a=t.split(".");e=fu(oh(a[0])||""),n=fu(oh(a[1])||""),r=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},KP=function(t){const e=cN(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},XP=function(t){const e=cN(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Wo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ov(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lh(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function As(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const a=t[r],l=e[r];if(HE(a)&&HE(l)){if(!As(a,l))return!1}else if(a!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function HE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function jc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function zc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)i[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)i[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const y=i[m-3]^i[m-8]^i[m-14]^i[m-16];i[m]=(y<<1|y>>>31)&4294967295}let r=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],f=this.chain_[4],d,p;for(let m=0;m<80;m++){m<40?m<20?(d=u^a&(l^u),p=1518500249):(d=a^l^u,p=1859775393):m<60?(d=a&l|u&(a|l),p=2400959708):(d=a^l^u,p=3395469782);const y=(r<<5|r>>>27)+d+f+p+i[m]&4294967295;f=u,u=l,l=(a<<30|a>>>2)&4294967295,a=r,r=y}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const a=this.buf_;let l=this.inbuf_;for(;r<n;){if(l===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(a[l]=e.charCodeAt(r),++l,++r,l===this.blockSize){this.compress_(a),l=0;break}}else for(;r<n;)if(a[l]=e[r],++l,++r,l===this.blockSize){this.compress_(a),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[r]>>a&255,++i;return e}}function ZP(t,e){const n=new JP(t,e);return n.subscribe.bind(n)}class JP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");eL(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=B0),r.error===void 0&&(r.error=B0),r.complete===void 0&&(r.complete=B0);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function B0(){}function z1(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const a=r-55296;i++,oe(i<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(i)-56320;r=65536+(a<<10)+l}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},ig=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=1e3,iL=2,rL=4*60*60*1e3,sL=.5;function qE(t,e=nL,n=iL){const i=e*Math.pow(n,t),r=Math.round(sL*i*(Math.random()-.5)*2);return Math.min(rL,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class bi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ng;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lL(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oL(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oL(t){return t===aa?void 0:t}function lL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const uL={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},fL=Je.INFO,dL={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},hL=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=dL[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=fL,this._logHandler=hL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const gL=(t,e)=>e.some(n=>t instanceof n);let BE,FE;function pL(){return BE||(BE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mL(){return FE||(FE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uN=new WeakMap,Nv=new WeakMap,fN=new WeakMap,F0=new WeakMap,U1=new WeakMap;function _L(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(vs(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&uN.set(n,t)}).catch(()=>{}),U1.set(e,t),e}function yL(t){if(Nv.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Nv.set(t,e)}let Iv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bL(t){Iv=t(Iv)}function vL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(V0(this),e,...n);return fN.set(i,e.sort?e.sort():[e]),vs(i)}:mL().includes(t)?function(...e){return t.apply(V0(this),e),vs(uN.get(this))}:function(...e){return vs(t.apply(V0(this),e))}}function xL(t){return typeof t=="function"?vL(t):(t instanceof IDBTransaction&&yL(t),gL(t,pL())?new Proxy(t,Iv):t)}function vs(t){if(t instanceof IDBRequest)return _L(t);if(F0.has(t))return F0.get(t);const e=xL(t);return e!==t&&(F0.set(t,e),U1.set(e,t)),e}const V0=t=>U1.get(t);function dN(t,e,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const l=indexedDB.open(t,e),u=vs(l);return i&&l.addEventListener("upgradeneeded",f=>{i(vs(l.result),f.oldVersion,f.newVersion,vs(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const wL=["get","getKey","getAll","getAllKeys","count"],SL=["put","add","delete","clear"],W0=new Map;function VE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(W0.get(e))return W0.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=SL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||wL.includes(n)))return;const a=async function(l,...u){const f=this.transaction(l,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),r&&f.done]))[0]};return W0.set(e,a),a}bL(t=>({...t,get:(e,n,i)=>VE(e,n)||t.get(e,n,i),has:(e,n)=>!!VE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EL(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function EL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dv="@firebase/app",WE="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new rg("@firebase/app"),CL="@firebase/app-compat",AL="@firebase/analytics-compat",RL="@firebase/analytics",ML="@firebase/app-check-compat",kL="@firebase/app-check",OL="@firebase/auth",NL="@firebase/auth-compat",IL="@firebase/database",DL="@firebase/data-connect",PL="@firebase/database-compat",LL="@firebase/functions",jL="@firebase/functions-compat",zL="@firebase/installations",UL="@firebase/installations-compat",HL="@firebase/messaging",qL="@firebase/messaging-compat",BL="@firebase/performance",FL="@firebase/performance-compat",VL="@firebase/remote-config",WL="@firebase/remote-config-compat",$L="@firebase/storage",YL="@firebase/storage-compat",GL="@firebase/firestore",KL="@firebase/vertexai",XL="@firebase/firestore-compat",QL="firebase",ZL="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="[DEFAULT]",JL={[Dv]:"fire-core",[CL]:"fire-core-compat",[RL]:"fire-analytics",[AL]:"fire-analytics-compat",[kL]:"fire-app-check",[ML]:"fire-app-check-compat",[OL]:"fire-auth",[NL]:"fire-auth-compat",[IL]:"fire-rtdb",[DL]:"fire-data-connect",[PL]:"fire-rtdb-compat",[LL]:"fire-fn",[jL]:"fire-fn-compat",[zL]:"fire-iid",[UL]:"fire-iid-compat",[HL]:"fire-fcm",[qL]:"fire-fcm-compat",[BL]:"fire-perf",[FL]:"fire-perf-compat",[VL]:"fire-rc",[WL]:"fire-rc-compat",[$L]:"fire-gcs",[YL]:"fire-gcs-compat",[GL]:"fire-fst",[XL]:"fire-fst-compat",[KL]:"fire-vertex","fire-js":"fire-js",[QL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,ej=new Map,Lv=new Map;function $E(t,e){try{t.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qi(t){const e=t.name;if(Lv.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;Lv.set(e,t);for(const n of ch.values())$E(n,t);for(const n of ej.values())$E(n,t);return!0}function Pa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new Da("app","Firebase",tj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=ZL;function hN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Pv,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw xs.create("bad-app-name",{appName:String(r)});if(n||(n=iN()),!n)throw xs.create("no-options");const a=ch.get(r);if(a){if(As(n,a.options)&&As(i,a.config))return a;throw xs.create("duplicate-app",{appName:r})}const l=new cL(r);for(const f of Lv.values())l.addComponent(f);const u=new nj(n,i,l);return ch.set(r,u),u}function H1(t=Pv){const e=ch.get(t);if(!e&&t===Pv&&iN())return hN();if(!e)throw xs.create("no-app",{appName:t});return e}function Jn(t,e,n){var i;let r=(i=JL[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(u.join(" "));return}qi(new bi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="firebase-heartbeat-database",rj=1,du="firebase-heartbeat-store";let $0=null;function gN(){return $0||($0=dN(ij,rj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(du)}catch(n){console.warn(n)}}}}).catch(t=>{throw xs.create("idb-open",{originalErrorMessage:t.message})})),$0}async function sj(t){try{const n=(await gN()).transaction(du),i=await n.objectStore(du).get(pN(t));return await n.done,i}catch(e){if(e instanceof Yi)Mr.warn(e.message);else{const n=xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mr.warn(n.message)}}}async function YE(t,e){try{const i=(await gN()).transaction(du,"readwrite");await i.objectStore(du).put(e,pN(t)),await i.done}catch(n){if(n instanceof Yi)Mr.warn(n.message);else{const i=xs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mr.warn(i.message)}}}function pN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=1024,oj=30;class lj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uj(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=GE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>oj){const l=fj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Mr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=GE(),{heartbeatsToSend:i,unsentEntries:r}=cj(this._heartbeatsCache.heartbeats),a=ah(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Mr.warn(n),""}}}function GE(){return new Date().toISOString().substring(0,10)}function cj(t,e=aj){const n=[];let i=t.slice();for(const r of t){const a=n.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),KE(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),KE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class uj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oN()?lN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return YE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return YE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function KE(t){return ah(JSON.stringify({version:2,heartbeats:t})).length}function fj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){qi(new bi("platform-logger",e=>new TL(e),"PRIVATE")),qi(new bi("heartbeat",e=>new lj(e),"PRIVATE")),Jn(Dv,WE,t),Jn(Dv,WE,"esm2017"),Jn("fire-js","")}dj("");var hj="firebase",gj="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(hj,gj,"app");var XE={};const QE="@firebase/database",ZE="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mN="";function pj(t){mN=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:fu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Gi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new mj(e)}}catch{}return new _j},fa=_N("localStorage"),yj=_N("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new rg("@firebase/database"),bj=function(){let t=1;return function(){return t++}}(),yN=function(t){const e=tL(t),n=new QP;n.update(e);const i=n.digest();return P1.encodeByteArray(i)},Vu=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Vu.apply(null,i):typeof i=="object"?e+=Nt(i):e+=i,e+=" "}return e};let $c=null,JE=!0;const vj=function(t,e){oe(!0,"Can't turn on custom loggers persistently."),Lo.logLevel=Je.VERBOSE,$c=Lo.log.bind(Lo)},tn=function(...t){if(JE===!0&&(JE=!1,$c===null&&yj.get("logging_enabled")===!0&&vj()),$c){const e=Vu.apply(null,t);$c(e)}},Wu=function(t){return function(...e){tn(t,...e)}},jv=function(...t){const e="FIREBASE INTERNAL ERROR: "+Vu(...t);Lo.error(e)},kr=function(...t){const e=`FIREBASE FATAL ERROR: ${Vu(...t)}`;throw Lo.error(e),new Error(e)},xn=function(...t){const e="FIREBASE WARNING: "+Vu(...t);Lo.warn(e)},xj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},q1=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},wj=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},xa="[MIN_NAME]",Rs="[MAX_NAME]",ul=function(t,e){if(t===e)return 0;if(t===xa||e===Rs)return-1;if(e===xa||t===Rs)return 1;{const n=eC(t),i=eC(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Sj=function(t,e){return t===e?0:t<e?-1:1},yc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Nt(e))},B1=function(t){if(typeof t!="object"||t===null)return Nt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Nt(e[i]),n+=":",n+=B1(t[e[i]]);return n+="}",n},bN=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Sn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const vN=function(t){oe(!q1(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,a,l,u,f;t===0?(a=0,l=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=u+i,l=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(a=0,l=Math.round(t/Math.pow(2,1-i-n))));const d=[];for(f=n;f;f-=1)d.push(l%2?1:0),l=Math.floor(l/2);for(f=e;f;f-=1)d.push(a%2?1:0),a=Math.floor(a/2);d.push(r?1:0),d.reverse();const p=d.join("");let m="";for(f=0;f<64;f+=8){let y=parseInt(p.substr(f,8),2).toString(16);y.length===1&&(y="0"+y),m=m+y}return m.toLowerCase()},Tj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ej=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Cj(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const Aj=new RegExp("^-?(0*)\\d{1,10}$"),Rj=-2147483648,Mj=2147483647,eC=function(t){if(Aj.test(t)){const e=Number(t);if(e>=Rj&&e<=Mj)return e}return null},fl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw xn("Exception was thrown by user callback.",n),e},Math.floor(0))}},kj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Nn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){xn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(tn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xn(e)}}class Yd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Yd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="5",xN="v",wN="s",SN="r",TN="f",EN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CN="ls",AN="p",zv="ac",RN="websocket",MN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,i,r,a=!1,l="",u=!1,f=!1,d=null){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=f,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Ij(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ON(t,e,n){oe(typeof e=="string","typeof type must == string"),oe(typeof n=="object","typeof params must == object");let i;if(e===RN)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===MN)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Ij(t)&&(n.ns=t.namespace);const r=[];return Sn(n,(a,l)=>{r.push(a+"="+l)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.counters_={}}incrementCounter(e,n=1){Gi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return DP(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0={},G0={};function V1(t){const e=t.toString();return Y0[e]||(Y0[e]=new Dj),Y0[e]}function Pj(t,e){const n=t.toString();return G0[n]||(G0[n]=e()),G0[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&fl(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="start",jj="close",zj="pLPCommand",Uj="pRTLPCB",NN="id",IN="pw",DN="ser",Hj="cb",qj="seg",Bj="ts",Fj="d",Vj="dframe",PN=1870,LN=30,Wj=PN-LN,$j=25e3,Yj=3e4;class Do{constructor(e,n,i,r,a,l,u){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=a,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wu(e),this.stats_=V1(n),this.urlFn=f=>(this.appCheckToken&&(f[zv]=this.appCheckToken),ON(n,MN,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Lj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Yj)),wj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new W1((...a)=>{const[l,u,f,d,p]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===tC)this.id=u,this.password=f;else if(l===jj)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...a)=>{const[l,u]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const i={};i[tC]="t",i[DN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Hj]=this.scriptTagHolder.uniqueCallbackIdentifier),i[xN]=F1,this.transportSessionId&&(i[wN]=this.transportSessionId),this.lastSessionId&&(i[CN]=this.lastSessionId),this.applicationId&&(i[AN]=this.applicationId),this.appCheckToken&&(i[zv]=this.appCheckToken),typeof location<"u"&&location.hostname&&EN.test(location.hostname)&&(i[SN]=TN);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Do.forceAllow_=!0}static forceDisallow(){Do.forceDisallow_=!0}static isAvailable(){return Do.forceAllow_?!0:!Do.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Tj()&&!Ej()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=eN(n),r=bN(i,Wj);for(let a=0;a<r.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[Vj]="t",i[NN]=e,i[IN]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Nt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class W1{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=bj(),window[zj+this.uniqueCallbackIdentifier]=e,window[Uj+this.uniqueCallbackIdentifier]=n,this.myIFrame=W1.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){tn("frame writing exception"),u.stack&&tn(u.stack),tn(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||tn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[NN]=this.myID,e[IN]=this.myPW,e[DN]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+LN+i.length<=PN;){const l=this.pendingSegs.shift();i=i+"&"+qj+r+"="+l.seg+"&"+Bj+r+"="+l.ts+"&"+Fj+r+"="+l.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor($j)),a=()=>{clearTimeout(r),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{tn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=16384,Kj=45e3;let uh=null;typeof MozWebSocket<"u"?uh=MozWebSocket:typeof WebSocket<"u"&&(uh=WebSocket);class li{constructor(e,n,i,r,a,l,u){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wu(this.connId),this.stats_=V1(n),this.connURL=li.connectionURL_(n,l,u,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,a){const l={};return l[xN]=F1,typeof location<"u"&&location.hostname&&EN.test(location.hostname)&&(l[SN]=TN),n&&(l[wN]=n),i&&(l[CN]=i),r&&(l[zv]=r),a&&(l[AN]=a),ON(e,RN,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fa.set("previous_websocket_failure",!0);try{let i;VP(),this.mySock=new uh(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){li.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&uh!==null&&!li.forceDisallow_}static previouslyFailed(){return fa.isInMemoryStorage||fa.get("previous_websocket_failure")===!0}markConnectionHealthy(){fa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=fu(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(oe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=bN(n,Gj);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Kj))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}li.responsesRequiredToBeHealthy=2;li.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{static get ALL_TRANSPORTS(){return[Do,li]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=li&&li.isAvailable();let i=n&&!li.previouslyFailed();if(e.webSocketOnly&&(n||xn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[li];else{const r=this.transports_=[];for(const a of hu.ALL_TRANSPORTS)a&&a.isAvailable()&&r.push(a);hu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}hu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=6e4,Qj=5e3,Zj=10*1024,Jj=100*1024,K0="t",nC="d",ez="s",iC="r",tz="e",rC="o",sC="a",aC="n",oC="p",nz="h";class iz{constructor(e,n,i,r,a,l,u,f,d,p){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=a,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=f,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wu("c:"+this.id+":"),this.transportManager_=new hu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Yc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Jj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Zj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(K0 in e){const n=e[K0];n===sC?this.upgradeIfSecondaryHealthy_():n===iC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===rC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=yc("t",e),i=yc("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:oC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:aC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=yc("t",e),i=yc("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=yc(K0,e);if(nC in e){const i=e[nC];if(n===nz){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===aC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ez?this.onConnectionShutdown_(i):n===iC?this.onReset_(i):n===tz?jv("Server Error: "+i):n===rC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),F1!==i&&xn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Yc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Xj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Qj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:oC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.allowedEvents_=e,this.listeners_={},oe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let a=0;a<r.length;a++)if(r[a].callback===n&&(!i||i===r[a].context)){r.splice(a,1);return}}validateEventType_(e){oe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends zN{static getInstance(){return new fh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!j1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return oe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=32,cC=768;class nt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Fe(){return new nt("")}function Ie(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ms(t){return t.pieces_.length-t.pieceNum_}function ot(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new nt(t.pieces_,e)}function UN(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function rz(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function HN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function qN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new nt(e,0)}function It(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof nt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new nt(n,0)}function je(t){return t.pieceNum_>=t.pieces_.length}function cn(t,e){const n=Ie(t),i=Ie(e);if(n===null)return e;if(n===i)return cn(ot(t),ot(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function $1(t,e){if(Ms(t)!==Ms(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function ui(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Ms(t)>Ms(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class sz{constructor(e,n){this.errorPrefix_=n,this.parts_=HN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ig(this.parts_[i]);BN(this)}}function az(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ig(e),BN(t)}function oz(t){const e=t.parts_.pop();t.byteLength_-=ig(e),t.parts_.length>0&&(t.byteLength_-=1)}function BN(t){if(t.byteLength_>cC)throw new Error(t.errorPrefix_+"has a key path longer than "+cC+" bytes ("+t.byteLength_+").");if(t.parts_.length>lC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lC+") or object contains a cycle "+oa(t))}function oa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1 extends zN{static getInstance(){return new Y1}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return oe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=1e3,lz=60*5*1e3,uC=30*1e3,cz=1.3,uz=3e4,fz="server_kill",fC=3;class Cr extends jN{constructor(e,n,i,r,a,l,u,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=f,this.id=Cr.nextPersistentConnectionId_++,this.log_=Wu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bc,this.maxReconnectDelay_=lz,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Y1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,a={r,a:e,b:n};this.log_(Nt(a)),oe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new ng,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const u=l.d;l.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,r){this.initConnection_();const a=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),oe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),oe(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");const u={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(l).set(a,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const a={p:i},l="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(l,a,u=>{const f=u.d,d=u.s;Cr.warnOnListenWarnings_(f,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",u),d!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(d,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Gi(e,"w")){const i=Wo(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();xn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||XP(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=KP(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const a=r.s,l=r.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),oe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const a={p:e},l="n";r&&(a.q=i,a.t=r),this.sendRequest(l,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,l=>{r&&setTimeout(()=>{r(l.s,l.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,a){this.initConnection_();const l={p:n,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:e,request:l,onComplete:r}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Nt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):jv("Unrecognized action received from server: "+Nt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){oe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>uz&&(this.reconnectDelay_=bc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*cz)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Cr.nextConnectionId_++,a=this.lastSessionId;let l=!1,u=null;const f=function(){u?u.close():(l=!0,i())},d=function(m){oe(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(m)};this.realtime_={close:f,sendRequest:d};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,y]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);l?tn("getToken() completed but was canceled"):(tn("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,u=new iz(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,b=>{xn(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(fz)},a))}catch(m){this.log_("Failed to get token: "+m),l||(this.repoInfo_.nodeAdmin&&xn(m),f())}}}interrupt(e){tn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){tn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ov(this.interruptReasons_)&&(this.reconnectDelay_=bc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>B1(a)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new nt(e).toString();let r;if(this.listens.has(i)){const a=this.listens.get(i);r=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){tn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fC&&(this.reconnectDelay_=uC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){tn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+mN.replace(/\./g,"-")]=1,j1()?e["framework.cordova"]=1:aN()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fh.getInstance().currentlyOnline();return Ov(this.interruptReasons_)&&e}}Cr.nextPersistentConnectionId_=0;Cr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new De(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new De(xa,e),r=new De(xa,n);return this.compare(i,r)!==0}minPost(){return De.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd;class FN extends sg{static get __EMPTY_NODE(){return xd}static set __EMPTY_NODE(e){xd=e}compare(e,n){return ul(e.name,n.name)}isDefinedOn(e){throw ol("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return De.MIN}maxPost(){return new De(Rs,xd)}makePost(e,n){return oe(typeof e=="string","KeyIndex indexValue must always be a string."),new De(e,xd)}toString(){return".key"}}const ws=new FN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,i,r,a=null){this.isReverse_=r,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?i(e.key,n):1,r&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ht{constructor(e,n,i,r,a){this.key=e,this.value=n,this.color=i??Ht.RED,this.left=r??vn.EMPTY_NODE,this.right=a??vn.EMPTY_NODE}copy(e,n,i,r,a){return new Ht(e??this.key,n??this.value,i??this.color,r??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const a=i(e,r.key);return a<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):a===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return vn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return vn.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ht.RED=!0;Ht.BLACK=!1;class dz{copy(e,n,i,r,a){return this}insert(e,n,i){return new Ht(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vn{constructor(e,n=vn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new vn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ht.BLACK,null,null))}remove(e){return new vn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ht.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new wd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new wd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new wd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new wd(this.root_,null,this.comparator_,!0,e)}}vn.EMPTY_NODE=new dz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(t,e){return ul(t.name,e.name)}function G1(t,e){return ul(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uv;function gz(t){Uv=t}const VN=function(t){return typeof t=="number"?"number:"+vN(t):"string:"+t},WN=function(t){if(t.isLeafNode()){const e=t.val();oe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Gi(e,".sv"),"Priority must be a string or number.")}else oe(t===Uv||t.isEmpty(),"priority of unexpected type.");oe(t===Uv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dC;class Ut{static set __childrenNodeConstructor(e){dC=e}static get __childrenNodeConstructor(){return dC}constructor(e,n=Ut.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,oe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),WN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ut(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ut.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return je(e)?this:Ie(e)===".priority"?this.priorityNode_:Ut.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ut.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Ie(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(oe(i!==".priority"||Ms(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ut.__childrenNodeConstructor.EMPTY_NODE.updateChild(ot(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+VN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=vN(this.value_):e+=this.value_,this.lazyHash_=yN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ut.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ut.__childrenNodeConstructor?-1:(oe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=Ut.VALUE_TYPE_ORDER.indexOf(n),a=Ut.VALUE_TYPE_ORDER.indexOf(i);return oe(r>=0,"Unknown leaf type: "+n),oe(a>=0,"Unknown leaf type: "+i),r===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $N,YN;function pz(t){$N=t}function mz(t){YN=t}class _z extends sg{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),a=i.compareTo(r);return a===0?ul(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return De.MIN}maxPost(){return new De(Rs,new Ut("[PRIORITY-POST]",YN))}makePost(e,n){const i=$N(e);return new De(n,new Ut("[PRIORITY-POST]",i))}toString(){return".priority"}}const yt=new _z;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=Math.log(2);class bz{constructor(e){const n=a=>parseInt(Math.log(a)/yz,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const dh=function(t,e,n,i){t.sort(e);const r=function(f,d){const p=d-f;let m,y;if(p===0)return null;if(p===1)return m=t[f],y=n?n(m):m,new Ht(y,m.node,Ht.BLACK,null,null);{const b=parseInt(p/2,10)+f,v=r(f,b),x=r(b+1,d);return m=t[b],y=n?n(m):m,new Ht(y,m.node,Ht.BLACK,v,x)}},a=function(f){let d=null,p=null,m=t.length;const y=function(v,x){const w=m-v,E=m;m-=v;const k=r(w+1,E),O=t[w],A=n?n(O):O;b(new Ht(A,O.node,x,null,k))},b=function(v){d?(d.left=v,d=v):(p=v,d=v)};for(let v=0;v<f.count;++v){const x=f.nextBitIsOne(),w=Math.pow(2,f.count-(v+1));x?y(w,Ht.BLACK):(y(w,Ht.BLACK),y(w,Ht.RED))}return p},l=new bz(t.length),u=a(l);return new vn(i||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X0;const Ao={};class wr{static get Default(){return oe(Ao&&yt,"ChildrenNode.ts has not been loaded"),X0=X0||new wr({".priority":Ao},{".priority":yt}),X0}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Wo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vn?n:null}hasIndex(e){return Gi(this.indexSet_,e.toString())}addIndex(e,n){oe(e!==ws,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const a=n.getIterator(De.Wrap);let l=a.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=a.getNext();let u;r?u=dh(i,e.getCompare()):u=Ao;const f=e.toString(),d=Object.assign({},this.indexSet_);d[f]=e;const p=Object.assign({},this.indexes_);return p[f]=u,new wr(p,d)}addToIndexes(e,n){const i=lh(this.indexes_,(r,a)=>{const l=Wo(this.indexSet_,a);if(oe(l,"Missing index implementation for "+a),r===Ao)if(l.isDefinedOn(e.node)){const u=[],f=n.getIterator(De.Wrap);let d=f.getNext();for(;d;)d.name!==e.name&&u.push(d),d=f.getNext();return u.push(e),dh(u,l.getCompare())}else return Ao;else{const u=n.get(e.name);let f=r;return u&&(f=f.remove(new De(e.name,u))),f.insert(e,e.node)}});return new wr(i,this.indexSet_)}removeFromIndexes(e,n){const i=lh(this.indexes_,r=>{if(r===Ao)return r;{const a=n.get(e.name);return a?r.remove(new De(e.name,a)):r}});return new wr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc;class xe{static get EMPTY_NODE(){return vc||(vc=new xe(new vn(G1),null,wr.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&WN(this.priorityNode_),this.children_.isEmpty()&&oe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vc}updatePriority(e){return this.children_.isEmpty()?this:new xe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?vc:n}}getChild(e){const n=Ie(e);return n===null?this:this.getImmediateChild(n).getChild(ot(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(oe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new De(e,n);let r,a;n.isEmpty()?(r=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const l=r.isEmpty()?vc:this.priorityNode_;return new xe(r,l,a)}}updateChild(e,n){const i=Ie(e);if(i===null)return n;{oe(Ie(e)!==".priority"||Ms(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(ot(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,a=!0;if(this.forEachChild(yt,(l,u)=>{n[l]=u.val(e),i++,a&&xe.INTEGER_REGEXP_.test(l)?r=Math.max(r,Number(l)):a=!1}),!e&&a&&r<2*i){const l=[];for(const u in n)l[u]=n[u];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+VN(this.getPriority().val())+":"),this.forEachChild(yt,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":yN(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const a=r.getPredecessorKey(new De(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new De(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new De(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,De.Wrap);let a=r.peek();for(;a!=null&&n.compare(a,e)<0;)r.getNext(),a=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,De.Wrap);let a=r.peek();for(;a!=null&&n.compare(a,e)>0;)r.getNext(),a=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$u?-1:0}withIndex(e){if(e===ws||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new xe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ws||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(yt),r=n.getIterator(yt);let a=i.getNext(),l=r.getNext();for(;a&&l;){if(a.name!==l.name||!a.node.equals(l.node))return!1;a=i.getNext(),l=r.getNext()}return a===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===ws?null:this.indexMap_.get(e.toString())}}xe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vz extends xe{constructor(){super(new vn(G1),xe.EMPTY_NODE,wr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return xe.EMPTY_NODE}isEmpty(){return!1}}const $u=new vz;Object.defineProperties(De,{MIN:{value:new De(xa,xe.EMPTY_NODE)},MAX:{value:new De(Rs,$u)}});FN.__EMPTY_NODE=xe.EMPTY_NODE;Ut.__childrenNodeConstructor=xe;gz($u);mz($u);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=!0;function qt(t,e=null){if(t===null)return xe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),oe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ut(n,qt(e))}if(!(t instanceof Array)&&xz){const n=[];let i=!1;if(Sn(t,(l,u)=>{if(l.substring(0,1)!=="."){const f=qt(u);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),n.push(new De(l,f)))}}),n.length===0)return xe.EMPTY_NODE;const a=dh(n,hz,l=>l.name,G1);if(i){const l=dh(n,yt.getCompare());return new xe(a,qt(e),new wr({".priority":l},{".priority":yt}))}else return new xe(a,qt(e),wr.Default)}else{let n=xe.EMPTY_NODE;return Sn(t,(i,r)=>{if(Gi(t,i)&&i.substring(0,1)!=="."){const a=qt(r);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(qt(e))}}pz(qt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN extends sg{constructor(e){super(),this.indexPath_=e,oe(!je(e)&&Ie(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),a=i.compareTo(r);return a===0?ul(e.name,n.name):a}makePost(e,n){const i=qt(e),r=xe.EMPTY_NODE.updateChild(this.indexPath_,i);return new De(n,r)}maxPost(){const e=xe.EMPTY_NODE.updateChild(this.indexPath_,$u);return new De(Rs,e)}toString(){return HN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz extends sg{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ul(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return De.MIN}maxPost(){return De.MAX}makePost(e,n){const i=qt(e);return new De(n,i)}toString(){return".value"}}const KN=new wz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t){return{type:"value",snapshotNode:t}}function $o(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function gu(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function pu(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Sz(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.index_=e}updateChild(e,n,i,r,a,l){oe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?e.hasChild(n)?l.trackChildChange(gu(n,u)):oe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange($o(n,i)):l.trackChildChange(pu(n,i,u))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(yt,(r,a)=>{n.hasChild(r)||i.trackChildChange(gu(r,a))}),n.isLeafNode()||n.forEachChild(yt,(r,a)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(a)||i.trackChildChange(pu(r,a,l))}else i.trackChildChange($o(r,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?xe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this.indexedFilter_=new K1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=mu.getStartPost_(e),this.endPost_=mu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,a,l){return this.matches(new De(n,i))||(i=xe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,a,l)}updateFullNode(e,n,i){n.isLeafNode()&&(n=xe.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(xe.EMPTY_NODE);const a=this;return n.forEachChild(yt,(l,u)=>{a.matches(new De(l,u))||(r=r.updateImmediateChild(l,xe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new mu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,a,l){return this.rangedFilter_.matches(new De(n,i))||(i=xe.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,a,l):this.fullLimitUpdateChild_(e,n,i,a,l)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=xe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=xe.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;a.hasNext()&&l<this.limit_;){const u=a.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))r=r.updateImmediateChild(u.name,u.node),l++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(xe.EMPTY_NODE);let a;this.reverse_?a=r.getReverseIterator(this.index_):a=r.getIterator(this.index_);let l=0;for(;a.hasNext();){const u=a.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:r=r.updateImmediateChild(u.name,xe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,a){let l;if(this.reverse_){const m=this.index_.getCompare();l=(y,b)=>m(b,y)}else l=this.index_.getCompare();const u=e;oe(u.numChildren()===this.limit_,"");const f=new De(n,i),d=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),p=this.rangedFilter_.matches(f);if(u.hasChild(n)){const m=u.getImmediateChild(n);let y=r.getChildAfterChild(this.index_,d,this.reverse_);for(;y!=null&&(y.name===n||u.hasChild(y.name));)y=r.getChildAfterChild(this.index_,y,this.reverse_);const b=y==null?1:l(y,f);if(p&&!i.isEmpty()&&b>=0)return a!=null&&a.trackChildChange(pu(n,i,m)),u.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(gu(n,m));const x=u.updateImmediateChild(n,xe.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(a!=null&&a.trackChildChange($o(y.name,y.node)),x.updateImmediateChild(y.name,y.node)):x}}else return i.isEmpty()?e:p&&l(d,f)>=0?(a!=null&&(a.trackChildChange(gu(d.name,d.node)),a.trackChildChange($o(n,i))),u.updateImmediateChild(n,i).updateImmediateChild(d.name,xe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return oe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return oe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xa}hasEnd(){return this.endSet_}getIndexEndValue(){return oe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return oe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Rs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return oe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yt}copy(){const e=new X1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ez(t){return t.loadsAllData()?new K1(t.getIndex()):t.hasLimit()?new Tz(t):new mu(t)}function Cz(t,e){const n=t.copy();return n.index_=e,n}function hC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===yt?n="$priority":t.index_===KN?n="$value":t.index_===ws?n="$key":(oe(t.index_ instanceof GN,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Nt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Nt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Nt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Nt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Nt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function gC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==yt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends jN{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(oe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Wu("p:rest:"),this.listens_={}}listen(e,n,i,r){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const l=hh.getListenId_(e,i),u={};this.listens_[l]=u;const f=hC(e._queryParams);this.restRequest_(a+".json",f,(d,p)=>{let m=p;if(d===404&&(m=null,d=null),d===null&&this.onDataUpdate_(a,m,!1,i),Wo(this.listens_,l)===u){let y;d?d===401?y="permission_denied":y="rest_error:"+d:y="ok",r(y,null)}})}unlisten(e,n){const i=hh.getListenId_(e,n);delete this.listens_[i]}get(e){const n=hC(e._queryParams),i=e._path.toString(),r=new ng;return this.restRequest_(i+".json",n,(a,l)=>{let u=l;a===404&&(u=null,a=null),a===null?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,a])=>{r&&r.accessToken&&(n.auth=r.accessToken),a&&a.token&&(n.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ll(n);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&u.readyState===4){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let f=null;if(u.status>=200&&u.status<300){try{f=fu(u.responseText)}catch{xn("Failed to parse JSON response for "+l+": "+u.responseText)}i(null,f)}else u.status!==401&&u.status!==404&&xn("Got unsuccessful REST response for "+l+" Status: "+u.status),i(u.status);i=null}},u.open("GET",l,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.rootNode_=xe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(){return{value:null,children:new Map}}function QN(t,e,n){if(je(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Ie(e);t.children.has(i)||t.children.set(i,gh());const r=t.children.get(i);e=ot(e),QN(r,e,n)}}function Hv(t,e,n){t.value!==null?n(e,t.value):Rz(t,(i,r)=>{const a=new nt(e.toString()+"/"+i);Hv(r,a,n)})}function Rz(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Sn(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=10*1e3,kz=30*1e3,Oz=5*60*1e3;class Nz{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Mz(e);const i=pC+(kz-pC)*Math.random();Yc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Sn(e,(r,a)=>{a>0&&Gi(this.statsToReport_,r)&&(n[r]=a,i=!0)}),i&&this.server_.reportStats(n),Yc(this.reportStats_.bind(this),Math.floor(Math.random()*2*Oz))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(fi||(fi={}));function ZN(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Q1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Z1(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=fi.ACK_USER_WRITE,this.source=ZN()}operationForChild(e){if(je(this.path)){if(this.affectedTree.value!=null)return oe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new nt(e));return new ph(Fe(),n,this.revert)}}else return oe(Ie(this.path)===e,"operationForChild called for unrelated child."),new ph(ot(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.source=e,this.path=n,this.type=fi.LISTEN_COMPLETE}operationForChild(e){return je(this.path)?new _u(this.source,Fe()):new _u(this.source,ot(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=fi.OVERWRITE}operationForChild(e){return je(this.path)?new wa(this.source,Fe(),this.snap.getImmediateChild(e)):new wa(this.source,ot(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=fi.MERGE}operationForChild(e){if(je(this.path)){const n=this.children.subtree(new nt(e));return n.isEmpty()?null:n.value?new wa(this.source,Fe(),n.value):new yu(this.source,Fe(),n)}else return oe(Ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yu(this.source,ot(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(je(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ie(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Dz(t,e,n,i){const r=[],a=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(Sz(l.childName,l.snapshotNode))}),xc(t,r,"child_removed",e,i,n),xc(t,r,"child_added",e,i,n),xc(t,r,"child_moved",a,i,n),xc(t,r,"child_changed",e,i,n),xc(t,r,"value",e,i,n),r}function xc(t,e,n,i,r,a){const l=i.filter(u=>u.type===n);l.sort((u,f)=>Lz(t,u,f)),l.forEach(u=>{const f=Pz(t,u,a);r.forEach(d=>{d.respondsTo(u.type)&&e.push(d.createEvent(f,t.query_))})})}function Pz(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Lz(t,e,n){if(e.childName==null||n.childName==null)throw ol("Should only compare child_ events.");const i=new De(e.childName,e.snapshotNode),r=new De(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t,e){return{eventCache:t,serverCache:e}}function Gc(t,e,n,i){return ag(new ks(e,n,i),t.serverCache)}function JN(t,e,n,i){return ag(t.eventCache,new ks(e,n,i))}function mh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Sa(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q0;const jz=()=>(Q0||(Q0=new vn(Sj)),Q0);class dt{static fromObject(e){let n=new dt(null);return Sn(e,(i,r)=>{n=n.set(new nt(i),r)}),n}constructor(e,n=jz()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Fe(),value:this.value};if(je(e))return null;{const i=Ie(e),r=this.children.get(i);if(r!==null){const a=r.findRootMostMatchingPathAndValue(ot(e),n);return a!=null?{path:It(new nt(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(je(e))return this;{const n=Ie(e),i=this.children.get(n);return i!==null?i.subtree(ot(e)):new dt(null)}}set(e,n){if(je(e))return new dt(n,this.children);{const i=Ie(e),a=(this.children.get(i)||new dt(null)).set(ot(e),n),l=this.children.insert(i,a);return new dt(this.value,l)}}remove(e){if(je(e))return this.children.isEmpty()?new dt(null):new dt(null,this.children);{const n=Ie(e),i=this.children.get(n);if(i){const r=i.remove(ot(e));let a;return r.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,r),this.value===null&&a.isEmpty()?new dt(null):new dt(this.value,a)}else return this}}get(e){if(je(e))return this.value;{const n=Ie(e),i=this.children.get(n);return i?i.get(ot(e)):null}}setTree(e,n){if(je(e))return n;{const i=Ie(e),a=(this.children.get(i)||new dt(null)).setTree(ot(e),n);let l;return a.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,a),new dt(this.value,l)}}fold(e){return this.fold_(Fe(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,a)=>{i[r]=a.fold_(It(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Fe(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(je(e))return null;{const a=Ie(e),l=this.children.get(a);return l?l.findOnPath_(ot(e),It(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Fe(),n)}foreachOnPath_(e,n,i){if(je(e))return this;{this.value&&i(n,this.value);const r=Ie(e),a=this.children.get(r);return a?a.foreachOnPath_(ot(e),It(n,r),i):new dt(null)}}foreach(e){this.foreach_(Fe(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(It(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.writeTree_=e}static empty(){return new pi(new dt(null))}}function Kc(t,e,n){if(je(e))return new pi(new dt(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let a=i.value;const l=cn(r,e);return a=a.updateChild(l,n),new pi(t.writeTree_.set(r,a))}else{const r=new dt(n),a=t.writeTree_.setTree(e,r);return new pi(a)}}}function mC(t,e,n){let i=t;return Sn(n,(r,a)=>{i=Kc(i,It(e,r),a)}),i}function _C(t,e){if(je(e))return pi.empty();{const n=t.writeTree_.setTree(e,new dt(null));return new pi(n)}}function qv(t,e){return La(t,e)!=null}function La(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(cn(n.path,e)):null}function yC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(yt,(i,r)=>{e.push(new De(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new De(i,r.value))}),e}function Ss(t,e){if(je(e))return t;{const n=La(t,e);return n!=null?new pi(new dt(n)):new pi(t.writeTree_.subtree(e))}}function Bv(t){return t.writeTree_.isEmpty()}function Yo(t,e){return e4(Fe(),t.writeTree_,e)}function e4(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,a)=>{r===".priority"?(oe(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=e4(It(t,r),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(It(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t,e){return r4(e,t)}function zz(t,e,n,i,r){oe(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Kc(t.visibleWrites,e,n)),t.lastWriteId=i}function Uz(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function Hz(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);oe(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,a=!1,l=t.allWrites.length-1;for(;r&&l>=0;){const u=t.allWrites[l];u.visible&&(l>=n&&qz(u,i.path)?r=!1:ui(i.path,u.path)&&(a=!0)),l--}if(r){if(a)return Bz(t),!0;if(i.snap)t.visibleWrites=_C(t.visibleWrites,i.path);else{const u=i.children;Sn(u,f=>{t.visibleWrites=_C(t.visibleWrites,It(i.path,f))})}return!0}else return!1}function qz(t,e){if(t.snap)return ui(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ui(It(t.path,n),e))return!0;return!1}function Bz(t){t.visibleWrites=t4(t.allWrites,Fz,Fe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Fz(t){return t.visible}function t4(t,e,n){let i=pi.empty();for(let r=0;r<t.length;++r){const a=t[r];if(e(a)){const l=a.path;let u;if(a.snap)ui(n,l)?(u=cn(n,l),i=Kc(i,u,a.snap)):ui(l,n)&&(u=cn(l,n),i=Kc(i,Fe(),a.snap.getChild(u)));else if(a.children){if(ui(n,l))u=cn(n,l),i=mC(i,u,a.children);else if(ui(l,n))if(u=cn(l,n),je(u))i=mC(i,Fe(),a.children);else{const f=Wo(a.children,Ie(u));if(f){const d=f.getChild(ot(u));i=Kc(i,Fe(),d)}}}else throw ol("WriteRecord should have .snap or .children")}}return i}function n4(t,e,n,i,r){if(!i&&!r){const a=La(t.visibleWrites,e);if(a!=null)return a;{const l=Ss(t.visibleWrites,e);if(Bv(l))return n;if(n==null&&!qv(l,Fe()))return null;{const u=n||xe.EMPTY_NODE;return Yo(l,u)}}}else{const a=Ss(t.visibleWrites,e);if(!r&&Bv(a))return n;if(!r&&n==null&&!qv(a,Fe()))return null;{const l=function(d){return(d.visible||r)&&(!i||!~i.indexOf(d.writeId))&&(ui(d.path,e)||ui(e,d.path))},u=t4(t.allWrites,l,e),f=n||xe.EMPTY_NODE;return Yo(u,f)}}}function Vz(t,e,n){let i=xe.EMPTY_NODE;const r=La(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(yt,(a,l)=>{i=i.updateImmediateChild(a,l)}),i;if(n){const a=Ss(t.visibleWrites,e);return n.forEachChild(yt,(l,u)=>{const f=Yo(Ss(a,new nt(l)),u);i=i.updateImmediateChild(l,f)}),yC(a).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const a=Ss(t.visibleWrites,e);return yC(a).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function Wz(t,e,n,i,r){oe(i||r,"Either existingEventSnap or existingServerSnap must exist");const a=It(e,n);if(qv(t.visibleWrites,a))return null;{const l=Ss(t.visibleWrites,a);return Bv(l)?r.getChild(n):Yo(l,r.getChild(n))}}function $z(t,e,n,i){const r=It(e,n),a=La(t.visibleWrites,r);if(a!=null)return a;if(i.isCompleteForChild(n)){const l=Ss(t.visibleWrites,r);return Yo(l,i.getNode().getImmediateChild(n))}else return null}function Yz(t,e){return La(t.visibleWrites,e)}function Gz(t,e,n,i,r,a,l){let u;const f=Ss(t.visibleWrites,e),d=La(f,Fe());if(d!=null)u=d;else if(n!=null)u=Yo(f,n);else return[];if(u=u.withIndex(l),!u.isEmpty()&&!u.isLeafNode()){const p=[],m=l.getCompare(),y=a?u.getReverseIteratorFrom(i,l):u.getIteratorFrom(i,l);let b=y.getNext();for(;b&&p.length<r;)m(b,i)!==0&&p.push(b),b=y.getNext();return p}else return[]}function Kz(){return{visibleWrites:pi.empty(),allWrites:[],lastWriteId:-1}}function _h(t,e,n,i){return n4(t.writeTree,t.treePath,e,n,i)}function J1(t,e){return Vz(t.writeTree,t.treePath,e)}function bC(t,e,n,i){return Wz(t.writeTree,t.treePath,e,n,i)}function yh(t,e){return Yz(t.writeTree,It(t.treePath,e))}function Xz(t,e,n,i,r,a){return Gz(t.writeTree,t.treePath,e,n,i,r,a)}function ex(t,e,n){return $z(t.writeTree,t.treePath,e,n)}function i4(t,e){return r4(It(t.treePath,e),t.writeTree)}function r4(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;oe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),oe(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const a=r.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,pu(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,gu(i,r.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,$o(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,pu(i,e.snapshotNode,r.oldSnap));else throw ol("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const s4=new Zz;class tx{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new ks(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ex(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Sa(this.viewCache_),a=Xz(this.writes_,r,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t){return{filter:t}}function eU(t,e){oe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),oe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function tU(t,e,n,i,r){const a=new Qz;let l,u;if(n.type===fi.OVERWRITE){const d=n;d.source.fromUser?l=Fv(t,e,d.path,d.snap,i,r,a):(oe(d.source.fromServer,"Unknown source."),u=d.source.tagged||e.serverCache.isFiltered()&&!je(d.path),l=bh(t,e,d.path,d.snap,i,r,u,a))}else if(n.type===fi.MERGE){const d=n;d.source.fromUser?l=iU(t,e,d.path,d.children,i,r,a):(oe(d.source.fromServer,"Unknown source."),u=d.source.tagged||e.serverCache.isFiltered(),l=Vv(t,e,d.path,d.children,i,r,u,a))}else if(n.type===fi.ACK_USER_WRITE){const d=n;d.revert?l=aU(t,e,d.path,i,r,a):l=rU(t,e,d.path,d.affectedTree,i,r,a)}else if(n.type===fi.LISTEN_COMPLETE)l=sU(t,e,n.path,i,a);else throw ol("Unknown operation type: "+n.type);const f=a.getChanges();return nU(e,l,f),{viewCache:l,changes:f}}function nU(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=mh(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(XN(mh(e)))}}function a4(t,e,n,i,r,a){const l=e.eventCache;if(yh(i,n)!=null)return e;{let u,f;if(je(n))if(oe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=Sa(e),p=d instanceof xe?d:xe.EMPTY_NODE,m=J1(i,p);u=t.filter.updateFullNode(e.eventCache.getNode(),m,a)}else{const d=_h(i,Sa(e));u=t.filter.updateFullNode(e.eventCache.getNode(),d,a)}else{const d=Ie(n);if(d===".priority"){oe(Ms(n)===1,"Can't have a priority with additional path components");const p=l.getNode();f=e.serverCache.getNode();const m=bC(i,n,p,f);m!=null?u=t.filter.updatePriority(p,m):u=l.getNode()}else{const p=ot(n);let m;if(l.isCompleteForChild(d)){f=e.serverCache.getNode();const y=bC(i,n,l.getNode(),f);y!=null?m=l.getNode().getImmediateChild(d).updateChild(p,y):m=l.getNode().getImmediateChild(d)}else m=ex(i,d,e.serverCache);m!=null?u=t.filter.updateChild(l.getNode(),d,m,p,r,a):u=l.getNode()}}return Gc(e,u,l.isFullyInitialized()||je(n),t.filter.filtersNodes())}}function bh(t,e,n,i,r,a,l,u){const f=e.serverCache;let d;const p=l?t.filter:t.filter.getIndexedFilter();if(je(n))d=p.updateFullNode(f.getNode(),i,null);else if(p.filtersNodes()&&!f.isFiltered()){const b=f.getNode().updateChild(n,i);d=p.updateFullNode(f.getNode(),b,null)}else{const b=Ie(n);if(!f.isCompleteForPath(n)&&Ms(n)>1)return e;const v=ot(n),w=f.getNode().getImmediateChild(b).updateChild(v,i);b===".priority"?d=p.updatePriority(f.getNode(),w):d=p.updateChild(f.getNode(),b,w,v,s4,null)}const m=JN(e,d,f.isFullyInitialized()||je(n),p.filtersNodes()),y=new tx(r,m,a);return a4(t,m,n,r,y,u)}function Fv(t,e,n,i,r,a,l){const u=e.eventCache;let f,d;const p=new tx(r,e,a);if(je(n))d=t.filter.updateFullNode(e.eventCache.getNode(),i,l),f=Gc(e,d,!0,t.filter.filtersNodes());else{const m=Ie(n);if(m===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),i),f=Gc(e,d,u.isFullyInitialized(),u.isFiltered());else{const y=ot(n),b=u.getNode().getImmediateChild(m);let v;if(je(y))v=i;else{const x=p.getCompleteChild(m);x!=null?UN(y)===".priority"&&x.getChild(qN(y)).isEmpty()?v=x:v=x.updateChild(y,i):v=xe.EMPTY_NODE}if(b.equals(v))f=e;else{const x=t.filter.updateChild(u.getNode(),m,v,y,p,l);f=Gc(e,x,u.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function vC(t,e){return t.eventCache.isCompleteForChild(e)}function iU(t,e,n,i,r,a,l){let u=e;return i.foreach((f,d)=>{const p=It(n,f);vC(e,Ie(p))&&(u=Fv(t,u,p,d,r,a,l))}),i.foreach((f,d)=>{const p=It(n,f);vC(e,Ie(p))||(u=Fv(t,u,p,d,r,a,l))}),u}function xC(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Vv(t,e,n,i,r,a,l,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,d;je(n)?d=i:d=new dt(null).setTree(n,i);const p=e.serverCache.getNode();return d.children.inorderTraversal((m,y)=>{if(p.hasChild(m)){const b=e.serverCache.getNode().getImmediateChild(m),v=xC(t,b,y);f=bh(t,f,new nt(m),v,r,a,l,u)}}),d.children.inorderTraversal((m,y)=>{const b=!e.serverCache.isCompleteForChild(m)&&y.value===null;if(!p.hasChild(m)&&!b){const v=e.serverCache.getNode().getImmediateChild(m),x=xC(t,v,y);f=bh(t,f,new nt(m),x,r,a,l,u)}}),f}function rU(t,e,n,i,r,a,l){if(yh(r,n)!=null)return e;const u=e.serverCache.isFiltered(),f=e.serverCache;if(i.value!=null){if(je(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return bh(t,e,n,f.getNode().getChild(n),r,a,u,l);if(je(n)){let d=new dt(null);return f.getNode().forEachChild(ws,(p,m)=>{d=d.set(new nt(p),m)}),Vv(t,e,n,d,r,a,u,l)}else return e}else{let d=new dt(null);return i.foreach((p,m)=>{const y=It(n,p);f.isCompleteForPath(y)&&(d=d.set(p,f.getNode().getChild(y)))}),Vv(t,e,n,d,r,a,u,l)}}function sU(t,e,n,i,r){const a=e.serverCache,l=JN(e,a.getNode(),a.isFullyInitialized()||je(n),a.isFiltered());return a4(t,l,n,i,s4,r)}function aU(t,e,n,i,r,a){let l;if(yh(i,n)!=null)return e;{const u=new tx(i,e,r),f=e.eventCache.getNode();let d;if(je(n)||Ie(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=_h(i,Sa(e));else{const m=e.serverCache.getNode();oe(m instanceof xe,"serverChildren would be complete if leaf node"),p=J1(i,m)}p=p,d=t.filter.updateFullNode(f,p,a)}else{const p=Ie(n);let m=ex(i,p,e.serverCache);m==null&&e.serverCache.isCompleteForChild(p)&&(m=f.getImmediateChild(p)),m!=null?d=t.filter.updateChild(f,p,m,ot(n),u,a):e.eventCache.getNode().hasChild(p)?d=t.filter.updateChild(f,p,xe.EMPTY_NODE,ot(n),u,a):d=f,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=_h(i,Sa(e)),l.isLeafNode()&&(d=t.filter.updateFullNode(d,l,a)))}return l=e.serverCache.isFullyInitialized()||yh(i,Fe())!=null,Gc(e,d,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new K1(i.getIndex()),a=Ez(i);this.processor_=Jz(a);const l=n.serverCache,u=n.eventCache,f=r.updateFullNode(xe.EMPTY_NODE,l.getNode(),null),d=a.updateFullNode(xe.EMPTY_NODE,u.getNode(),null),p=new ks(f,l.isFullyInitialized(),r.filtersNodes()),m=new ks(d,u.isFullyInitialized(),a.filtersNodes());this.viewCache_=ag(m,p),this.eventGenerator_=new Iz(this.query_)}get query(){return this.query_}}function lU(t){return t.viewCache_.serverCache.getNode()}function cU(t){return mh(t.viewCache_)}function uU(t,e){const n=Sa(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!je(e)&&!n.getImmediateChild(Ie(e)).isEmpty())?n.getChild(e):null}function wC(t){return t.eventRegistrations_.length===0}function fU(t,e){t.eventRegistrations_.push(e)}function SC(t,e,n){const i=[];if(n){oe(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(a=>{const l=a.createCancelEvent(n,r);l&&i.push(l)})}if(e){let r=[];for(let a=0;a<t.eventRegistrations_.length;++a){const l=t.eventRegistrations_[a];if(!l.matches(e))r.push(l);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function TC(t,e,n,i){e.type===fi.MERGE&&e.source.queryId!==null&&(oe(Sa(t.viewCache_),"We should always have a full cache before handling merges"),oe(mh(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,a=tU(t.processor_,r,e,n,i);return eU(t.processor_,a.viewCache),oe(a.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,o4(t,a.changes,a.viewCache.eventCache.getNode(),null)}function dU(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(yt,(a,l)=>{i.push($o(a,l))}),n.isFullyInitialized()&&i.push(XN(n.getNode())),o4(t,i,n.getNode(),e)}function o4(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return Dz(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh;class l4{constructor(){this.views=new Map}}function hU(t){oe(!vh,"__referenceConstructor has already been defined"),vh=t}function gU(){return oe(vh,"Reference.ts has not been loaded"),vh}function pU(t){return t.views.size===0}function nx(t,e,n,i){const r=e.source.queryId;if(r!==null){const a=t.views.get(r);return oe(a!=null,"SyncTree gave us an op for an invalid query."),TC(a,e,n,i)}else{let a=[];for(const l of t.views.values())a=a.concat(TC(l,e,n,i));return a}}function c4(t,e,n,i,r){const a=e._queryIdentifier,l=t.views.get(a);if(!l){let u=_h(n,r?i:null),f=!1;u?f=!0:i instanceof xe?(u=J1(n,i),f=!1):(u=xe.EMPTY_NODE,f=!1);const d=ag(new ks(u,f,!1),new ks(i,r,!1));return new oU(e,d)}return l}function mU(t,e,n,i,r,a){const l=c4(t,e,i,r,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),fU(l,n),dU(l,n)}function _U(t,e,n,i){const r=e._queryIdentifier,a=[];let l=[];const u=Os(t);if(r==="default")for(const[f,d]of t.views.entries())l=l.concat(SC(d,n,i)),wC(d)&&(t.views.delete(f),d.query._queryParams.loadsAllData()||a.push(d.query));else{const f=t.views.get(r);f&&(l=l.concat(SC(f,n,i)),wC(f)&&(t.views.delete(r),f.query._queryParams.loadsAllData()||a.push(f.query)))}return u&&!Os(t)&&a.push(new(gU())(e._repo,e._path)),{removed:a,events:l}}function u4(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ts(t,e){let n=null;for(const i of t.views.values())n=n||uU(i,e);return n}function f4(t,e){if(e._queryParams.loadsAllData())return lg(t);{const i=e._queryIdentifier;return t.views.get(i)}}function d4(t,e){return f4(t,e)!=null}function Os(t){return lg(t)!=null}function lg(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh;function yU(t){oe(!xh,"__referenceConstructor has already been defined"),xh=t}function bU(){return oe(xh,"Reference.ts has not been loaded"),xh}let vU=1;class EC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new dt(null),this.pendingWriteTree_=Kz(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function h4(t,e,n,i,r){return zz(t.pendingWriteTree_,e,n,i,r),r?Gu(t,new wa(ZN(),e,n)):[]}function da(t,e,n=!1){const i=Uz(t.pendingWriteTree_,e);if(Hz(t.pendingWriteTree_,e)){let a=new dt(null);return i.snap!=null?a=a.set(Fe(),!0):Sn(i.children,l=>{a=a.set(new nt(l),!0)}),Gu(t,new ph(i.path,a,n))}else return[]}function Yu(t,e,n){return Gu(t,new wa(Q1(),e,n))}function xU(t,e,n){const i=dt.fromObject(n);return Gu(t,new yu(Q1(),e,i))}function wU(t,e){return Gu(t,new _u(Q1(),e))}function SU(t,e,n){const i=rx(t,n);if(i){const r=sx(i),a=r.path,l=r.queryId,u=cn(a,e),f=new _u(Z1(l),u);return ax(t,a,f)}else return[]}function wh(t,e,n,i,r=!1){const a=e._path,l=t.syncPointTree_.get(a);let u=[];if(l&&(e._queryIdentifier==="default"||d4(l,e))){const f=_U(l,e,n,i);pU(l)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const d=f.removed;if(u=f.events,!r){const p=d.findIndex(y=>y._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(a,(y,b)=>Os(b));if(p&&!m){const y=t.syncPointTree_.subtree(a);if(!y.isEmpty()){const b=CU(y);for(let v=0;v<b.length;++v){const x=b[v],w=x.query,E=_4(t,x);t.listenProvider_.startListening(Xc(w),bu(t,w),E.hashFn,E.onComplete)}}}!m&&d.length>0&&!i&&(p?t.listenProvider_.stopListening(Xc(e),null):d.forEach(y=>{const b=t.queryToTagMap.get(cg(y));t.listenProvider_.stopListening(Xc(y),b)}))}AU(t,d)}return u}function g4(t,e,n,i){const r=rx(t,i);if(r!=null){const a=sx(r),l=a.path,u=a.queryId,f=cn(l,e),d=new wa(Z1(u),f,n);return ax(t,l,d)}else return[]}function TU(t,e,n,i){const r=rx(t,i);if(r){const a=sx(r),l=a.path,u=a.queryId,f=cn(l,e),d=dt.fromObject(n),p=new yu(Z1(u),f,d);return ax(t,l,p)}else return[]}function Wv(t,e,n,i=!1){const r=e._path;let a=null,l=!1;t.syncPointTree_.foreachOnPath(r,(y,b)=>{const v=cn(y,r);a=a||Ts(b,v),l=l||Os(b)});let u=t.syncPointTree_.get(r);u?(l=l||Os(u),a=a||Ts(u,Fe())):(u=new l4,t.syncPointTree_=t.syncPointTree_.set(r,u));let f;a!=null?f=!0:(f=!1,a=xe.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((b,v)=>{const x=Ts(v,Fe());x&&(a=a.updateImmediateChild(b,x))}));const d=d4(u,e);if(!d&&!e._queryParams.loadsAllData()){const y=cg(e);oe(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const b=RU();t.queryToTagMap.set(y,b),t.tagToQueryMap.set(b,y)}const p=og(t.pendingWriteTree_,r);let m=mU(u,e,n,p,a,f);if(!d&&!l&&!i){const y=f4(u,e);m=m.concat(MU(t,e,y))}return m}function ix(t,e,n){const r=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(l,u)=>{const f=cn(l,e),d=Ts(u,f);if(d)return d});return n4(r,e,a,n,!0)}function EU(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(d,p)=>{const m=cn(d,n);i=i||Ts(p,m)});let r=t.syncPointTree_.get(n);r?i=i||Ts(r,Fe()):(r=new l4,t.syncPointTree_=t.syncPointTree_.set(n,r));const a=i!=null,l=a?new ks(i,!0,!1):null,u=og(t.pendingWriteTree_,e._path),f=c4(r,e,u,a?l.getNode():xe.EMPTY_NODE,a);return cU(f)}function Gu(t,e){return p4(e,t.syncPointTree_,null,og(t.pendingWriteTree_,Fe()))}function p4(t,e,n,i){if(je(t.path))return m4(t,e,n,i);{const r=e.get(Fe());n==null&&r!=null&&(n=Ts(r,Fe()));let a=[];const l=Ie(t.path),u=t.operationForChild(l),f=e.children.get(l);if(f&&u){const d=n?n.getImmediateChild(l):null,p=i4(i,l);a=a.concat(p4(u,f,d,p))}return r&&(a=a.concat(nx(r,t,i,n))),a}}function m4(t,e,n,i){const r=e.get(Fe());n==null&&r!=null&&(n=Ts(r,Fe()));let a=[];return e.children.inorderTraversal((l,u)=>{const f=n?n.getImmediateChild(l):null,d=i4(i,l),p=t.operationForChild(l);p&&(a=a.concat(m4(p,u,f,d)))}),r&&(a=a.concat(nx(r,t,i,n))),a}function _4(t,e){const n=e.query,i=bu(t,n);return{hashFn:()=>(lU(e)||xe.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?SU(t,n._path,i):wU(t,n._path);{const a=Cj(r,n);return wh(t,n,null,a)}}}}function bu(t,e){const n=cg(e);return t.queryToTagMap.get(n)}function cg(t){return t._path.toString()+"$"+t._queryIdentifier}function rx(t,e){return t.tagToQueryMap.get(e)}function sx(t){const e=t.indexOf("$");return oe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new nt(t.substr(0,e))}}function ax(t,e,n){const i=t.syncPointTree_.get(e);oe(i,"Missing sync point for query tag that we're tracking");const r=og(t.pendingWriteTree_,e);return nx(i,n,r,null)}function CU(t){return t.fold((e,n,i)=>{if(n&&Os(n))return[lg(n)];{let r=[];return n&&(r=u4(n)),Sn(i,(a,l)=>{r=r.concat(l)}),r}})}function Xc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(bU())(t._repo,t._path):t}function AU(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=cg(i),a=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(a)}}}function RU(){return vU++}function MU(t,e,n){const i=e._path,r=bu(t,e),a=_4(t,n),l=t.listenProvider_.startListening(Xc(e),r,a.hashFn,a.onComplete),u=t.syncPointTree_.subtree(i);if(r)oe(!Os(u.value),"If we're adding a query, it shouldn't be shadowed");else{const f=u.fold((d,p,m)=>{if(!je(d)&&p&&Os(p))return[lg(p).query];{let y=[];return p&&(y=y.concat(u4(p).map(b=>b.query))),Sn(m,(b,v)=>{y=y.concat(v)}),y}});for(let d=0;d<f.length;++d){const p=f[d];t.listenProvider_.stopListening(Xc(p),bu(t,p))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ox(n)}node(){return this.node_}}class lx{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=It(this.path_,e);return new lx(this.syncTree_,n)}node(){return ix(this.syncTree_,this.path_)}}const kU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},CC=function(t,e,n){if(!t||typeof t!="object")return t;if(oe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return OU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return NU(t[".sv"],e);oe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},OU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:oe(!1,"Unexpected server value: "+t)}},NU=function(t,e,n){t.hasOwnProperty("increment")||oe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&oe(!1,"Unexpected increment value: "+i);const r=e.node();if(oe(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return typeof l!="number"?i:l+i},IU=function(t,e,n,i){return cx(e,new lx(n,t),i)},y4=function(t,e,n){return cx(t,new ox(e),n)};function cx(t,e,n){const i=t.getPriority().val(),r=CC(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const l=t,u=CC(l.getValue(),e,n);return u!==l.getValue()||r!==l.getPriority().val()?new Ut(u,qt(r)):t}else{const l=t;return a=l,r!==l.getPriority().val()&&(a=a.updatePriority(new Ut(r))),l.forEachChild(yt,(u,f)=>{const d=cx(f,e.getImmediateChild(u),n);d!==f&&(a=a.updateImmediateChild(u,d))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function fx(t,e){let n=e instanceof nt?e:new nt(e),i=t,r=Ie(n);for(;r!==null;){const a=Wo(i.node.children,r)||{children:{},childCount:0};i=new ux(r,i,a),n=ot(n),r=Ie(n)}return i}function dl(t){return t.node.value}function b4(t,e){t.node.value=e,$v(t)}function v4(t){return t.node.childCount>0}function DU(t){return dl(t)===void 0&&!v4(t)}function ug(t,e){Sn(t.node.children,(n,i)=>{e(new ux(n,t,i))})}function x4(t,e,n,i){n&&e(t),ug(t,r=>{x4(r,e,!0)})}function PU(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ku(t){return new nt(t.parent===null?t.name:Ku(t.parent)+"/"+t.name)}function $v(t){t.parent!==null&&LU(t.parent,t.name,t)}function LU(t,e,n){const i=DU(n),r=Gi(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,$v(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,$v(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=/[\[\].#$\/\u0000-\u001F\u007F]/,zU=/[\[\].#$\u0000-\u001F\u007F]/,Z0=10*1024*1024,w4=function(t){return typeof t=="string"&&t.length!==0&&!jU.test(t)},S4=function(t){return typeof t=="string"&&t.length!==0&&!zU.test(t)},UU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),S4(t)},AC=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!q1(t)||t&&typeof t=="object"&&Gi(t,".sv")},HU=function(t,e,n,i){dx(z1(t,"value"),e,n)},dx=function(t,e,n){const i=n instanceof nt?new sz(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+oa(i));if(typeof e=="function")throw new Error(t+"contains a function "+oa(i)+" with contents = "+e.toString());if(q1(e))throw new Error(t+"contains "+e.toString()+" "+oa(i));if(typeof e=="string"&&e.length>Z0/3&&ig(e)>Z0)throw new Error(t+"contains a string greater than "+Z0+" utf8 bytes "+oa(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,a=!1;if(Sn(e,(l,u)=>{if(l===".value")r=!0;else if(l!==".priority"&&l!==".sv"&&(a=!0,!w4(l)))throw new Error(t+" contains an invalid key ("+l+") "+oa(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);az(i,l),dx(t,u,i),oz(i)}),r&&a)throw new Error(t+' contains ".value" child '+oa(i)+" in addition to actual children.")}},T4=function(t,e,n,i){if(!S4(n))throw new Error(z1(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},qU=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),T4(t,e,n)},BU=function(t,e){if(Ie(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},FU=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!w4(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!UU(n))throw new Error(z1(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hx(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],a=r.getPath();n!==null&&!$1(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(r)}n&&t.eventLists_.push(n)}function E4(t,e,n){hx(t,n),C4(t,i=>$1(i,e))}function Bi(t,e,n){hx(t,n),C4(t,i=>ui(i,e)||ui(e,i))}function C4(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const a=r.path;e(a)?(WU(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function WU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();$c&&tn("event: "+n.toString()),fl(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U="repo_interrupt",YU=25;class GU{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new VU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gh(),this.transactionQueueTree_=new ux,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function KU(t,e,n){if(t.stats_=V1(t.repoInfo_),t.forceRestClient_||kj())t.server_=new hh(t.repoInfo_,(i,r,a,l)=>{RC(t,i,r,a,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>MC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Cr(t.repoInfo_,e,(i,r,a,l)=>{RC(t,i,r,a,l)},i=>{MC(t,i)},i=>{QU(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=Pj(t.repoInfo_,()=>new Nz(t.stats_,t.server_)),t.infoData_=new Az,t.infoSyncTree_=new EC({startListening:(i,r,a,l)=>{let u=[];const f=t.infoData_.getNode(i._path);return f.isEmpty()||(u=Yu(t.infoSyncTree_,i._path,f),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),px(t,"connected",!1),t.serverSyncTree_=new EC({startListening:(i,r,a,l)=>(t.server_.listen(i,a,r,(u,f)=>{const d=l(u,f);Bi(t.eventQueue_,i._path,d)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function XU(t){const n=t.infoData_.getNode(new nt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function gx(t){return kU({timestamp:XU(t)})}function RC(t,e,n,i,r){t.dataUpdateCount++;const a=new nt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(r)if(i){const f=lh(n,d=>qt(d));l=TU(t.serverSyncTree_,a,f,r)}else{const f=qt(n);l=g4(t.serverSyncTree_,a,f,r)}else if(i){const f=lh(n,d=>qt(d));l=xU(t.serverSyncTree_,a,f)}else{const f=qt(n);l=Yu(t.serverSyncTree_,a,f)}let u=a;l.length>0&&(u=dg(t,a)),Bi(t.eventQueue_,u,l)}function MC(t,e){px(t,"connected",e),e===!1&&eH(t)}function QU(t,e){Sn(e,(n,i)=>{px(t,n,i)})}function px(t,e,n){const i=new nt("/.info/"+e),r=qt(n);t.infoData_.updateSnapshot(i,r);const a=Yu(t.infoSyncTree_,i,r);Bi(t.eventQueue_,i,a)}function A4(t){return t.nextWriteId_++}function ZU(t,e,n){const i=EU(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const a=qt(r).withIndex(e._queryParams.getIndex());Wv(t.serverSyncTree_,e,n,!0);let l;if(e._queryParams.loadsAllData())l=Yu(t.serverSyncTree_,e._path,a);else{const u=bu(t.serverSyncTree_,e);l=g4(t.serverSyncTree_,e._path,a,u)}return Bi(t.eventQueue_,e._path,l),wh(t.serverSyncTree_,e,n,null,!0),a},r=>(fg(t,"get for query "+Nt(e)+" failed: "+r),Promise.reject(new Error(r))))}function JU(t,e,n,i,r){fg(t,"set",{path:e.toString(),value:n,priority:i});const a=gx(t),l=qt(n,i),u=ix(t.serverSyncTree_,e),f=y4(l,u,a),d=A4(t),p=h4(t.serverSyncTree_,e,f,d,!0);hx(t.eventQueue_,p),t.server_.put(e.toString(),l.val(!0),(y,b)=>{const v=y==="ok";v||xn("set at "+e+" failed: "+y);const x=da(t.serverSyncTree_,d,!v);Bi(t.eventQueue_,e,x),rH(t,r,y,b)});const m=N4(t,e);dg(t,m),Bi(t.eventQueue_,m,[])}function eH(t){fg(t,"onDisconnectEvents");const e=gx(t),n=gh();Hv(t.onDisconnect_,Fe(),(r,a)=>{const l=IU(r,a,t.serverSyncTree_,e);QN(n,r,l)});let i=[];Hv(n,Fe(),(r,a)=>{i=i.concat(Yu(t.serverSyncTree_,r,a));const l=N4(t,r);dg(t,l)}),t.onDisconnect_=gh(),Bi(t.eventQueue_,Fe(),i)}function tH(t,e,n){let i;Ie(e._path)===".info"?i=Wv(t.infoSyncTree_,e,n):i=Wv(t.serverSyncTree_,e,n),E4(t.eventQueue_,e._path,i)}function nH(t,e,n){let i;Ie(e._path)===".info"?i=wh(t.infoSyncTree_,e,n):i=wh(t.serverSyncTree_,e,n),E4(t.eventQueue_,e._path,i)}function iH(t){t.persistentConnection_&&t.persistentConnection_.interrupt($U)}function fg(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),tn(n,...e)}function rH(t,e,n,i){e&&fl(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let a=r;i&&(a+=": "+i);const l=new Error(a);l.code=r,e(l)}})}function R4(t,e,n){return ix(t.serverSyncTree_,e,n)||xe.EMPTY_NODE}function mx(t,e=t.transactionQueueTree_){if(e||hg(t,e),dl(e)){const n=k4(t,e);oe(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&sH(t,Ku(e),n)}else v4(e)&&ug(e,n=>{mx(t,n)})}function sH(t,e,n){const i=n.map(d=>d.currentWriteId),r=R4(t,e,i);let a=r;const l=r.hash();for(let d=0;d<n.length;d++){const p=n[d];oe(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=cn(e,p.path);a=a.updateChild(m,p.currentOutputSnapshotRaw)}const u=a.val(!0),f=e;t.server_.put(f.toString(),u,d=>{fg(t,"transaction put response",{path:f.toString(),status:d});let p=[];if(d==="ok"){const m=[];for(let y=0;y<n.length;y++)n[y].status=2,p=p.concat(da(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&m.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();hg(t,fx(t.transactionQueueTree_,e)),mx(t,t.transactionQueueTree_),Bi(t.eventQueue_,e,p);for(let y=0;y<m.length;y++)fl(m[y])}else{if(d==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{xn("transaction at "+f.toString()+" failed: "+d);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=d}dg(t,e)}},l)}function dg(t,e){const n=M4(t,e),i=Ku(n),r=k4(t,n);return aH(t,r,i),i}function aH(t,e,n){if(e.length===0)return;const i=[];let r=[];const l=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const f=e[u],d=cn(n,f.path);let p=!1,m;if(oe(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)p=!0,m=f.abortReason,r=r.concat(da(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=YU)p=!0,m="maxretry",r=r.concat(da(t.serverSyncTree_,f.currentWriteId,!0));else{const y=R4(t,f.path,l);f.currentInputSnapshot=y;const b=e[u].update(y.val());if(b!==void 0){dx("transaction failed: Data returned ",b,f.path);let v=qt(b);typeof b=="object"&&b!=null&&Gi(b,".priority")||(v=v.updatePriority(y.getPriority()));const w=f.currentWriteId,E=gx(t),k=y4(v,y,E);f.currentOutputSnapshotRaw=v,f.currentOutputSnapshotResolved=k,f.currentWriteId=A4(t),l.splice(l.indexOf(w),1),r=r.concat(h4(t.serverSyncTree_,f.path,k,f.currentWriteId,f.applyLocally)),r=r.concat(da(t.serverSyncTree_,w,!0))}else p=!0,m="nodata",r=r.concat(da(t.serverSyncTree_,f.currentWriteId,!0))}Bi(t.eventQueue_,n,r),r=[],p&&(e[u].status=2,function(y){setTimeout(y,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(m==="nodata"?i.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):i.push(()=>e[u].onComplete(new Error(m),!1,null))))}hg(t,t.transactionQueueTree_);for(let u=0;u<i.length;u++)fl(i[u]);mx(t,t.transactionQueueTree_)}function M4(t,e){let n,i=t.transactionQueueTree_;for(n=Ie(e);n!==null&&dl(i)===void 0;)i=fx(i,n),e=ot(e),n=Ie(e);return i}function k4(t,e){const n=[];return O4(t,e,n),n.sort((i,r)=>i.order-r.order),n}function O4(t,e,n){const i=dl(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);ug(e,r=>{O4(t,r,n)})}function hg(t,e){const n=dl(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,b4(e,n.length>0?n:void 0)}ug(e,i=>{hg(t,i)})}function N4(t,e){const n=Ku(M4(t,e)),i=fx(t.transactionQueueTree_,e);return PU(i,r=>{J0(t,r)}),J0(t,i),x4(i,r=>{J0(t,r)}),n}function J0(t,e){const n=dl(e);if(n){const i=[];let r=[],a=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(oe(a===l-1,"All SENT items should be at beginning of queue."),a=l,n[l].status=3,n[l].abortReason="set"):(oe(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),r=r.concat(da(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&i.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));a===-1?b4(e,void 0):n.length=a+1,Bi(t.eventQueue_,Ku(e),r);for(let l=0;l<i.length;l++)fl(i[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oH(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function lH(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):xn(`Invalid query segment '${n}' in query '${t}'`)}return e}const kC=function(t,e){const n=cH(t),i=n.namespace;n.domain==="firebase.com"&&kr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&kr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||xj();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new kN(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new nt(n.pathString)}},cH=function(t){let e="",n="",i="",r="",a="",l=!0,u="https",f=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(u=t.substring(0,d-1),t=t.substring(d+2));let p=t.indexOf("/");p===-1&&(p=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(p,m)),p<m&&(r=oH(t.substring(p,m)));const y=lH(t.substring(Math.min(t.length,m)));d=e.indexOf(":"),d>=0?(l=u==="https"||u==="wss",f=parseInt(e.substring(d+1),10)):d=e.length;const b=e.slice(0,d);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const v=e.indexOf(".");i=e.substring(0,v).toLowerCase(),n=e.substring(v+1),a=i}"ns"in y&&(a=y.ns)}return{host:e,port:f,domain:n,subdomain:i,secure:l,scheme:u,pathString:r,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Nt(this.snapshot.exportVal())}}class fH{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return oe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return je(this._path)?null:UN(this._path)}get ref(){return new Dr(this._repo,this._path)}get _queryIdentifier(){const e=gC(this._queryParams),n=B1(e);return n==="{}"?"default":n}get _queryObject(){return gC(this._queryParams)}isEqual(e){if(e=At(e),!(e instanceof gg))return!1;const n=this._repo===e._repo,i=$1(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+rz(this._path)}}function dH(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function hH(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ws){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==xa)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==Rs)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(t.getIndex()===yt){if(e!=null&&!AC(e)||n!=null&&!AC(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(oe(t.getIndex()instanceof GN||t.getIndex()===KN,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class Dr extends gg{constructor(e,n){super(e,n,new X1,!1)}get parent(){const e=qN(this._path);return e===null?null:new Dr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class vu{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new nt(e),i=Yv(this.ref,e);return new vu(this._node.getChild(n),i,yt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new vu(r,Yv(this.ref,i),yt)))}hasChild(e){const n=new nt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pg(t,e){return t=At(t),t._checkNotDeleted("ref"),e!==void 0?Yv(t._root,e):t._root}function Yv(t,e){return t=At(t),Ie(t._path)===null?qU("child","path",e):T4("child","path",e),new Dr(t._repo,It(t._path,e))}function D4(t,e){t=At(t),BU("set",t._path),HU("set",e,t._path);const n=new ng;return JU(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function gH(t){t=At(t);const e=new I4(()=>{}),n=new mg(e);return ZU(t._repo,t,n).then(i=>new vu(i,new Dr(t._repo,t._path),t._queryParams.getIndex()))}class mg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new uH("value",this,new vu(e.snapshotNode,new Dr(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new fH(this,e,n):null}matches(e){return e instanceof mg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function pH(t,e,n,i,r){const a=new I4(n,void 0),l=new mg(a);return tH(t._repo,t,l),()=>nH(t._repo,t,l)}function mH(t,e,n,i){return pH(t,"value",e)}class _H{}class yH extends _H{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){dH(e,"orderByKey");const n=Cz(e._queryParams,ws);return hH(n),new gg(e._repo,e._path,n,!0)}}function bH(){return new yH}function vH(t,...e){let n=At(t);for(const i of e)n=i._apply(n);return n}hU(Dr);yU(Dr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH="FIREBASE_DATABASE_EMULATOR_HOST",Gv={};let wH=!1;function SH(t,e,n,i){t.repoInfo_=new kN(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function TH(t,e,n,i,r){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||kr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tn("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=kC(a,r),u=l.repoInfo,f;typeof process<"u"&&XE&&(f=XE[xH]),f?(a=`http://${f}?ns=${u.namespace}`,l=kC(a,r),u=l.repoInfo):l.repoInfo.secure;const d=new Nj(t.name,t.options,e);FU("Invalid Firebase Database URL",l),je(l.path)||kr("Database URL must point to the root of a Firebase Database (not including a child path).");const p=CH(u,t,d,new Oj(t,n));return new AH(p,t)}function EH(t,e){const n=Gv[e];(!n||n[t.key]!==t)&&kr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),iH(t),delete n[t.key]}function CH(t,e,n,i){let r=Gv[e.name];r||(r={},Gv[e.name]=r);let a=r[t.toURLString()];return a&&kr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new GU(t,wH,n,i),r[t.toURLString()]=a,a}class AH{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(KU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dr(this._repo,Fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(EH(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&kr("Cannot call "+e+" on a deleted database.")}}function RH(t=H1(),e){const n=Pa(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=HP("database");i&&MH(n,...i)}return n}function MH(t,e,n,i={}){t=At(t),t._checkNotDeleted("useEmulator");const r=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&As(i,a.repoInfo_.emulatorOptions))return;kr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&kr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Yd(Yd.OWNER);else if(i.mockUserToken){const u=typeof i.mockUserToken=="string"?i.mockUserToken:qP(i.mockUserToken,t.app.options.projectId);l=new Yd(u)}SH(a,r,i,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kH(t){pj(cl),qi(new bi("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return TH(i,r,a,n)},"PUBLIC").setMultipleInstances(!0)),Jn(QE,ZE,t),Jn(QE,ZE,"esm2017")}Cr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Cr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};kH();function _x(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function P4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OH=P4,L4=new Da("auth","Firebase",P4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new rg("@firebase/auth");function NH(t,...e){Sh.logLevel<=Je.WARN&&Sh.warn(`Auth (${cl}): ${t}`,...e)}function Gd(t,...e){Sh.logLevel<=Je.ERROR&&Sh.error(`Auth (${cl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,...e){throw bx(t,...e)}function mi(t,...e){return bx(t,...e)}function yx(t,e,n){const i=Object.assign(Object.assign({},OH()),{[e]:n});return new Da("auth","Firebase",i).create(e,{appName:t.name})}function Ar(t){return yx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IH(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ei(t,"argument-error"),yx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bx(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return L4.create(t,...e)}function ve(t,e,...n){if(!t)throw bx(e,...n)}function Sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gd(e),new Error(e)}function Or(t,e){t||Sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function DH(){return OC()==="http:"||OC()==="https:"}function OC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DH()||sN()||"connection"in navigator)?navigator.onLine:!0}function LH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=j1()||aN()}get(){return PH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t,e){Or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UH=new Xu(3e4,6e4);function Ds(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Pr(t,e,n,i,r={}){return z4(t,r,async()=>{let a={},l={};i&&(e==="GET"?l=i:a={body:JSON.stringify(i)});const u=ll(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:f},a);return BP()||(d.referrerPolicy="no-referrer"),j4.fetch()(await U4(t,t.config.apiHost,n,u),d)})}async function z4(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},jH),e);try{const r=new qH(t),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Sd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Sd(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Sd(t,"user-disabled",l);const p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw yx(t,p,d);ei(t,p)}}catch(r){if(r instanceof Yi)throw r;ei(t,"network-request-failed",{message:String(r)})}}async function Qu(t,e,n,i,r={}){const a=await Pr(t,e,n,i,r);return"mfaPendingCredential"in a&&ei(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function U4(t,e,n,i){const r=`${e}${n}?${i}`,a=t,l=a.config.emulator?vx(t.config,r):`${t.config.apiScheme}://${r}`;return zH.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function HH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(mi(this.auth,"network-request-failed")),UH.get())})}}function Sd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=mi(t,e,i);return r.customData._tokenResponse=n,r}function NC(t){return t!==void 0&&t.enterprise!==void 0}class BH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FH(t,e){return Pr(t,"GET","/v2/recaptchaConfig",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VH(t,e){return Pr(t,"POST","/v1/accounts:delete",e)}async function Th(t,e){return Pr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WH(t,e=!1){const n=At(t),i=await n.getIdToken(e),r=xx(i);ve(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:Qc(e_(r.auth_time)),issuedAtTime:Qc(e_(r.iat)),expirationTime:Qc(e_(r.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function e_(t){return Number(t)*1e3}function xx(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Gd("JWT malformed, contained fewer than 3 sections"),null;try{const r=oh(n);return r?JSON.parse(r):(Gd("Failed to decode base64 JWT payload"),null)}catch(r){return Gd("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function IC(t){const e=xx(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Yi&&$H(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function $H({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Go(t,Th(n,{idToken:i}));ve(r==null?void 0:r.users.length,n,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?H4(a.providerUserInfo):[],u=KH(t.providerData,l),f=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(u!=null&&u.length),p=f?d:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Xv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function GH(t){const e=At(t);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KH(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function H4(t){return t.map(e=>{var{providerId:n}=e,i=_x(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XH(t,e){const n=await z4(t,{},async()=>{const i=ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,l=await U4(t,r,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",j4.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QH(t,e){return Pr(t,"POST","/v2/accounts:revokeToken",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=IC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:a}=await XH(e,n);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:a}=n,l=new jo;return i&&(ve(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(ve(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),a&&(ve(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,a=_x(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Go(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WH(this,e)}reload(){return GH(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Ar(this.auth));const e=await this.getIdToken();return await Go(this,VH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,a,l,u,f,d,p;const m=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(r=n.email)!==null&&r!==void 0?r:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,v=(l=n.photoURL)!==null&&l!==void 0?l:void 0,x=(u=n.tenantId)!==null&&u!==void 0?u:void 0,w=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,E=(d=n.createdAt)!==null&&d!==void 0?d:void 0,k=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:O,emailVerified:A,isAnonymous:M,providerData:R,stsTokenManager:P}=n;ve(O&&P,e,"internal-error");const z=jo.fromJSON(this.name,P);ve(typeof O=="string",e,"internal-error"),os(m,e.name),os(y,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof M=="boolean",e,"internal-error"),os(b,e.name),os(v,e.name),os(x,e.name),os(w,e.name),os(E,e.name),os(k,e.name);const V=new di({uid:O,auth:e,email:y,emailVerified:A,displayName:m,isAnonymous:M,photoURL:v,phoneNumber:b,tenantId:x,stsTokenManager:z,createdAt:E,lastLoginAt:k});return R&&Array.isArray(R)&&(V.providerData=R.map($=>Object.assign({},$))),w&&(V._redirectEventId=w),V}static async _fromIdTokenResponse(e,n,i=!1){const r=new jo;r.updateFromServerResponse(n);const a=new di({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Eh(a),a}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];ve(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?H4(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),u=new jo;u.updateFromIdToken(i);const f=new di({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:l}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Xv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new Map;function Tr(t){Or(t instanceof Function,"Expected a class definition");let e=DC.get(t);return e?(Or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}q4.type="NONE";const PC=q4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t,e,n){return`firebase:${t}:${e}:${n}`}class zo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Kd(this.userKey,r.apiKey,a),this.fullPersistenceKey=Kd("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Th(this.auth,{idToken:e}).catch(()=>{});return n?di._fromGetAccountInfoResponse(this.auth,n,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new zo(Tr(PC),e,i);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=r[0]||Tr(PC);const l=Kd(i,e.config.apiKey,e.name);let u=null;for(const d of n)try{const p=await d._get(l);if(p){let m;if(typeof p=="string"){const y=await Th(e,{idToken:p}).catch(()=>{});if(!y)break;m=await di._fromGetAccountInfoResponse(e,y,p)}else m=di._fromJSON(e,p);d!==a&&(u=m),a=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new zo(a,e,i):(a=f[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(l)}catch{}})),new zo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(W4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Y4(e))return"Blackberry";if(G4(e))return"Webos";if(F4(e))return"Safari";if((e.includes("chrome/")||V4(e))&&!e.includes("edge/"))return"Chrome";if($4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function B4(t=un()){return/firefox\//i.test(t)}function F4(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V4(t=un()){return/crios\//i.test(t)}function W4(t=un()){return/iemobile/i.test(t)}function $4(t=un()){return/android/i.test(t)}function Y4(t=un()){return/blackberry/i.test(t)}function G4(t=un()){return/webos/i.test(t)}function wx(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZH(t=un()){var e;return wx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JH(){return FP()&&document.documentMode===10}function K4(t=un()){return wx(t)||$4(t)||G4(t)||Y4(t)||/windows phone/i.test(t)||W4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t,e=[]){let n;switch(t){case"Browser":n=LC(un());break;case"Worker":n=`${LC(un())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((l,u)=>{try{const f=e(a);l(f)}catch(f){u(f)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tq(t,e={}){return Pr(t,"GET","/v2/passwordPolicy",Ds(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=6;class iq{constructor(e){var n,i,r,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:nq,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,a,l,u;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(r=f.containsLowercaseLetter)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),f}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jC(this),this.idTokenSubscription=new jC(this),this.beforeStateQueue=new eq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(async()=>{var i,r,a;if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Th(this,{idToken:e}),i=await di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&(f!=null&&f.user)&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Ar(this));const n=e?At(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tq(this),n=new iq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Da("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await QH(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Tr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[Tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,r);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&NH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ps(t){return At(t)}class jC{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZP(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sq(t){_g=t}function Q4(t){return _g.loadJS(t)}function aq(){return _g.recaptchaEnterpriseScript}function oq(){return _g.gapiScript}function lq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class cq{constructor(){this.enterprise=new uq}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uq{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fq="recaptcha-enterprise",Z4="NO_RECAPTCHA";class dq{constructor(e){this.type=fq,this.auth=Ps(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{FH(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new BH(f);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,l(d.siteKey)}}).catch(f=>{u(f)})})}function r(a,l,u){const f=window.grecaptcha;NC(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l(Z4)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cq().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(u=>{if(!n&&NC(window.grecaptcha))r(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=aq();f.length!==0&&(f+=u),Q4(f).then(()=>{r(u,a,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function zC(t,e,n,i=!1,r=!1){const a=new dq(t);let l;if(r)l=Z4;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Qv(t,e,n,i,r){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await zC(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await zC(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(t,e){const n=Pa(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),a=n.getOptions();if(As(a,e??{}))return r;ei(r,"already-initialized")}return n.initialize({options:e})}function gq(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function pq(t,e,n){const i=Ps(t);ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=J4(e),{host:l,port:u}=mq(e),f=u===null?"":`:${u}`,d={url:`${a}//${l}${f}/`},p=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ve(As(d,i.config.emulator)&&As(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,_q()}function J4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mq(t){const e=J4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:UC(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:UC(l)}}}function UC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _q(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function yq(t,e){return Pr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bq(t,e){return Qu(t,"POST","/v1/accounts:signInWithPassword",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vq(t,e){return Qu(t,"POST","/v1/accounts:signInWithEmailLink",Ds(t,e))}async function xq(t,e){return Qu(t,"POST","/v1/accounts:signInWithEmailLink",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends Sx{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new xu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new xu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qv(e,n,"signInWithPassword",bq);case"emailLink":return vq(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qv(e,i,"signUpPassword",yq);case"emailLink":return xq(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t,e){return Qu(t,"POST","/v1/accounts:signInWithIdp",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq="http://localhost";class Ta extends Sx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,a=_x(n,["providerId","signInMethod"]);if(!i||!r)return null;const l=new Ta(i,r);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Uo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Uo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uo(e,n)}buildRequest(){const e={requestUri:wq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ll(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tq(t){const e=jc(zc(t)).link,n=e?jc(zc(e)).deep_link_id:null,i=jc(zc(t)).deep_link_id;return(i?jc(zc(i)).link:null)||i||n||e||t}class Tx{constructor(e){var n,i,r,a,l,u;const f=jc(zc(e)),d=(n=f.apiKey)!==null&&n!==void 0?n:null,p=(i=f.oobCode)!==null&&i!==void 0?i:null,m=Sq((r=f.mode)!==null&&r!==void 0?r:null);ve(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=f.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=Tq(e);try{return new Tx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.providerId=hl.PROVIDER_ID}static credential(e,n){return xu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Tx.parseLink(n);return ve(i,"argument-error"),xu._fromEmailAndCode(e,i.code,i.tenantId)}}hl.PROVIDER_ID="password";hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends Ex{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Zu{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ta._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return xr.credential(n,i)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Zu{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Zu{constructor(){super("twitter.com")}static credential(e,n){return Ta._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return gs.credential(n,i)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eq(t,e){return Qu(t,"POST","/v1/accounts:signUp",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const a=await di._fromIdTokenResponse(e,i,r),l=HC(i);return new Ea({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=HC(i);return new Ea({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function HC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends Yi{constructor(e,n,i,r){var a;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Ch(e,n,i,r)}}function e6(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(t,a,e,i):a})}async function Cq(t,e,n=!1){const i=await Go(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ea._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aq(t,e,n=!1){const{auth:i}=t;if(Nn(i.app))return Promise.reject(Ar(i));const r="reauthenticate";try{const a=await Go(t,e6(i,r,e,t),n);ve(a.idToken,i,"internal-error");const l=xx(a.idToken);ve(l,i,"internal-error");const{sub:u}=l;return ve(t.uid===u,i,"user-mismatch"),Ea._forOperation(t,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ei(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(t,e,n=!1){if(Nn(t.app))return Promise.reject(Ar(t));const i="signIn",r=await e6(t,i,e),a=await Ea._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(a.user),a}async function Rq(t,e){return t6(Ps(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n6(t){const e=Ps(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Mq(t,e,n){if(Nn(t.app))return Promise.reject(Ar(t));const i=Ps(t),l=await Qv(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Eq).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&n6(t),f}),u=await Ea._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function kq(t,e,n){return Nn(t.app)?Promise.reject(Ar(t)):Rq(At(t),hl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&n6(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oq(t,e){return Pr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nq(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=At(t),a={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Go(i,Oq(i.auth,a));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const u=i.providerData.find(({providerId:f})=>f==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t,e){return At(t).setPersistence(e)}function Dq(t,e,n,i){return At(t).onIdTokenChanged(e,n,i)}function Pq(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function Lq(t,e,n,i){return At(t).onAuthStateChanged(e,n,i)}function i6(t){return At(t).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=1e3,zq=10;class s6 extends r6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);JH()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,zq):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},jq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}s6.type="LOCAL";const a6=s6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6 extends r6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}o6.type="SESSION";const l6=o6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new yg(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:a}=n.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async d=>d(n.origin,a)),f=await Uq(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,l;return new Promise((u,f)=>{const d=Cx("",20);r.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(m){const y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function qq(t){Ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function Bq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Fq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Vq(){return c6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="firebaseLocalStorageDb",Wq=1,Rh="firebaseLocalStorage",f6="fbase_key";class Ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bg(t,e){return t.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function $q(){const t=indexedDB.deleteDatabase(u6);return new Ju(t).toPromise()}function Zv(){const t=indexedDB.open(u6,Wq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Rh,{keyPath:f6})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Rh)?e(i):(i.close(),await $q(),e(await Zv()))})})}async function qC(t,e,n){const i=bg(t,!0).put({[f6]:e,value:n});return new Ju(i).toPromise()}async function Yq(t,e){const n=bg(t,!1).get(e),i=await new Ju(n).toPromise();return i===void 0?null:i.value}function BC(t,e){const n=bg(t,!0).delete(e);return new Ju(n).toPromise()}const Gq=800,Kq=3;class d6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>Kq)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return c6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yg._getInstance(Vq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Bq(),!this.activeServiceWorker)return;this.sender=new Hq(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Fq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zv();return await qC(e,Ah,"1"),await BC(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>qC(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Yq(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=bg(r,!1).getAll();return new Ju(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}d6.type="LOCAL";const Xq=d6;new Xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t,e){return e?Tr(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax extends Sx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Qq(t){return t6(t.auth,new Ax(t),t.bypassAuthState)}function Zq(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),Aq(n,new Ax(t),t.bypassAuthState)}async function Jq(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),Cq(n,new Ax(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qq;case"linkViaPopup":case"linkViaRedirect":return Jq;case"reauthViaPopup":case"reauthViaRedirect":return Zq;default:ei(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=new Xu(2e3,1e4);async function tB(t,e,n){if(Nn(t.app))return Promise.reject(mi(t,"operation-not-supported-in-this-environment"));const i=Ps(t);IH(t,e,Ex);const r=h6(i,n);return new ha(i,"signInViaPopup",e,r).executeNotNull()}class ha extends g6{constructor(e,n,i,r,a){super(e,n,r,a),this.provider=i,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=Cx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eB.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB="pendingRedirect",Xd=new Map;class iB extends g6{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Xd.get(this.auth._key());if(!e){try{const i=await rB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Xd.set(this.auth._key(),e)}return this.bypassAuthState||Xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rB(t,e){const n=oB(e),i=aB(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function sB(t,e){Xd.set(t._key(),e)}function aB(t){return Tr(t._redirectPersistence)}function oB(t){return Kd(nB,t.config.apiKey,t.name)}async function lB(t,e,n=!1){if(Nn(t.app))return Promise.reject(Ar(t));const i=Ps(t),r=h6(i,e),l=await new iB(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=10*60*1e3;class uB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!p6(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(mi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cB&&this.cachedEventUids.clear(),this.cachedEventUids.has(FC(e))}saveEventToCache(e){this.cachedEventUids.add(FC(e)),this.lastProcessedEventTime=Date.now()}}function FC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function p6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dB(t,e={}){return Pr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gB=/^https?/;async function pB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dB(t);for(const n of e)try{if(mB(n))return}catch{}ei(t,"unauthorized-domain")}function mB(t){const e=Kv(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!gB.test(n))return!1;if(hB.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=new Xu(3e4,6e4);function VC(){const t=Ui().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yB(t){return new Promise((e,n)=>{var i,r,a;function l(){VC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VC(),n(mi(t,"network-request-failed"))},timeout:_B.get()})}if(!((r=(i=Ui().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((a=Ui().gapi)===null||a===void 0)&&a.load)l();else{const u=lq("iframefcb");return Ui()[u]=()=>{gapi.load?l():n(mi(t,"network-request-failed"))},Q4(`${oq()}?onload=${u}`).catch(f=>n(f))}}).catch(e=>{throw Qd=null,e})}let Qd=null;function bB(t){return Qd=Qd||yB(t),Qd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=new Xu(5e3,15e3),xB="__/auth/iframe",wB="emulator/auth/iframe",SB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EB(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vx(e,wB):`https://${t.config.authDomain}/${xB}`,i={apiKey:e.apiKey,appName:t.name,v:cl},r=TB.get(t.config.apiHost);r&&(i.eid=r);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${ll(i).slice(1)}`}async function CB(t){const e=await bB(t),n=Ui().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:EB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SB,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const l=mi(t,"network-request-failed"),u=Ui().setTimeout(()=>{a(l)},vB.get());function f(){Ui().clearTimeout(u),r(i)}i.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RB=500,MB=600,kB="_blank",OB="http://localhost";class WC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NB(t,e,n,i=RB,r=MB){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const f=Object.assign(Object.assign({},AB),{width:i.toString(),height:r.toString(),top:a,left:l}),d=un().toLowerCase();n&&(u=V4(d)?kB:n),B4(d)&&(e=e||OB,f.scrollbars="yes");const p=Object.entries(f).reduce((y,[b,v])=>`${y}${b}=${v},`,"");if(ZH(d)&&u!=="_self")return IB(e||"",u),new WC(null);const m=window.open(e||"",u,p);ve(m,t,"popup-blocked");try{m.focus()}catch{}return new WC(m)}function IB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB="__/auth/handler",PB="emulator/auth/handler",LB=encodeURIComponent("fac");async function $C(t,e,n,i,r,a){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:cl,eventId:r};if(e instanceof Ex){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Ov(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof Zu){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await t._getAppCheckToken(),d=f?`#${LB}=${encodeURIComponent(f)}`:"";return`${jB(t)}?${ll(u).slice(1)}${d}`}function jB({config:t}){return t.emulator?vx(t,PB):`https://${t.authDomain}/${DB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="webStorageSupport";class zB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l6,this._completeRedirectFn=lB,this._overrideRedirectResult=sB}async _openPopup(e,n,i,r){var a;Or((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await $C(e,n,i,Kv(),r);return NB(e,l,Cx())}async _openRedirect(e,n,i,r){await this._originValidation(e);const a=await $C(e,n,i,Kv(),r);return qq(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:a}=this.eventManagers[n];return r?Promise.resolve(r):(Or(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await CB(e),i=new uB(e);return n.register("authEvent",r=>(ve(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(t_,{type:t_},r=>{var a;const l=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[t_];l!==void 0&&n(!!l),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return K4()||F4()||wx()}}const UB=zB;var YC="@firebase/auth",GC="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BB(t){qi(new bi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;ve(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X4(t)},d=new rq(i,r,a,f);return gq(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),qi(new bi("auth-internal",e=>{const n=Ps(e.getProvider("auth").getImmediate());return(i=>new HB(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(YC,GC,qB(t)),Jn(YC,GC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=5*60,VB=rN("authIdTokenMaxAge")||FB;let KC=null;const WB=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>VB)return;const r=n==null?void 0:n.token;KC!==r&&(KC=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function $B(t=H1()){const e=Pa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hq(t,{popupRedirectResolver:UB,persistence:[Xq,a6,l6]}),i=rN("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=WB(a.toString());Pq(n,l,()=>l(n.currentUser)),Dq(n,u=>l(u))}}const r=nN("auth");return r&&pq(n,`http://${r}`),n}function YB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}sq({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const a=mi("internal-error");a.customData=r,n(a)},i.type="text/javascript",i.charset="UTF-8",YB().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BB("Browser");const m6="@firebase/installations",Rx="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=1e4,y6=`w:${Rx}`,b6="FIS_v2",GB="https://firebaseinstallations.googleapis.com/v1",KB=60*60*1e3,XB="installations",QB="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ca=new Da(XB,QB,ZB);function v6(t){return t instanceof Yi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6({projectId:t}){return`${GB}/projects/${t}/installations`}function w6(t){return{token:t.token,requestStatus:2,expiresIn:eF(t.expiresIn),creationTime:Date.now()}}async function S6(t,e){const i=(await e.json()).error;return Ca.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function T6({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function JB(t,{refreshToken:e}){const n=T6(t);return n.append("Authorization",tF(e)),n}async function E6(t){const e=await t();return e.status>=500&&e.status<600?t():e}function eF(t){return Number(t.replace("s","000"))}function tF(t){return`${b6} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=x6(t),r=T6(t),a=e.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const l={fid:n,authVersion:b6,appId:t.appId,sdkVersion:y6},u={method:"POST",headers:r,body:JSON.stringify(l)},f=await E6(()=>fetch(i,u));if(f.ok){const d=await f.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:w6(d.authToken)}}else throw await S6("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=/^[cdef][\w-]{21}$/,Jv="";function sF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=aF(t);return rF.test(n)?n:Jv}catch{return Jv}}function aF(t){return iF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=new Map;function R6(t,e){const n=vg(t);M6(n,e),oF(n,e)}function M6(t,e){const n=A6.get(t);if(n)for(const i of n)i(e)}function oF(t,e){const n=lF();n&&n.postMessage({key:t,fid:e}),cF()}let ga=null;function lF(){return!ga&&"BroadcastChannel"in self&&(ga=new BroadcastChannel("[Firebase] FID Change"),ga.onmessage=t=>{M6(t.data.key,t.data.fid)}),ga}function cF(){A6.size===0&&ga&&(ga.close(),ga=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="firebase-installations-database",fF=1,Aa="firebase-installations-store";let n_=null;function Mx(){return n_||(n_=dN(uF,fF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Aa)}}})),n_}async function Mh(t,e){const n=vg(t),r=(await Mx()).transaction(Aa,"readwrite"),a=r.objectStore(Aa),l=await a.get(n);return await a.put(e,n),await r.done,(!l||l.fid!==e.fid)&&R6(t,e.fid),e}async function k6(t){const e=vg(t),i=(await Mx()).transaction(Aa,"readwrite");await i.objectStore(Aa).delete(e),await i.done}async function xg(t,e){const n=vg(t),r=(await Mx()).transaction(Aa,"readwrite"),a=r.objectStore(Aa),l=await a.get(n),u=e(l);return u===void 0?await a.delete(n):await a.put(u,n),await r.done,u&&(!l||l.fid!==u.fid)&&R6(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(t){let e;const n=await xg(t.appConfig,i=>{const r=dF(i),a=hF(t,r);return e=a.registrationPromise,a.installationEntry});return n.fid===Jv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function dF(t){const e=t||{fid:sF(),registrationStatus:0};return O6(e)}function hF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Ca.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=gF(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pF(t)}:{installationEntry:e}}async function gF(t,e){try{const n=await nF(t,e);return Mh(t.appConfig,n)}catch(n){throw v6(n)&&n.customData.serverCode===409?await k6(t.appConfig):await Mh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function pF(t){let e=await XC(t.appConfig);for(;e.registrationStatus===1;)await C6(100),e=await XC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await kx(t);return i||n}return e}function XC(t){return xg(t,e=>{if(!e)throw Ca.create("installation-not-found");return O6(e)})}function O6(t){return mF(t)?{fid:t.fid,registrationStatus:0}:t}function mF(t){return t.registrationStatus===1&&t.registrationTime+_6<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F({appConfig:t,heartbeatServiceProvider:e},n){const i=yF(t,n),r=JB(t,n),a=e.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const l={installation:{sdkVersion:y6,appId:t.appId}},u={method:"POST",headers:r,body:JSON.stringify(l)},f=await E6(()=>fetch(i,u));if(f.ok){const d=await f.json();return w6(d)}else throw await S6("Generate Auth Token",f)}function yF(t,{fid:e}){return`${x6(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(t,e=!1){let n;const i=await xg(t.appConfig,a=>{if(!N6(a))throw Ca.create("not-registered");const l=a.authToken;if(!e&&xF(l))return a;if(l.requestStatus===1)return n=bF(t,e),a;{if(!navigator.onLine)throw Ca.create("app-offline");const u=SF(a);return n=vF(t,u),u}});return n?await n:i.authToken}async function bF(t,e){let n=await QC(t.appConfig);for(;n.authToken.requestStatus===1;)await C6(100),n=await QC(t.appConfig);const i=n.authToken;return i.requestStatus===0?Ox(t,e):i}function QC(t){return xg(t,e=>{if(!N6(e))throw Ca.create("not-registered");const n=e.authToken;return TF(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function vF(t,e){try{const n=await _F(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Mh(t.appConfig,i),n}catch(n){if(v6(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await k6(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Mh(t.appConfig,i)}throw n}}function N6(t){return t!==void 0&&t.registrationStatus===2}function xF(t){return t.requestStatus===2&&!wF(t)}function wF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+KB}function SF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function TF(t){return t.requestStatus===1&&t.requestTime+_6<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EF(t){const e=t,{installationEntry:n,registrationPromise:i}=await kx(e);return i?i.catch(console.error):Ox(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF(t,e=!1){const n=t;return await AF(n),(await Ox(n,e)).token}async function AF(t){const{registrationPromise:e}=await kx(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){if(!t||!t.options)throw i_("App Configuration");if(!t.name)throw i_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw i_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function i_(t){return Ca.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6="installations",MF="installations-internal",kF=t=>{const e=t.getProvider("app").getImmediate(),n=RF(e),i=Pa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},OF=t=>{const e=t.getProvider("app").getImmediate(),n=Pa(e,I6).getImmediate();return{getId:()=>EF(n),getToken:r=>CF(n,r)}};function NF(){qi(new bi(I6,kF,"PUBLIC")),qi(new bi(MF,OF,"PRIVATE"))}NF();Jn(m6,Rx);Jn(m6,Rx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="analytics",IF="firebase_id",DF="origin",PF=60*1e3,LF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new rg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Dn=new Da("analytics","Analytics",jF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t){if(!t.startsWith(Nx)){const e=Dn.create("invalid-gtag-resource",{gtagURL:t});return wn.warn(e.message),""}return t}function D6(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function UF(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function HF(t,e){const n=UF("firebase-js-sdk-policy",{createScriptURL:zF}),i=document.createElement("script"),r=`${Nx}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function qF(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function BF(t,e,n,i,r,a){const l=i[r];try{if(l)await e[l];else{const f=(await D6(n)).find(d=>d.measurementId===r);f&&await e[f.appId]}}catch(u){wn.error(u)}t("config",r,a)}async function FF(t,e,n,i,r){try{let a=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const u=await D6(n);for(const f of l){const d=u.find(m=>m.measurementId===f),p=d&&e[d.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",i,r||{})}catch(a){wn.error(a)}}function VF(t,e,n,i){async function r(a,...l){try{if(a==="event"){const[u,f]=l;await FF(t,e,n,u,f)}else if(a==="config"){const[u,f]=l;await BF(t,e,n,i,u,f)}else if(a==="consent"){const[u,f]=l;t("consent",u,f)}else if(a==="get"){const[u,f,d]=l;t("get",u,f,d)}else if(a==="set"){const[u]=l;t("set",u)}else t(a,...l)}catch(u){wn.error(u)}}return r}function WF(t,e,n,i,r){let a=function(...l){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(a=window[r]),window[r]=VF(a,t,e,n),{gtagCore:a,wrappedGtag:window[r]}}function $F(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Nx)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=30,GF=1e3;class KF{constructor(e={},n=GF){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const P6=new KF;function XF(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function QF(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:XF(i)},a=LF.replace("{app-id}",n),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let u="";try{const f=await l.json();!((e=f.error)===null||e===void 0)&&e.message&&(u=f.error.message)}catch{}throw Dn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function ZF(t,e=P6,n){const{appId:i,apiKey:r,measurementId:a}=t.options;if(!i)throw Dn.create("no-app-id");if(!r){if(a)return{measurementId:a,appId:i};throw Dn.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new tV;return setTimeout(async()=>{u.abort()},PF),L6({appId:i,apiKey:r,measurementId:a},l,u,e)}async function L6(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=P6){var a;const{appId:l,measurementId:u}=t;try{await JF(i,e)}catch(f){if(u)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:u};throw f}try{const f=await QF(t);return r.deleteThrottleMetadata(l),f}catch(f){const d=f;if(!eV(d)){if(r.deleteThrottleMetadata(l),u)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:u};throw f}const p=Number((a=d==null?void 0:d.customData)===null||a===void 0?void 0:a.httpStatus)===503?qE(n,r.intervalMillis,YF):qE(n,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return r.setThrottleMetadata(l,m),wn.debug(`Calling attemptFetch again in ${p} millis`),L6(t,m,i,r)}}function JF(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),a=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(a),i(Dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function eV(t){if(!(t instanceof Yi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class tV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function nV(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const a=await e,l=Object.assign(Object.assign({},i),{send_to:a});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(){if(oN())try{await lN()}catch(t){return wn.warn(Dn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return wn.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rV(t,e,n,i,r,a,l){var u;const f=ZF(t);f.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>wn.error(b)),e.push(f);const d=iV().then(b=>{if(b)return i.getId()}),[p,m]=await Promise.all([f,d]);$F(a)||HF(a,p.measurementId),r("js",new Date);const y=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return y[DF]="firebase",y.update=!0,m!=null&&(y[IF]=m),r("config",p.measurementId,y),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.app=e}_delete(){return delete Zc[this.app.options.appId],Promise.resolve()}}let Zc={},ZC=[];const JC={};let r_="dataLayer",aV="gtag",eA,j6,tA=!1;function oV(){const t=[];if(sN()&&t.push("This is a browser extension environment."),WP()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=Dn.create("invalid-analytics-context",{errorInfo:e});wn.warn(n.message)}}function lV(t,e,n){oV();const i=t.options.appId;if(!i)throw Dn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dn.create("no-api-key");if(Zc[i]!=null)throw Dn.create("already-exists",{id:i});if(!tA){qF(r_);const{wrappedGtag:a,gtagCore:l}=WF(Zc,ZC,JC,r_,aV);j6=a,eA=l,tA=!0}return Zc[i]=rV(t,ZC,JC,e,eA,r_,n),new sV(t)}function cV(t=H1()){t=At(t);const e=Pa(t,kh);return e.isInitialized()?e.getImmediate():uV(t)}function uV(t,e={}){const n=Pa(t,kh);if(n.isInitialized()){const r=n.getImmediate();if(As(e,n.getOptions()))return r;throw Dn.create("already-initialized")}return n.initialize({options:e})}function fV(t,e,n,i){t=At(t),nV(j6,Zc[t.app.options.appId],e,n,i).catch(r=>wn.error(r))}const nA="@firebase/analytics",iA="0.10.12";function dV(){qi(new bi(kh,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return lV(i,r,n)},"PUBLIC")),qi(new bi("analytics-internal",t,"PRIVATE")),Jn(nA,iA),Jn(nA,iA,"esm2017");function t(e){try{const n=e.getProvider(kh).getImmediate();return{logEvent:(i,r,a)=>fV(n,i,r,a)}}catch(n){throw Dn.create("interop-component-reg-failed",{reason:n})}}}dV();const hV={apiKey:"AIzaSyBBdDBWIvqGjthSNJroGe1BmJHzqYUw-Vw",authDomain:"moodmate-39b26.firebaseapp.com",databaseURL:"https://moodmate-39b26-default-rtdb.firebaseio.com",projectId:"moodmate-39b26",storageBucket:"moodmate-39b26.firebasestorage.app",messagingSenderId:"467577595466",appId:"1:467577595466:web:55419212694e7bc076e8b3",measurementId:"G-00V4X59CLS"},Ix=hN(hV);try{cV(Ix)}catch(t){console.error("Analytics initialization error:",t)}const ti=$B(Ix);Iq(ti,a6).catch(t=>{console.error("Auth persistence error:",t)});const wg=RH(Ix),Dx=new xr;Dx.addScope("https://www.googleapis.com/auth/userinfo.email");Dx.addScope("https://www.googleapis.com/auth/userinfo.profile");const gV=async()=>{try{await i6(ti);const t=await tB(ti,Dx);return console.log("Sign in successful:",t.user),t.user}catch(t){console.error("Detailed Auth Error:",{code:t.code,message:t.message,email:t.email,credential:t.credential});let e="Failed to sign in. Please try again.";throw t.code==="auth/configuration-not-found"?e="Authentication configuration error. Please contact support.":t.code==="auth/popup-blocked"?e="Please enable popups for this website":t.code==="auth/popup-closed-by-user"?e="Sign-in was cancelled. Please try again.":t.code==="auth/network-request-failed"?e="Network error. Please check your internet connection.":t.code==="auth/unauthorized-domain"&&(e="This domain is not authorized for authentication."),new Error(e)}},pV=async(t,e,n)=>{try{const i=await Mq(ti,t,e);return await Nq(i.user,{displayName:n}),i.user}catch(i){let r="Failed to sign up. Please try again.";throw i.code==="auth/email-already-in-use"?r="This email is already registered. Please try signing in instead.":i.code==="auth/weak-password"?r="Password should be at least 6 characters long.":i.code==="auth/invalid-email"&&(r="Please enter a valid email address."),new Error(r)}},mV=async(t,e)=>{try{return(await kq(ti,t,e)).user}catch(n){let i="Failed to sign in. Please try again.";throw n.code==="auth/user-not-found"||n.code==="auth/wrong-password"?i="Invalid email or password.":n.code==="auth/too-many-requests"&&(i="Too many failed attempts. Please try again later."),new Error(i)}},_V=()=>i6(ti),yV=t=>{if(!ti.currentUser)return Promise.reject("No user signed in");const e=pg(wg,`moods/${ti.currentUser.uid}/${t.date}`);return D4(e,t)},z6=N.createContext(),Sg=()=>N.useContext(z6),bV=({children:t})=>{const[e,n]=N.useState(null),[i,r]=N.useState(!0),[a,l]=N.useState(null),[u,f]=N.useState(!1);N.useEffect(()=>ti.onAuthStateChanged(w=>{n(w),r(!1),l(null)}),[]);const v={user:e,loading:i,error:a,login:async()=>{try{l(null),r(!0),await gV()}catch(x){console.error("Login failed:",x),l(x.message)}finally{r(!1)}},loginWithEmail:async(x,w)=>{try{l(null),r(!0),await mV(x,w)}catch(E){throw console.error("Email login failed:",E),l(E.message),E}finally{r(!1)}},signUp:async(x,w,E)=>{try{l(null),r(!0),await pV(x,w,E)}catch(k){throw console.error("Sign up failed:",k),l(k.message),k}finally{r(!1)}},logout:async()=>{try{l(null),await _V(),n(null)}catch(x){console.error("Logout failed:",x),l("Failed to sign out. Please try again.")}},isSignUp:u,toggleSignUp:()=>{f(!u),l(null)}};return T.jsx(z6.Provider,{value:v,children:!i&&t})},vV=async(t,e)=>{try{const n=pg(wg,`users/${t}/preferences`);return await D4(n,e),!0}catch(n){throw console.error("Error saving preferences:",n),n}},xV=async t=>{try{const e=pg(wg,`users/${t}/preferences`),n=await gH(e);return n.exists()?n.val():null}catch(e){throw console.error("Error getting preferences:",e),e}};var ls={},Ro={},cs={},rA;function U6(){if(rA)return cs;rA=1;var t=cs&&cs.__awaiter||function(r,a,l,u){function f(d){return d instanceof l?d:new l(function(p){p(d)})}return new(l||(l=Promise))(function(d,p){function m(v){try{b(u.next(v))}catch(x){p(x)}}function y(v){try{b(u.throw(v))}catch(x){p(x)}}function b(v){v.done?d(v.value):f(v.value).then(m,y)}b((u=u.apply(r,a||[])).next())})};Object.defineProperty(cs,"__esModule",{value:!0}),cs.PushNotification=void 0;const e=3e3;class n{constructor(a){this.title=a.title,this.subtitle=a.subtitle,this.message=a.message,this.theme=a.theme,this.id=Math.random(),this.styling=a.styling,this.closeButton=a.closeButton,this.onClick=a.onClick}}cs.PushNotification=n;let i=class{constructor(){this.Storage=[],this.Listener=()=>this.Storage,this.popAndPush=a=>{let l=0;for(;l<this.Storage.length;)this.Storage[l].id===a?this.Storage.splice(l,1):++l;this.Listener(this.Storage)},this.setTimer=(a,l)=>{setTimeout(()=>this.popAndPush(a),l)},this.addListener=a=>{this.Listener=a},this.addNativeNotification=a=>t(this,void 0,void 0,function*(){const{title:l,subtitle:u,message:f,duration:d,icon:p,vibrate:m,silent:y,onClick:b}=a;if((Notification.permission==="default"||Notification.permission==="denied")&&(yield Notification.requestPermission()),Notification.permission==="granted"){const v=new Notification(l,{body:f,data:u,icon:p,vibrate:m,silent:y});v.onclick=b||null,setTimeout(v.close.bind(v),d||e)}}),this.addWebNotification=a=>{const{title:l,subtitle:u,message:f,theme:d,duration:p,backgroundBottom:m,backgroundTop:y,colorBottom:b,colorTop:v,closeButton:x,onClick:w}=a,E={backgroundTop:y,backgroundBottom:m,colorTop:v,colorBottom:b},k=new n({title:l,subtitle:u,message:f,theme:d,styling:E,closeButton:x,onClick:w});this.Storage.push(k),this.setTimer(k.id,p||e),this.Listener(this.Storage)},this.addNotification=a=>t(this,void 0,void 0,function*(){const{native:l}=a;return l?this.addNativeNotification(a):this.addWebNotification(a)})}};return cs.default=new i,cs}var Mo={},sA;function wV(){if(sA)return Mo;sA=1;var t=Mo&&Mo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Mo,"__esModule",{value:!0});const e=t(qu()),n=i=>{const{title:r,subtitle:a,message:l,theme:u,id:f,closeNotification:d,styling:p,closeButton:m,onClick:y}=i;let b={},v={};return p&&(b.backgroundColor=p.backgroundTop,b.color=p.colorTop,v.backgroundColor=p.backgroundBottom,v.color=p.colorBottom),e.default.createElement("div",{className:`rpn-notification-card ${u}`,onClick:y},e.default.createElement("div",{className:`rpn-notification-card-top ${u}`,style:Object.keys(b).length?b:void 0},e.default.createElement("span",null,r),e.default.createElement("span",{className:`rpn-notification-card-close ${u}`,onClick:()=>d(f)},m||"close")),e.default.createElement("div",{className:`rpn-notification-card-bottom ${u}`,style:Object.keys(v).length?v:void 0},e.default.createElement("span",{className:"subtitle"},a),e.default.createElement("span",{className:"message"},l)))};return Mo.default=n,Mo}var aA;function SV(){if(aA)return Ro;aA=1;var t=Ro&&Ro.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ro,"__esModule",{value:!0});const e=t(qu()),n=t(U6()),i=t(wV());let r=class extends e.default.Component{constructor(){super(...arguments),this.state={value:[]}}componentDidMount(){n.default.addListener(l=>this.setState({value:l}))}render(){const{position:l}=this.props,u=`rpn-notification-holder ${l||"top-middle"} supertest`;return e.default.createElement("div",{className:u},this.state.value.map((f,d)=>e.default.createElement(i.default,{key:d,closeNotification:n.default.popAndPush,onClick:f.onClick,id:f.id,theme:f.theme,title:f.title,subtitle:f.subtitle,closeButton:f.closeButton,message:f.message,styling:f.styling})))}};return Ro.default=r,Ro}var oA;function TV(){if(oA)return ls;oA=1;var t=ls&&ls.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ls,"__esModule",{value:!0}),ls.Notifications=void 0;const e=t(SV());ls.Notifications=e.default;const i=t(U6()).default.addNotification;return ls.default=i,ls}var EV=TV();const H6=N.createContext(),CV=()=>N.useContext(H6),AV=({children:t})=>{const{user:e}=Sg(),[n,i]=N.useState({enabled:!1,checkInTime:"20:00",frequency:"daily",weekdays:["Monday","Tuesday","Wednesday","Thursday","Friday"],customDays:[]});N.useEffect(()=>{e&&r()},[e]);const r=async()=>{try{const u=await xV(e.uid);u&&i(u)}catch(u){console.error("Error loading preferences:",u)}};N.useEffect(()=>{if(!n.enabled||!e)return;const f=setInterval(()=>{const d=new Date,[p,m]=n.checkInTime.split(":"),y=new Date;y.setHours(parseInt(p),parseInt(m),0);const b=()=>{if(n.frequency==="daily")return!0;if(n.frequency==="weekdays"){const v=d.toLocaleDateString("en-US",{weekday:"long"});return n.weekdays.includes(v)}if(n.frequency==="custom"){const v=d.toLocaleDateString();return n.customDays.includes(v)}return!1};Math.abs(d-y)<6e4&&b()&&new Notification("MoodMate Check-in Reminder",{body:"How are you feeling today? Don't forget to log your mood and activities.",icon:"/favicon.ico"})},6e4);return()=>clearInterval(f)},[n,e]);const a=async u=>{try{const f={...n,...u};i(f),e&&await vV(e.uid,f)}catch(f){throw console.error("Error updating preferences:",f),f}},l=async()=>{try{return await Notification.requestPermission()==="granted"?(await a({enabled:!0}),!0):!1}catch(u){return console.error("Error requesting notification permission:",u),!1}};return T.jsxs(H6.Provider,{value:{preferences:n,updatePreferences:a,requestNotificationPermission:l},children:[T.jsx(EV.Notifications,{}),t]})},RV=()=>{const t="w-full sm:w-auto px-6 sm:px-8 py-3 rounded-full font-semibold transform transition",e="text-3xl sm:text-4xl mb-2 animated-emoji";return T.jsx("div",{className:"hero relative px-4 sm:px-6",children:T.jsxs("div",{className:"space-y-4 sm:space-y-6 relative z-10",children:[T.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-4 leading-tight",children:"Track Your Mood Journey with MoodMate"}),T.jsx("p",{className:"text-lg sm:text-xl opacity-90 max-w-2xl mx-auto leading-relaxed px-4 sm:px-0",children:"Your personal companion for emotional well-being. Start your journey to better mental health today."}),T.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-3 sm:space-y-0 sm:space-x-4 mt-6 sm:mt-8",children:[T.jsx(en,{to:"/checkin",children:T.jsx("button",{className:`${t} bg-bluegray text-white hover:bg-opacity-90`,children:"Start Check-In"})}),T.jsx(en,{to:"/results",children:T.jsx("button",{className:`${t} bg-indigo-700 text-white hover:bg-indigo-800`,children:"View Progress"})})]}),T.jsx("div",{className:"mt-8 sm:mt-12 grid grid-cols-2 sm:flex sm:justify-center gap-4 sm:space-x-8",children:["🎯","📈","💡"].map((n,i)=>T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:e,children:n}),T.jsx("p",{className:"opacity-90 text-sm sm:text-base",children:i===0?"Track Daily":i===1?"See Progress":"Get Insights"})]},i))})]})})},MV=()=>{const{user:t,login:e,loginWithEmail:n,signUp:i,loading:r,error:a,isSignUp:l,toggleSignUp:u}=Sg(),[f,d]=N.useState(""),[p,m]=N.useState(""),[y,b]=N.useState(""),[v,x]=N.useState(null),w=async k=>{k.preventDefault(),x(null);try{l?await i(f,p,y):await n(f,p)}catch(O){console.error("Auth error:",O),x(O.message)}},E=v||a;return T.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center mb-10",children:[T.jsx(RV,{}),T.jsx("div",{className:"card max-w-lg mt-4 mx-3",children:r?T.jsxs("div",{className:"text-center p-4",children:[T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-300",children:"Loading..."})]}):t?T.jsxs(T.Fragment,{children:[T.jsxs("h1",{className:"text-2xl font-bold mb-4 text-white",children:["Welcome back, ",t.displayName,"! 👋"]}),T.jsx("p",{className:"mb-6 text-gray-300",children:"Ready to track your mood today? Your mental well-being journey continues here."}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center sm:items-stretch",children:[T.jsx(en,{to:"/checkin",className:"w-full sm:w-auto",children:T.jsx("button",{className:"w-full bg-indigo-600 text-white py-3 px-6 rounded-full hover:bg-indigo-700 transition-all duration-300",children:"Daily Check-In"})}),T.jsx(en,{to:"/results",className:"w-full sm:w-auto",children:T.jsx("button",{className:"w-full text-white border-2 border-indigo-600 py-3 px-6 rounded-full transition-all duration-300",children:"View Progress"})})]})]}):T.jsxs(T.Fragment,{children:[T.jsx("h1",{className:"text-white text-2xl font-bold mb-4",children:"Start Your Wellness Journey"}),T.jsx("p",{className:"mb-6 text-gray-300",children:"Track your moods, discover patterns, and improve your mental well-being with MoodMate."}),E&&T.jsx("div",{className:"bg-red-50 text-red-700 p-4 rounded-lg mb-6 text-sm",children:E}),T.jsxs("form",{onSubmit:w,className:"space-y-4 mb-6",children:[l&&T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Display Name"}),T.jsx("input",{type:"text",value:y,onChange:k=>b(k.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),T.jsx("input",{type:"email",value:f,onChange:k=>d(k.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-600 bg-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),T.jsx("input",{type:"password",value:p,onChange:k=>m(k.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-600 bg-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),T.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 px-8 rounded-full hover:bg-indigo-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r,children:l?"Sign Up":"Sign In"})]}),T.jsxs("div",{className:"relative flex items-center justify-center text-sm mb-3",children:[T.jsx("div",{className:"flex-grow border-t border-gray-300"}),T.jsx("span",{className:"px-3 text-gray-500",children:"Or"}),T.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),T.jsxs("button",{onClick:e,disabled:r,className:"mt-5 w-full text-gray-200 border border-gray-300 py-3 px-8 rounded-full hover:bg-gray-700 transition-all duration-300 flex items-center justify-center mb-4 disabled:opacity-50 disabled:cursor-not-allowed",children:[T.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5 mr-2"}),"Continue with Google"]}),T.jsxs("p",{className:"text-center text-sm text-gray-400",children:[l?"Already have an account?":"Don't have an account?",T.jsx("button",{onClick:()=>{u(),x(null)},className:"ml-1 text-indigo-600 hover:text-indigo-700",children:l?"Sign In":"Sign Up"})]})]})})]})},q6=N.createContext(),B6=()=>N.useContext(q6),kV=({children:t})=>{const[e,n]=N.useState([]),[i,r]=N.useState(!0);N.useEffect(()=>{const l=ti.onAuthStateChanged(u=>{if(u){const f=pg(wg,`moods/${u.uid}`),d=vH(f,bH());mH(d,p=>{const m=p.val();if(m){const y=Object.values(m).sort((b,v)=>new Date(b.date)-new Date(v.date));n(y)}else n([]);r(!1)})}else n([]),r(!1)});return()=>l()},[]);const a=l=>{ti.currentUser&&n(u=>[...u,l])};return T.jsx(q6.Provider,{value:{moodData:e,loading:i,addEntry:a},children:t})},OV=t=>{const{mood:e,sleepHours:n,activities:i=[],stressLevel:r=5,energyLevel:a=5,weather:l,physicalHealth:u=[]}=t;let f=5;n<6?f-=1:n>=8&&(f+=1),f+={happy:2,neutral:0,sad:-2,anxious:-1,angry:-1.5}[e]||0;const p=["exercise","meditation","socializing","hobby","nature"],m=i.reduce((v,x)=>v+(p.includes(x)?.5:0),0);f+=m,f+=(5-r)*.4,f+=(a-5)*.3,f+={sunny:.5,cloudy:0,rainy:-.2,snowy:.3,stormy:-.4}[l]||0;const b=u.reduce((v,x)=>x==="healthy"?v+.5:v-.3,0);return f+=b,Math.max(1,Math.min(10,Math.round(f+5)))},NV=t=>{if(!t.length)return[];const e=[],n=t.slice(-7);n.reduce((m,y)=>m+(y.sleepHours||0),0)/n.length<7&&e.push({type:"sleep",message:"Your average sleep is below recommended levels. Consider establishing a regular sleep schedule.",priority:"high"}),n.reduce((m,y)=>m+(y.energyLevel||0),0)/n.length<4&&e.push({type:"energy",message:"Your energy levels have been low. Try to get more rest and consider light exercise.",priority:"medium"});const a=n.reduce((m,y)=>(m[y.weather]||(m[y.weather]={total:0,count:0}),m[y.weather].total+=y.moodScore||0,m[y.weather].count+=1,m),{});Object.entries(a).forEach(([m,{total:y,count:b}])=>{y/b<5&&b>=3&&e.push({type:"weather",message:`Your mood tends to be lower during ${m} weather. Plan indoor activities for these days.`,priority:"low"})});const l=n.reduce((m,y)=>((y.physicalHealth||[]).forEach(b=>{m[b]=(m[b]||0)+1}),m),{});Object.entries(l).forEach(([m,y])=>{y>=3&&m!=="healthy"&&e.push({type:"health",message:`You've reported ${m} frequently. Consider consulting a healthcare provider.`,priority:"high"})});const u=n.reduce((m,y)=>(m[y.mood]=(m[y.mood]||0)+1,m),{}),f=Object.entries(u).sort(([,m],[,y])=>y-m)[0];f&&(f[0]==="sad"||f[0]==="anxious")&&e.push({type:"mood",message:`You've been feeling ${f[0]} frequently. Consider talking to a mental health professional.`,priority:"high"});const p=n.flatMap(m=>(m.activities||[]).map(y=>({activity:y,moodScore:m.moodScore||0,energyLevel:m.energyLevel||0}))).reduce((m,{activity:y,moodScore:b,energyLevel:v})=>(m[y]||(m[y]={moodTotal:0,energyTotal:0,count:0}),m[y].moodTotal+=b,m[y].energyTotal+=v,m[y].count+=1,m),{});return Object.entries(p).forEach(([m,{moodTotal:y,energyTotal:b,count:v}])=>{const x=y/v,w=b/v;x>7&&w>6&&e.push({type:"activity",message:`${m} seems to improve both your mood and energy levels. Try to do it more often!`,priority:"medium"})}),e},IV=t=>{if(!t.length)return[];const e=[],n=DV(t),i=jV(),r=PV(t),a=LV();return n.morningMood&&n.eveningMood&&e.push({type:"time",message:`Your mood tends to be ${n.morningMood>n.eveningMood?"higher":"lower"} in the morning compared to evening.`,priority:"medium",category:"pattern"}),r.bestDay&&e.push({type:"weekday",message:`Your mood tends to be highest on ${r.bestDay}s. Consider scheduling important activities on these days.`,priority:"medium",category:"suggestion"}),e.push({type:"seasonal",message:`Your mood shows seasonal patterns. You might benefit from light therapy or additional outdoor activities during ${a.lowestSeason}.`,priority:"high",category:"health"}),i.bestCombinations.forEach(l=>{e.push({type:"activity",message:`The combination of ${l.activities.join(" and ")} seems particularly beneficial for your mood.`,priority:"medium",category:"suggestion"})}),e},DV=t=>{const e=t.filter(i=>{const r=new Date(i.date).getHours();return r>=5&&r<12}),n=t.filter(i=>{const r=new Date(i.date).getHours();return r>=17&&r<24});return{morningMood:e.length?e.reduce((i,r)=>i+(r.moodScore||0),0)/e.length:null,eveningMood:n.length?n.reduce((i,r)=>i+(r.moodScore||0),0)/n.length:null}},PV=t=>{const e=Array(7).fill(0).map(()=>({total:0,count:0})),n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return t.forEach(a=>{const l=new Date(a.date).getDay();e[l].total+=a.moodScore||0,e[l].count++}),{bestDay:e.map((a,l)=>({day:n[l],average:a.count>0?a.total/a.count:0})).reduce((a,l)=>l.average>a.average?l:a).day}},LV=t=>({seasonal:!0,lowestSeason:"winter"}),jV=t=>({bestCombinations:[{activities:["exercise","socializing"]}]}),zV=[{id:"exercise",label:"Exercise",icon:"🏃‍♂️"},{id:"meditation",label:"Meditation",icon:"🧘‍♂️"},{id:"socializing",label:"Socializing",icon:"👥"},{id:"hobby",label:"Hobby",icon:"🎨"},{id:"nature",label:"Nature",icon:"🌳"},{id:"work",label:"Work",icon:"💼"},{id:"study",label:"Study",icon:"📚"},{id:"rest",label:"Rest",icon:"🛋️"}],UV=[{value:"sunny",emoji:"☀️",label:"Sunny"},{value:"cloudy",emoji:"☁️",label:"Cloudy"},{value:"rainy",emoji:"🌧️",label:"Rainy"},{value:"snowy",emoji:"🌨️",label:"Snowy"},{value:"stormy",emoji:"⛈️",label:"Stormy"}],HV=[{id:"headache",label:"Headache",icon:"🤕"},{id:"fatigue",label:"Fatigue",icon:"😴"},{id:"nausea",label:"Nausea",icon:"🤢"},{id:"pain",label:"Pain",icon:"😣"},{id:"healthy",label:"Healthy",icon:"💪"}],qV=()=>{const[t,e]=N.useState("happy"),[n,i]=N.useState(8),[r,a]=N.useState([]),[l,u]=N.useState(5),[f,d]=N.useState(5),[p,m]=N.useState(""),[y,b]=N.useState("sunny"),[v,x]=N.useState([]),{addEntry:w}=B6(),E=k1(),k=A=>{a(M=>M.includes(A)?M.filter(R=>R!==A):[...M,A])},O=A=>{A.preventDefault();const M={date:new Date().toISOString().split("T")[0],mood:t,sleepHours:n,activities:r,stressLevel:l,energyLevel:f,notes:p,weather:y,physicalHealth:v};M.moodScore=OV(M),w(M),yV(M).then(()=>console.log("Entry saved to Firebase")).catch(R=>console.error("Firebase error:",R)),E("/results")};return T.jsxs("form",{onSubmit:O,className:"p-4 sm:p-9 bg-bluegray rounded-3xl shadow-xl w-full max-w-md mx-auto mt-4 sm:mt-5 transform transition-all duration-300 hover:shadow-2xl bg-bluegray",children:[T.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 sm:mb-8 text-center bg-gradient-to-r from-indigo-600 to-indigo-400 bg-clip-text text-transparent dark:from-indigo-400 ",children:"How are you feeling today?"}),T.jsxs("div",{className:"mb-6 sm:mb-8",children:[T.jsx("label",{className:"text-gray-200 block mb-3 font-medium text-base sm:text-lg",children:"Select your mood"}),T.jsx("div",{className:"text-white grid grid-cols-3 sm:grid-cols-5 gap-2 mb-4",children:[{value:"happy",emoji:"😊",label:"Happy"},{value:"sad",emoji:"😢",label:"Sad"},{value:"anxious",emoji:"😰",label:"Anxious"},{value:"angry",emoji:"😠",label:"Angry"},{value:"neutral",emoji:"😐",label:"Neutral"}].map(A=>T.jsxs("button",{type:"button",onClick:()=>e(A.value),className:`p-2 sm:p-3 rounded-xl transition-all ${t===A.value?"bg-indigo-900 ring-2 ring-indigo-500":"dark:hover:bg-gray-700"}`,children:[T.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:A.emoji}),T.jsx("div",{className:"text-[10px] sm:text-xs dark:text-gray-300",children:A.label})]},A.value))})]}),T.jsxs("div",{className:"mb-6 sm:mb-8",children:[T.jsx("label",{className:"block mb-3 font-medium text-gray-200 text-base sm:text-lg",children:"Hours of Sleep Last Night"}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"number",min:"0",max:"24",value:n,onChange:A=>i(Number(A.target.value)),className:"w-full p-3 border-2 border-gray-600 dark:border-gray-600 rounded-xl focus:border-indigo-500 dark:focus:border-indigo-400 transition-colors dark:bg-gray-700 text-gray-200 dark:text-gray-100",placeholder:"Enter hours..."}),T.jsx("div",{className:"absolute right-3 top-3 text-gray-400 dark:text-gray-500",children:"hrs"})]})]}),T.jsxs("div",{className:"mb-6 sm:mb-8",children:[T.jsx("label",{className:"block mb-3 font-medium text-gray-200 text-base sm:text-lg",children:"What activities did you do today?"}),T.jsx("div",{className:"text-white grid grid-cols-2 sm:grid-cols-4 gap-2",children:zV.map(A=>T.jsxs("button",{type:"button",onClick:()=>k(A.id),className:`p-2 sm:p-3 rounded-xl transition-all ${r.includes(A.id)?"bg-indigo-900 ring-2 ring-indigo-500":" dark:hover:bg-gray-700"}`,children:[T.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:A.icon}),T.jsx("div",{className:"text-[10px] sm:text-xs dark:text-gray-300",children:A.label})]},A.id))})]}),T.jsxs("div",{className:"mb-6 sm:mb-8",children:[T.jsx("label",{className:"block mb-3 font-medium text-gray-200 text-base sm:text-lg",children:"Stress Level"}),T.jsx("input",{type:"range",min:"1",max:"10",value:l,onChange:A=>u(Number(A.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"}),T.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-2",children:[T.jsx("span",{children:"Low Stress"}),T.jsx("span",{children:"High Stress"})]})]}),T.jsxs("div",{className:"mb-6 sm:mb-8",children:[T.jsx("label",{className:"block mb-3 font-medium text-gray-200 text-base sm:text-lg",children:"Energy Level"}),T.jsx("input",{type:"range",min:"1",max:"10",value:f,onChange:A=>d(Number(A.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"}),T.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-2",children:[T.jsx("span",{children:"Low Energy"}),T.jsx("span",{children:"High Energy"})]})]}),T.jsxs("div",{className:"mb-6 sm:mb-8",children:[T.jsx("label",{className:"block mb-3 font-medium text-gray-200 text-base sm:text-lg",children:"Weather Today"}),T.jsx("div",{className:"text-white grid grid-cols-3 sm:grid-cols-5 gap-2",children:UV.map(A=>T.jsxs("button",{type:"button",onClick:()=>b(A.value),className:`p-2 sm:p-3 rounded-xl transition-all ${y===A.value?"bg-indigo-900 ring-2 ring-indigo-500":" dark:hover:bg-gray-700"}`,children:[T.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:A.emoji}),T.jsx("div",{className:"text-[10px] sm:text-xs dark:text-gray-300",children:A.label})]},A.value))})]}),T.jsxs("div",{className:"mb-6 sm:mb-8",children:[T.jsx("label",{className:"block mb-3 font-medium text-gray-200 text-base sm:text-lg",children:"Physical Health"}),T.jsx("div",{className:"text-gray-200 grid grid-cols-3 sm:grid-cols-5 gap-2",children:HV.map(A=>T.jsxs("button",{type:"button",onClick:()=>x(M=>M.includes(A.id)?M.filter(R=>R!==A.id):[...M,A.id]),className:`p-2 sm:p-3 rounded-xl transition-all ${v.includes(A.id)?"bg-indigo-900 ring-2 ring-indigo-500":"dark:hover:bg-gray-700"}`,children:[T.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:A.icon}),T.jsx("div",{className:"text-[10px] sm:text-xs dark:text-gray-300",children:A.label})]},A.id))})]}),T.jsxs("div",{className:"mb-6 sm:mb-8",children:[T.jsx("label",{className:"block mb-3 font-medium text-gray-200 text-base sm:text-lg",children:"Notes (Optional)"}),T.jsx("textarea",{value:p,onChange:A=>m(A.target.value),className:"w-full p-3 border-2 border-gray-600 rounded-xl focus:border-indigo-500 dark:focus:border-indigo-400 transition-colors dark:bg-gray-700 text-gray-200 dark:text-gray-100",placeholder:"Add any thoughts or reflections...",rows:"3"})]}),T.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-indigo-600 to-indigo-500 text-white py-3 sm:py-4 px-6 rounded-xl text-base sm:text-lg font-semibold hover:from-indigo-700 hover:to-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transform transition-all duration-300",children:"Submit Check-In"})]})},BV=()=>T.jsx("div",{className:"min-h-screen bg-gray-850 flex items-center justify-center py-8 mb-8 ml-3 mr-3",children:T.jsx(qV,{})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ef(t){return t+.5|0}const ps=(t,e,n)=>Math.max(Math.min(t,n),e);function Uc(t){return ps(ef(t*2.55),0,255)}function Es(t){return ps(ef(t*255),0,255)}function vr(t){return ps(ef(t/2.55)/100,0,1)}function lA(t){return ps(ef(t*100),0,100)}const Gn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},e1=[..."0123456789ABCDEF"],FV=t=>e1[t&15],VV=t=>e1[(t&240)>>4]+e1[t&15],Td=t=>(t&240)>>4===(t&15),WV=t=>Td(t.r)&&Td(t.g)&&Td(t.b)&&Td(t.a);function $V(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Gn[t[1]]*17,g:255&Gn[t[2]]*17,b:255&Gn[t[3]]*17,a:e===5?Gn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Gn[t[1]]<<4|Gn[t[2]],g:Gn[t[3]]<<4|Gn[t[4]],b:Gn[t[5]]<<4|Gn[t[6]],a:e===9?Gn[t[7]]<<4|Gn[t[8]]:255})),n}const YV=(t,e)=>t<255?e(t):"";function GV(t){var e=WV(t)?FV:VV;return t?"#"+e(t.r)+e(t.g)+e(t.b)+YV(t.a,e):void 0}const KV=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function F6(t,e,n){const i=e*Math.min(n,1-n),r=(a,l=(a+t/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function XV(t,e,n){const i=(r,a=(r+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function QV(t,e,n){const i=F6(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function ZV(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function Px(t){const n=t.r/255,i=t.g/255,r=t.b/255,a=Math.max(n,i,r),l=Math.min(n,i,r),u=(a+l)/2;let f,d,p;return a!==l&&(p=a-l,d=u>.5?p/(2-a-l):p/(a+l),f=ZV(n,i,r,p,a),f=f*60+.5),[f|0,d||0,u]}function Lx(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Es)}function jx(t,e,n){return Lx(F6,t,e,n)}function JV(t,e,n){return Lx(QV,t,e,n)}function eW(t,e,n){return Lx(XV,t,e,n)}function V6(t){return(t%360+360)%360}function tW(t){const e=KV.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Uc(+e[5]):Es(+e[5]));const r=V6(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=JV(r,a,l):e[1]==="hsv"?i=eW(r,a,l):i=jx(r,a,l),{r:i[0],g:i[1],b:i[2],a:n}}function nW(t,e){var n=Px(t);n[0]=V6(n[0]+e),n=jx(n),t.r=n[0],t.g=n[1],t.b=n[2]}function iW(t){if(!t)return;const e=Px(t),n=e[0],i=lA(e[1]),r=lA(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${vr(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const cA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},uA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function rW(){const t={},e=Object.keys(uA),n=Object.keys(cA);let i,r,a,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],r=0;r<n.length;r++)a=n[r],u=u.replace(a,cA[a]);a=parseInt(uA[l],16),t[u]=[a>>16&255,a>>8&255,a&255]}return t}let Ed;function sW(t){Ed||(Ed=rW(),Ed.transparent=[0,0,0,0]);const e=Ed[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const aW=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function oW(t){const e=aW.exec(t);let n=255,i,r,a;if(e){if(e[7]!==i){const l=+e[7];n=e[8]?Uc(l):ps(l*255,0,255)}return i=+e[1],r=+e[3],a=+e[5],i=255&(e[2]?Uc(i):ps(i,0,255)),r=255&(e[4]?Uc(r):ps(r,0,255)),a=255&(e[6]?Uc(a):ps(a,0,255)),{r:i,g:r,b:a,a:n}}}function lW(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${vr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const s_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ko=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function cW(t,e,n){const i=ko(vr(t.r)),r=ko(vr(t.g)),a=ko(vr(t.b));return{r:Es(s_(i+n*(ko(vr(e.r))-i))),g:Es(s_(r+n*(ko(vr(e.g))-r))),b:Es(s_(a+n*(ko(vr(e.b))-a))),a:t.a+n*(e.a-t.a)}}function Cd(t,e,n){if(t){let i=Px(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=jx(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function W6(t,e){return t&&Object.assign(e||{},t)}function fA(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Es(t[3]))):(e=W6(t,{r:0,g:0,b:0,a:1}),e.a=Es(e.a)),e}function uW(t){return t.charAt(0)==="r"?oW(t):tW(t)}let $6=class t1{constructor(e){if(e instanceof t1)return e;const n=typeof e;let i;n==="object"?i=fA(e):n==="string"&&(i=$V(e)||sW(e)||uW(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=W6(this._rgb);return e&&(e.a=vr(e.a)),e}set rgb(e){this._rgb=fA(e)}rgbString(){return this._valid?lW(this._rgb):void 0}hexString(){return this._valid?GV(this._rgb):void 0}hslString(){return this._valid?iW(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let a;const l=n===a?.5:n,u=2*l-1,f=i.a-r.a,d=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;a=1-d,i.r=255&d*i.r+a*r.r+.5,i.g=255&d*i.g+a*r.g+.5,i.b=255&d*i.b+a*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=cW(this._rgb,e._rgb,n)),this}clone(){return new t1(this.rgb)}alpha(e){return this._rgb.a=Es(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ef(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Cd(this._rgb,2,e),this}darken(e){return Cd(this._rgb,2,-e),this}saturate(e){return Cd(this._rgb,1,e),this}desaturate(e){return Cd(this._rgb,1,-e),this}rotate(e){return nW(this._rgb,e),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function mr(){}const fW=(()=>{let t=0;return()=>t++})();function lt(t){return t==null}function Dt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function qe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function sn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Di(t,e){return sn(t)?t:e}function ze(t,e){return typeof t>"u"?e:t}const dW=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ht(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ke(t,e,n,i){let r,a,l;if(Dt(t))for(a=t.length,r=0;r<a;r++)e.call(n,t[r],r);else if(qe(t))for(l=Object.keys(t),a=l.length,r=0;r<a;r++)e.call(n,t[l[r]],l[r])}function Oh(t,e){let n,i,r,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],a=e[n],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function Nh(t){if(Dt(t))return t.map(Nh);if(qe(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Nh(t[n[r]]);return e}return t}function Y6(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function hW(t,e,n,i){if(!Y6(t))return;const r=e[t],a=n[t];qe(r)&&qe(a)?wu(r,a,i):e[t]=Nh(a)}function wu(t,e,n){const i=Dt(e)?e:[e],r=i.length;if(!qe(t))return t;n=n||{};const a=n.merger||hW;let l;for(let u=0;u<r;++u){if(l=i[u],!qe(l))continue;const f=Object.keys(l);for(let d=0,p=f.length;d<p;++d)a(f[d],t,l,n)}return t}function Jc(t,e){return wu(t,e,{merger:gW})}function gW(t,e,n){if(!Y6(t))return;const i=e[t],r=n[t];qe(i)&&qe(r)?Jc(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Nh(r))}const dA={"":t=>t,x:t=>t.x,y:t=>t.y};function pW(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function mW(t){const e=pW(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Ih(t,e){return(dA[e]||(dA[e]=mW(e)))(t)}function zx(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Dh=t=>typeof t<"u",Ns=t=>typeof t=="function",hA=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function _W(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Bt=Math.PI,_i=2*Bt,yW=_i+Bt,Ph=Number.POSITIVE_INFINITY,bW=Bt/180,hi=Bt/2,ia=Bt/4,gA=Bt*2/3,G6=Math.log10,Ko=Math.sign;function eu(t,e,n){return Math.abs(t-e)<n}function pA(t){const e=Math.round(t);t=eu(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(G6(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function vW(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,a)=>r-a).pop(),e}function xW(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Su(t){return!xW(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function wW(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function SW(t,e,n){let i,r,a;for(i=0,r=t.length;i<r;i++)a=t[i][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function pa(t){return t*(Bt/180)}function TW(t){return t*(180/Bt)}function mA(t){if(!sn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function EW(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*Bt&&(a+=_i),{angle:a,distance:r}}function n1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function CW(t,e){return(t-e+yW)%_i-Bt}function ji(t){return(t%_i+_i)%_i}function K6(t,e,n,i){const r=ji(t),a=ji(e),l=ji(n),u=ji(a-r),f=ji(l-r),d=ji(r-a),p=ji(r-l);return r===a||r===l||i&&a===l||u>f&&d<p}function Qn(t,e,n){return Math.max(e,Math.min(n,t))}function AW(t){return Qn(t,-32768,32767)}function Po(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Ux(t,e,n){n=n||(l=>t[l]<e);let i=t.length-1,r=0,a;for(;i-r>1;)a=r+i>>1,n(a)?r=a:i=a;return{lo:r,hi:i}}const ma=(t,e,n,i)=>Ux(t,n,i?r=>{const a=t[r][e];return a<n||a===n&&t[r+1][e]===n}:r=>t[r][e]<n),RW=(t,e,n)=>Ux(t,n,i=>t[i][e]>=n);function MW(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const X6=["push","pop","shift","splice","unshift"];function kW(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),X6.forEach(n=>{const i="_onData"+zx(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const l=r.apply(this,a);return t._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function _A(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(X6.forEach(a=>{delete t[a]}),delete t._chartjs)}function OW(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Q6=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Z6(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,Q6.call(window,()=>{i=!1,t.apply(e,n)}))}}function NW(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Hx=t=>t==="start"?"left":t==="end"?"right":"center",Jt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,IW=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function DW(t,e,n){const i=e.length;let r=0,a=i;if(t._sorted){const{iScale:l,vScale:u,_parsed:f}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,p=l.axis,{min:m,max:y,minDefined:b,maxDefined:v}=l.getUserBounds();if(b){if(r=Math.min(ma(f,p,m).lo,n?i:ma(e,p,l.getPixelForValue(m)).lo),d){const x=f.slice(0,r+1).reverse().findIndex(w=>!lt(w[u.axis]));r-=Math.max(0,x)}r=Qn(r,0,i-1)}if(v){let x=Math.max(ma(f,l.axis,y,!0).hi+1,n?0:ma(e,p,l.getPixelForValue(y),!0).hi+1);if(d){const w=f.slice(x-1).findIndex(E=>!lt(E[u.axis]));x+=Math.max(0,w)}a=Qn(x,r,i)-r}else a=i-r}return{start:r,count:a}}function PW(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const a=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),a}const Ad=t=>t===0||t===1,yA=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*_i/n)),bA=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*_i/n)+1,tu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*hi)+1,easeOutSine:t=>Math.sin(t*hi),easeInOutSine:t=>-.5*(Math.cos(Bt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ad(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ad(t)?t:yA(t,.075,.3),easeOutElastic:t=>Ad(t)?t:bA(t,.075,.3),easeInOutElastic(t){return Ad(t)?t:t<.5?.5*yA(t*2,.1125,.45):.5+.5*bA(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-tu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?tu.easeInBounce(t*2)*.5:tu.easeOutBounce(t*2-1)*.5+.5};function qx(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function vA(t){return qx(t)?t:new $6(t)}function a_(t){return qx(t)?t:new $6(t).saturate(.5).darken(.1).hexString()}const LW=["x","y","borderWidth","radius","tension"],jW=["color","borderColor","backgroundColor"];function zW(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:jW},numbers:{type:"number",properties:LW}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function UW(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const xA=new Map;function HW(t,e){e=e||{};const n=t+JSON.stringify(e);let i=xA.get(n);return i||(i=new Intl.NumberFormat(t,e),xA.set(n,i)),i}function J6(t,e,n){return HW(e,n).format(t)}const qW={values(t){return Dt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,a=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),a=BW(t,n)}const l=G6(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),J6(t,i,f)}};function BW(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var eI={formatters:qW};function FW(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:eI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ra=Object.create(null),i1=Object.create(null);function nu(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const a=n[i];t=t[a]||(t[a]=Object.create(null))}return t}function o_(t,e,n){return typeof e=="string"?wu(nu(t,e),n):wu(nu(t,""),e)}class VW{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>a_(r.backgroundColor),this.hoverBorderColor=(i,r)=>a_(r.borderColor),this.hoverColor=(i,r)=>a_(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return o_(this,e,n)}get(e){return nu(this,e)}describe(e,n){return o_(i1,e,n)}override(e,n){return o_(Ra,e,n)}route(e,n,i,r){const a=nu(this,e),l=nu(this,i),u="_"+n;Object.defineProperties(a,{[u]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[u],d=l[r];return qe(f)?Object.assign({},d,f):ze(f,d)},set(f){this[u]=f}}})}apply(e){e.forEach(n=>n(this))}}var Tt=new VW({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[zW,UW,FW]);function WW(t){return!t||lt(t.size)||lt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function wA(t,e,n,i,r){let a=e[r];return a||(a=e[r]=t.measureText(r).width,n.push(r)),a>i&&(i=a),i}function ra(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function SA(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function r1(t,e,n,i){tI(t,e,n,i,null)}function tI(t,e,n,i,r){let a,l,u,f,d,p,m,y;const b=e.pointStyle,v=e.rotation,x=e.radius;let w=(v||0)*bW;if(b&&typeof b=="object"&&(a=b.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(w),t.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),b){default:r?t.ellipse(n,i,r/2,x,0,0,_i):t.arc(n,i,x,0,_i),t.closePath();break;case"triangle":p=r?r/2:x,t.moveTo(n+Math.sin(w)*p,i-Math.cos(w)*x),w+=gA,t.lineTo(n+Math.sin(w)*p,i-Math.cos(w)*x),w+=gA,t.lineTo(n+Math.sin(w)*p,i-Math.cos(w)*x),t.closePath();break;case"rectRounded":d=x*.516,f=x-d,l=Math.cos(w+ia)*f,m=Math.cos(w+ia)*(r?r/2-d:f),u=Math.sin(w+ia)*f,y=Math.sin(w+ia)*(r?r/2-d:f),t.arc(n-m,i-u,d,w-Bt,w-hi),t.arc(n+y,i-l,d,w-hi,w),t.arc(n+m,i+u,d,w,w+hi),t.arc(n-y,i+l,d,w+hi,w+Bt),t.closePath();break;case"rect":if(!v){f=Math.SQRT1_2*x,p=r?r/2:f,t.rect(n-p,i-f,2*p,2*f);break}w+=ia;case"rectRot":m=Math.cos(w)*(r?r/2:x),l=Math.cos(w)*x,u=Math.sin(w)*x,y=Math.sin(w)*(r?r/2:x),t.moveTo(n-m,i-u),t.lineTo(n+y,i-l),t.lineTo(n+m,i+u),t.lineTo(n-y,i+l),t.closePath();break;case"crossRot":w+=ia;case"cross":m=Math.cos(w)*(r?r/2:x),l=Math.cos(w)*x,u=Math.sin(w)*x,y=Math.sin(w)*(r?r/2:x),t.moveTo(n-m,i-u),t.lineTo(n+m,i+u),t.moveTo(n+y,i-l),t.lineTo(n-y,i+l);break;case"star":m=Math.cos(w)*(r?r/2:x),l=Math.cos(w)*x,u=Math.sin(w)*x,y=Math.sin(w)*(r?r/2:x),t.moveTo(n-m,i-u),t.lineTo(n+m,i+u),t.moveTo(n+y,i-l),t.lineTo(n-y,i+l),w+=ia,m=Math.cos(w)*(r?r/2:x),l=Math.cos(w)*x,u=Math.sin(w)*x,y=Math.sin(w)*(r?r/2:x),t.moveTo(n-m,i-u),t.lineTo(n+m,i+u),t.moveTo(n+y,i-l),t.lineTo(n-y,i+l);break;case"line":l=r?r/2:Math.cos(w)*x,u=Math.sin(w)*x,t.moveTo(n-l,i-u),t.lineTo(n+l,i+u);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(w)*(r?r/2:x),i+Math.sin(w)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Tu(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Tg(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Eg(t){t.restore()}function $W(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const a=(e.x+n.x)/2;t.lineTo(a,e.y),t.lineTo(a,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function YW(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function GW(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),lt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function KW(t,e,n,i,r){if(r.strikethrough||r.underline){const a=t.measureText(i),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,f=n-a.actualBoundingBoxAscent,d=n+a.actualBoundingBoxDescent,p=r.strikethrough?(f+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(l,p),t.lineTo(u,p),t.stroke()}}function XW(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Eu(t,e,n,i,r,a={}){const l=Dt(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let f,d;for(t.save(),t.font=r.string,GW(t,a),f=0;f<l.length;++f)d=l[f],a.backdrop&&XW(t,a.backdrop),u&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),lt(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(d,n,i,a.maxWidth)),t.fillText(d,n,i,a.maxWidth),KW(t,n,i,d,a),i+=Number(r.lineHeight);t.restore()}function s1(t,e){const{x:n,y:i,w:r,h:a,radius:l}=e;t.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*Bt,Bt,!0),t.lineTo(n,i+a-l.bottomLeft),t.arc(n+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,Bt,hi,!0),t.lineTo(n+r-l.bottomRight,i+a),t.arc(n+r-l.bottomRight,i+a-l.bottomRight,l.bottomRight,hi,0,!0),t.lineTo(n+r,i+l.topRight),t.arc(n+r-l.topRight,i+l.topRight,l.topRight,0,-hi,!0),t.lineTo(n+l.topLeft,i)}const QW=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ZW=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function JW(t,e){const n=(""+t).match(QW);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const e$=t=>+t||0;function nI(t,e){const n={},i=qe(e),r=i?Object.keys(e):e,a=qe(t)?i?l=>ze(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of r)n[l]=e$(a(l));return n}function t$(t){return nI(t,{top:"y",right:"x",bottom:"y",left:"x"})}function iu(t){return nI(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ni(t){const e=t$(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function nn(t,e){t=t||{},e=e||Tt.font;let n=ze(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=ze(t.style,e.style);i&&!(""+i).match(ZW)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:ze(t.family,e.family),lineHeight:JW(ze(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:ze(t.weight,e.weight),string:""};return r.string=WW(r),r}function Rd(t,e,n,i){let r,a,l;for(r=0,a=t.length;r<a;++r)if(l=t[r],l!==void 0&&l!==void 0)return l}function n$(t,e,n){const{min:i,max:r}=t,a=dW(e,(r-i)/2),l=(u,f)=>n&&u===0?0:u+f;return{min:l(i,-Math.abs(a)),max:l(r,a)}}function ja(t,e){return Object.assign(Object.create(t),e)}function Bx(t,e=[""],n,i,r=()=>t[0]){const a=n||t;typeof i>"u"&&(i=aI("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:i,_getTarget:r,override:u=>Bx([u,...t],e,a,i)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete t[0][f],!0},get(u,f){return rI(u,f,()=>u$(f,e,t,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,f){return EA(u).includes(f)},ownKeys(u){return EA(u)},set(u,f,d){const p=u._storage||(u._storage=r());return u[f]=p[f]=d,delete u._keys,!0}})}function Xo(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:iI(t,i),setContext:a=>Xo(t,a,n,i),override:a=>Xo(t.override(a),e,n,i)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete t[l],!0},get(a,l,u){return rI(a,l,()=>r$(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(a,l,u){return t[l]=u,delete a[l],!0}})}function iI(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Ns(n)?n:()=>n,isIndexable:Ns(i)?i:()=>i}}const i$=(t,e)=>t?t+zx(e):e,Fx=(t,e)=>qe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function rI(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function r$(t,e,n){const{_proxy:i,_context:r,_subProxy:a,_descriptors:l}=t;let u=i[e];return Ns(u)&&l.isScriptable(e)&&(u=s$(e,u,t,n)),Dt(u)&&u.length&&(u=a$(e,u,t,l.isIndexable)),Fx(e,u)&&(u=Xo(u,r,a&&a[e],l)),u}function s$(t,e,n,i){const{_proxy:r,_context:a,_subProxy:l,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let f=e(a,l||i);return u.delete(t),Fx(t,f)&&(f=Vx(r._scopes,r,t,f)),f}function a$(t,e,n,i){const{_proxy:r,_context:a,_subProxy:l,_descriptors:u}=n;if(typeof a.index<"u"&&i(t))return e[a.index%e.length];if(qe(e[0])){const f=e,d=r._scopes.filter(p=>p!==f);e=[];for(const p of f){const m=Vx(d,r,t,p);e.push(Xo(m,a,l&&l[t],u))}}return e}function sI(t,e,n){return Ns(t)?t(e,n):t}const o$=(t,e)=>t===!0?e:typeof t=="string"?Ih(e,t):void 0;function l$(t,e,n,i,r){for(const a of e){const l=o$(n,a);if(l){t.add(l);const u=sI(l._fallback,n,r);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Vx(t,e,n,i){const r=e._rootScopes,a=sI(e._fallback,n,i),l=[...t,...r],u=new Set;u.add(i);let f=TA(u,l,n,a||n,i);return f===null||typeof a<"u"&&a!==n&&(f=TA(u,l,a,f,i),f===null)?!1:Bx(Array.from(u),[""],r,a,()=>c$(e,n,i))}function TA(t,e,n,i,r){for(;n;)n=l$(t,e,n,i,r);return n}function c$(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Dt(r)&&qe(n)?n:r||{}}function u$(t,e,n,i){let r;for(const a of e)if(r=aI(i$(a,t),n),typeof r<"u")return Fx(t,r)?Vx(n,i,t,r):r}function aI(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function EA(t){let e=t._keys;return e||(e=t._keys=f$(t._scopes)),e}function f$(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const d$=Number.EPSILON||1e-14,Qo=(t,e)=>e<t.length&&!t[e].skip&&t[e],oI=t=>t==="x"?"y":"x";function h$(t,e,n,i){const r=t.skip?e:t,a=e,l=n.skip?e:n,u=n1(a,r),f=n1(l,a);let d=u/(u+f),p=f/(u+f);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const m=i*d,y=i*p;return{previous:{x:a.x-m*(l.x-r.x),y:a.y-m*(l.y-r.y)},next:{x:a.x+y*(l.x-r.x),y:a.y+y*(l.y-r.y)}}}function g$(t,e,n){const i=t.length;let r,a,l,u,f,d=Qo(t,0);for(let p=0;p<i-1;++p)if(f=d,d=Qo(t,p+1),!(!f||!d)){if(eu(e[p],0,d$)){n[p]=n[p+1]=0;continue}r=n[p]/e[p],a=n[p+1]/e[p],u=Math.pow(r,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),n[p]=r*l*e[p],n[p+1]=a*l*e[p])}}function p$(t,e,n="x"){const i=oI(n),r=t.length;let a,l,u,f=Qo(t,0);for(let d=0;d<r;++d){if(l=u,u=f,f=Qo(t,d+1),!u)continue;const p=u[n],m=u[i];l&&(a=(p-l[n])/3,u[`cp1${n}`]=p-a,u[`cp1${i}`]=m-a*e[d]),f&&(a=(f[n]-p)/3,u[`cp2${n}`]=p+a,u[`cp2${i}`]=m+a*e[d])}}function m$(t,e="x"){const n=oI(e),i=t.length,r=Array(i).fill(0),a=Array(i);let l,u,f,d=Qo(t,0);for(l=0;l<i;++l)if(u=f,f=d,d=Qo(t,l+1),!!f){if(d){const p=d[e]-f[e];r[l]=p!==0?(d[n]-f[n])/p:0}a[l]=u?d?Ko(r[l-1])!==Ko(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}g$(t,r,a),p$(t,a,e)}function Md(t,e,n){return Math.max(Math.min(t,n),e)}function _$(t,e){let n,i,r,a,l,u=Tu(t[0],e);for(n=0,i=t.length;n<i;++n)l=a,a=u,u=n<i-1&&Tu(t[n+1],e),a&&(r=t[n],l&&(r.cp1x=Md(r.cp1x,e.left,e.right),r.cp1y=Md(r.cp1y,e.top,e.bottom)),u&&(r.cp2x=Md(r.cp2x,e.left,e.right),r.cp2y=Md(r.cp2y,e.top,e.bottom)))}function y$(t,e,n,i,r){let a,l,u,f;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")m$(t,r);else{let d=i?t[t.length-1]:t[0];for(a=0,l=t.length;a<l;++a)u=t[a],f=h$(d,u,t[Math.min(a+1,l-(i?0:1))%l],e.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,d=u}e.capBezierPoints&&_$(t,n)}function Wx(){return typeof window<"u"&&typeof document<"u"}function $x(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Lh(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Cg=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function b$(t,e){return Cg(t).getPropertyValue(e)}const v$=["top","right","bottom","left"];function ya(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const a=v$[r];i[a]=parseFloat(t[e+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const x$=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function w$(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:a}=i;let l=!1,u,f;if(x$(r,a,t.target))u=r,f=a;else{const d=e.getBoundingClientRect();u=i.clientX-d.left,f=i.clientY-d.top,l=!0}return{x:u,y:f,box:l}}function la(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Cg(n),a=r.boxSizing==="border-box",l=ya(r,"padding"),u=ya(r,"border","width"),{x:f,y:d,box:p}=w$(t,n),m=l.left+(p&&u.left),y=l.top+(p&&u.top);let{width:b,height:v}=e;return a&&(b-=l.width+u.width,v-=l.height+u.height),{x:Math.round((f-m)/b*n.width/i),y:Math.round((d-y)/v*n.height/i)}}function S$(t,e,n){let i,r;if(e===void 0||n===void 0){const a=t&&$x(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const l=a.getBoundingClientRect(),u=Cg(a),f=ya(u,"border","width"),d=ya(u,"padding");e=l.width-d.width-f.width,n=l.height-d.height-f.height,i=Lh(u.maxWidth,a,"clientWidth"),r=Lh(u.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:i||Ph,maxHeight:r||Ph}}const kd=t=>Math.round(t*10)/10;function T$(t,e,n,i){const r=Cg(t),a=ya(r,"margin"),l=Lh(r.maxWidth,t,"clientWidth")||Ph,u=Lh(r.maxHeight,t,"clientHeight")||Ph,f=S$(t,e,n);let{width:d,height:p}=f;if(r.boxSizing==="content-box"){const y=ya(r,"border","width"),b=ya(r,"padding");d-=b.width+y.width,p-=b.height+y.height}return d=Math.max(0,d-a.width),p=Math.max(0,i?d/i:p-a.height),d=kd(Math.min(d,l,f.maxWidth)),p=kd(Math.min(p,u,f.maxHeight)),d&&!p&&(p=kd(d/2)),(e!==void 0||n!==void 0)&&i&&f.height&&p>f.height&&(p=f.height,d=kd(Math.floor(p*i))),{width:d,height:p}}function CA(t,e,n){const i=e||1,r=Math.floor(t.height*i),a=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||l.height!==r||l.width!==a?(t.currentDevicePixelRatio=i,l.height=r,l.width=a,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const E$=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Wx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function AA(t,e){const n=b$(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ca(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function C$(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function A$(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},l=ca(t,r,n),u=ca(r,a,n),f=ca(a,e,n),d=ca(l,u,n),p=ca(u,f,n);return ca(d,p,n)}const R$=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},M$=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ho(t,e,n){return t?R$(e,n):M$()}function lI(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function cI(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function uI(t){return t==="angle"?{between:K6,compare:CW,normalize:ji}:{between:Po,compare:(e,n)=>e-n,normalize:e=>e}}function RA({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function k$(t,e,n){const{property:i,start:r,end:a}=n,{between:l,normalize:u}=uI(i),f=e.length;let{start:d,end:p,loop:m}=t,y,b;if(m){for(d+=f,p+=f,y=0,b=f;y<b&&l(u(e[d%f][i]),r,a);++y)d--,p--;d%=f,p%=f}return p<d&&(p+=f),{start:d,end:p,loop:m,style:t.style}}function fI(t,e,n){if(!n)return[t];const{property:i,start:r,end:a}=n,l=e.length,{compare:u,between:f,normalize:d}=uI(i),{start:p,end:m,loop:y,style:b}=k$(t,e,n),v=[];let x=!1,w=null,E,k,O;const A=()=>f(r,O,E)&&u(r,O)!==0,M=()=>u(a,E)===0||f(a,O,E),R=()=>x||A(),P=()=>!x||M();for(let z=p,V=p;z<=m;++z)k=e[z%l],!k.skip&&(E=d(k[i]),E!==O&&(x=f(E,r,a),w===null&&R()&&(w=u(E,r)===0?z:V),w!==null&&P()&&(v.push(RA({start:w,end:z,loop:y,count:l,style:b})),w=null),V=z,O=E));return w!==null&&v.push(RA({start:w,end:m,loop:y,count:l,style:b})),v}function dI(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const a=fI(i[r],t.points,e);a.length&&n.push(...a)}return n}function O$(t,e,n,i){let r=0,a=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(a+=r);a>r&&t[a%e].skip;)a--;return a%=e,{start:r,end:a}}function N$(t,e,n,i){const r=t.length,a=[];let l=e,u=t[e],f;for(f=e+1;f<=n;++f){const d=t[f%r];d.skip||d.stop?u.skip||(i=!1,a.push({start:e%r,end:(f-1)%r,loop:i}),e=l=d.stop?f:null):(l=f,u.skip&&(e=f)),u=d}return l!==null&&a.push({start:e%r,end:l%r,loop:i}),a}function I$(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const a=!!t._loop,{start:l,end:u}=O$(n,r,a,i);if(i===!0)return MA(t,[{start:l,end:u,loop:a}],n,e);const f=u<l?u+r:u,d=!!t._fullLoop&&l===0&&u===r-1;return MA(t,N$(n,l,f,d),n,e)}function MA(t,e,n,i){return!i||!i.setContext||!n?e:D$(t,e,n,i)}function D$(t,e,n,i){const r=t._chart.getContext(),a=kA(t.options),{_datasetIndex:l,options:{spanGaps:u}}=t,f=n.length,d=[];let p=a,m=e[0].start,y=m;function b(v,x,w,E){const k=u?-1:1;if(v!==x){for(v+=f;n[v%f].skip;)v-=k;for(;n[x%f].skip;)x+=k;v%f!==x%f&&(d.push({start:v%f,end:x%f,loop:w,style:E}),p=E,m=x%f)}}for(const v of e){m=u?m:v.start;let x=n[m%f],w;for(y=m+1;y<=v.end;y++){const E=n[y%f];w=kA(i.setContext(ja(r,{type:"segment",p0:x,p1:E,p0DataIndex:(y-1)%f,p1DataIndex:y%f,datasetIndex:l}))),P$(w,p)&&b(m,y-1,v.loop,p),x=E,p=w}m<y-1&&b(m,y-1,v.loop,p)}return d}function kA(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function P$(t,e){if(!e)return!1;const n=[],i=function(r,a){return qx(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Od(t,e,n){return t.options.clip?t[n]:e[n]}function L$(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Od(n,e,"left"),right:Od(n,e,"right"),top:Od(i,e,"top"),bottom:Od(i,e,"bottom")}:e}function hI(t,e){const n=e._clip;if(n.disabled)return!1;const i=L$(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class j${constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const a=n.listeners[r],l=n.duration;a.forEach(u=>u({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Q6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,f;for(;l>=0;--l)f=a[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),a.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var _r=new j$;const OA="transparent",z$={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=vA(t||OA),r=i.valid&&vA(e||OA);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};let U$=class{constructor(e,n,i,r){const a=n[i];r=Rd([e.to,r,a,e.from]);const l=Rd([e.from,a,r]);this._active=!0,this._fn=e.fn||z$[e.type||typeof l],this._easing=tu[e.easing]||tu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Rd([e.to,n,r,e.from]),this._from=Rd([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,a=this._from,l=this._loop,u=this._to;let f;if(this._active=a!==u&&(l||n<i),!this._active){this._target[r]=u,this._notify(!0);return}if(n<0){this._target[r]=a;return}f=n/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(a,u,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}};class gI{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!qe(e))return;const n=Object.keys(Tt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const a=e[r];if(!qe(a))return;const l={};for(const u of n)l[u]=a[u];(Dt(a.properties)&&a.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,n){const i=n.options,r=q$(e,i);if(!r)return[];const a=this._createAnimations(r,i);return i.$shared&&H$(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,n){const i=this._properties,r=[],a=e.$animations||(e.$animations={}),l=Object.keys(n),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const d=l[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,n));continue}const p=n[d];let m=a[d];const y=i.get(d);if(m)if(y&&m.active()){m.update(y,p,u);continue}else m.cancel();if(!y||!y.duration){e[d]=p;continue}a[d]=m=new U$(y,e,d,p),r.push(m)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return _r.add(this._chart,i),!0}}function H$(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const a=t[i[r]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function q$(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function NA(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:i?a:r,end:i?r:a}}function B$(t,e,n){if(n===!1)return!1;const i=NA(t,n),r=NA(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function F$(t){let e,n,i,r;return qe(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function pI(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,a;for(r=0,a=i.length;r<a;++r)n.push(i[r].index);return n}function IA(t,e,n,i={}){const r=t.keys,a=i.mode==="single";let l,u,f,d;if(e===null)return;let p=!1;for(l=0,u=r.length;l<u;++l){if(f=+r[l],f===n){if(p=!0,i.all)continue;break}d=t.values[f],sn(d)&&(a||e===0||Ko(e)===Ko(d))&&(e+=d)}return!p&&!i.all?0:e}function V$(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(t),u=new Array(l.length);let f,d,p;for(f=0,d=l.length;f<d;++f)p=l[f],u[f]={[r]:p,[a]:t[p]};return u}function l_(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function W$(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function $$(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function Y$(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function DA(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const a=t[r.index];if(n&&a>0||!n&&a<0)return r.index}return null}function PA(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:u}=i,f=a.axis,d=l.axis,p=W$(a,l,i),m=e.length;let y;for(let b=0;b<m;++b){const v=e[b],{[f]:x,[d]:w}=v,E=v._stacks||(v._stacks={});y=E[d]=Y$(r,p,x),y[u]=w,y._top=DA(y,l,!0,i.type),y._bottom=DA(y,l,!1,i.type);const k=y._visualValues||(y._visualValues={});k[u]=w}}function c_(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function G$(t,e){return ja(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function K$(t,e,n){return ja(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function wc(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const a=r._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const u_=t=>t==="reset"||t==="none",LA=(t,e)=>e?t:Object.assign({},t),X$=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:pI(n,!0),values:null};class ru{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=l_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&wc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(m,y,b,v)=>m==="x"?y:m==="r"?v:b,a=n.xAxisID=ze(i.xAxisID,c_(e,"x")),l=n.yAxisID=ze(i.yAxisID,c_(e,"y")),u=n.rAxisID=ze(i.rAxisID,c_(e,"r")),f=n.indexAxis,d=n.iAxisID=r(f,a,l,u),p=n.vAxisID=r(f,l,a,u);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&_A(this._data,this),e._stacked&&wc(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(qe(n)){const r=this._cachedMeta;this._data=V$(n,r)}else if(i!==n){if(i){_A(i,this);const r=this._cachedMeta;wc(r),r._parsed=[]}n&&Object.isExtensible(n)&&kW(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const a=n._stacked;n._stacked=l_(n.vScale,n),n.stack!==i.stack&&(r=!0,wc(n),n.stack=i.stack),this._resyncElements(e),(r||a!==n._stacked)&&(PA(this,n._parsed),n._stacked=l_(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:l}=i,u=a.axis;let f=e===0&&n===r.length?!0:i._sorted,d=e>0&&i._parsed[e-1],p,m,y;if(this._parsing===!1)i._parsed=r,i._sorted=!0,y=r;else{Dt(r[e])?y=this.parseArrayData(i,r,e,n):qe(r[e])?y=this.parseObjectData(i,r,e,n):y=this.parsePrimitiveData(i,r,e,n);const b=()=>m[u]===null||d&&m[u]<d[u];for(p=0;p<n;++p)i._parsed[p+e]=m=y[p],f&&(b()&&(f=!1),d=m);i._sorted=f}l&&PA(this,y)}parsePrimitiveData(e,n,i,r){const{iScale:a,vScale:l}=e,u=a.axis,f=l.axis,d=a.getLabels(),p=a===l,m=new Array(r);let y,b,v;for(y=0,b=r;y<b;++y)v=y+i,m[y]={[u]:p||a.parse(d[v],v),[f]:l.parse(n[v],v)};return m}parseArrayData(e,n,i,r){const{xScale:a,yScale:l}=e,u=new Array(r);let f,d,p,m;for(f=0,d=r;f<d;++f)p=f+i,m=n[p],u[f]={x:a.parse(m[0],p),y:l.parse(m[1],p)};return u}parseObjectData(e,n,i,r){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let p,m,y,b;for(p=0,m=r;p<m;++p)y=p+i,b=n[y],d[p]={x:a.parse(Ih(b,u),y),y:l.parse(Ih(b,f),y)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,a=this._cachedMeta,l=n[e.axis],u={keys:pI(r,!0),values:n._stacks[e.axis]._visualValues};return IA(u,l,a.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const a=i[n.axis];let l=a===null?NaN:a;const u=r&&i._stacks[n.axis];r&&u&&(r.values=u,l=IA(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,a=i._sorted&&e===i.iScale,l=r.length,u=this._getOtherScale(e),f=X$(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=$$(u);let y,b;function v(){b=r[y];const x=b[u.axis];return!sn(b[e.axis])||p>x||m<x}for(y=0;y<l&&!(!v()&&(this.updateRangeFromParsed(d,e,b,f),a));++y);if(a){for(y=l-1;y>=0;--y)if(!v()){this.updateRangeFromParsed(d,e,b,f);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,a,l;for(r=0,a=n.length;r<a;++r)l=n[r][e.axis],sn(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=F$(ze(this.options.clip,B$(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],a=n.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,a,u,f),p=u;p<u+f;++p){const m=r[p];m.hidden||(m.active&&d?l.push(m):m.draw(e,a))}for(p=0;p<l.length;++p)l[p].draw(e,a)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=K$(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=r.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=G$(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",a=this._cachedDataOpts,l=e+"-"+n,u=a[l],f=this.enableOptionSharing&&Dh(i);if(u)return LA(u,f);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,e),m=r?[`${e}Hover`,"hover",e,""]:[e,""],y=d.getOptionScopes(this.getDataset(),p),b=Object.keys(Tt.elements[e]),v=()=>this.getContext(i,r,n),x=d.resolveNamedOptions(y,b,v,m);return x.$shared&&(x.$shared=f,a[l]=Object.freeze(LA(x,f))),x}_resolveAnimations(e,n,i){const r=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,u=a[l];if(u)return u;let f;if(r.options.animation!==!1){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,n),y=p.getOptionScopes(this.getDataset(),m);f=p.createResolver(y,this.getContext(e,i,n))}const d=new gI(r,f&&f.animations);return f&&f._cacheable&&(a[l]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||u_(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(n,a)||a!==r;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:l}}updateElement(e,n,i,r){u_(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!u_(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const a=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[u,f,d]of this._syncList)this[u](f,d);this._syncList=[];const r=i.length,a=n.length,l=Math.min(a,r);l&&this.parse(0,l),a>r?this._insertElements(r,a-r,e):a<r&&this._removeElements(a,r-a)}_insertElements(e,n,i=!0){const r=this._cachedMeta,a=r.data,l=e+n;let u;const f=d=>{for(d.length+=n,u=d.length-1;u>=l;u--)d[u]=d[u-n]};for(f(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(e,n),i&&this.updateElements(a,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&wc(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ae(ru,"defaults",{}),Ae(ru,"datasetElementType",null),Ae(ru,"dataElementType",null);class Zd extends ru{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:a}=n,l=this.chart._animationsDisabled;let{start:u,count:f}=DW(n,r,l);this._drawStart=u,this._drawCount=f,PW(n)&&(u=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},e),this.updateElements(r,u,f,e)}updateElements(e,n,i,r){const a=r==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(n,r),y=l.axis,b=u.axis,{spanGaps:v,segment:x}=this.options,w=Su(v)?v:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||a||r==="none",k=n+i,O=e.length;let A=n>0&&this.getParsed(n-1);for(let M=0;M<O;++M){const R=e[M],P=E?R:{};if(M<n||M>=k){P.skip=!0;continue}const z=this.getParsed(M),V=lt(z[b]),$=P[y]=l.getPixelForValue(z[y],M),U=P[b]=a||V?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,z,f):z[b],M);P.skip=isNaN($)||isNaN(U)||V,P.stop=M>0&&Math.abs(z[y]-A[y])>w,x&&(P.parsed=z,P.raw=d.data[M]),m&&(P.options=p||this.resolveDataElementOptions(M,R.active?"active":r)),E||this.updateElement(R,M,P,r),A=z}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const a=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ae(Zd,"id","line"),Ae(Zd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ae(Zd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function sa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Yx{constructor(e){Ae(this,"options");this.options=e||{}}static override(e){Object.assign(Yx.prototype,e)}init(){}formats(){return sa()}parse(){return sa()}format(){return sa()}add(){return sa()}diff(){return sa()}startOf(){return sa()}endOf(){return sa()}}var Q$={_date:Yx};function Z$(t,e,n,i){const{controller:r,data:a,_sorted:l}=t,u=r._cachedMeta.iScale,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const d=u._reversePixels?RW:ma;if(i){if(r._sharedOptions){const p=a[0],m=typeof p.getRange=="function"&&p.getRange(e);if(m){const y=d(a,e,n-m),b=d(a,e,n+m);return{lo:y.lo,hi:b.hi}}}}else{const p=d(a,e,n);if(f){const{vScale:m}=r._cachedMeta,{_parsed:y}=t,b=y.slice(0,p.lo+1).reverse().findIndex(x=>!lt(x[m.axis]));p.lo-=Math.max(0,b);const v=y.slice(p.hi).findIndex(x=>!lt(x[m.axis]));p.hi+=Math.max(0,v)}return p}}return{lo:0,hi:a.length-1}}function Ag(t,e,n,i,r){const a=t.getSortedVisibleDatasetMetas(),l=n[e];for(let u=0,f=a.length;u<f;++u){const{index:d,data:p}=a[u],{lo:m,hi:y}=Z$(a[u],e,l,r);for(let b=m;b<=y;++b){const v=p[b];v.skip||i(v,d,b)}}}function J$(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const a=e?Math.abs(i.x-r.x):0,l=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function f_(t,e,n,i,r){const a=[];return!r&&!t.isPointInArea(e)||Ag(t,n,e,function(u,f,d){!r&&!Tu(u,t.chartArea,0)||u.inRange(e.x,e.y,i)&&a.push({element:u,datasetIndex:f,index:d})},!0),a}function eY(t,e,n,i){let r=[];function a(l,u,f){const{startAngle:d,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:m}=EW(l,{x:e.x,y:e.y});K6(m,d,p)&&r.push({element:l,datasetIndex:u,index:f})}return Ag(t,n,e,a),r}function tY(t,e,n,i,r,a){let l=[];const u=J$(n);let f=Number.POSITIVE_INFINITY;function d(p,m,y){const b=p.inRange(e.x,e.y,r);if(i&&!b)return;const v=p.getCenterPoint(r);if(!(!!a||t.isPointInArea(v))&&!b)return;const w=u(e,v);w<f?(l=[{element:p,datasetIndex:m,index:y}],f=w):w===f&&l.push({element:p,datasetIndex:m,index:y})}return Ag(t,n,e,d),l}function d_(t,e,n,i,r,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!i?eY(t,e,n,r):tY(t,e,n,i,r,a)}function jA(t,e,n,i,r){const a=[],l=n==="x"?"inXRange":"inYRange";let u=!1;return Ag(t,n,e,(f,d,p)=>{f[l]&&f[l](e[n],r)&&(a.push({element:f,datasetIndex:d,index:p}),u=u||f.inRange(e.x,e.y,r))}),i&&!u?[]:a}var nY={modes:{index(t,e,n,i){const r=la(e,t),a=n.axis||"x",l=n.includeInvisible||!1,u=n.intersect?f_(t,r,a,i,l):d_(t,r,a,!1,i,l),f=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const p=u[0].index,m=d.data[p];m&&!m.skip&&f.push({element:m,datasetIndex:d.index,index:p})}),f):[]},dataset(t,e,n,i){const r=la(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;let u=n.intersect?f_(t,r,a,i,l):d_(t,r,a,!1,i,l);if(u.length>0){const f=u[0].datasetIndex,d=t.getDatasetMeta(f).data;u=[];for(let p=0;p<d.length;++p)u.push({element:d[p],datasetIndex:f,index:p})}return u},point(t,e,n,i){const r=la(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return f_(t,r,a,i,l)},nearest(t,e,n,i){const r=la(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return d_(t,r,a,n.intersect,i,l)},x(t,e,n,i){const r=la(e,t);return jA(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=la(e,t);return jA(t,r,"y",n.intersect,i)}}};const mI=["left","top","right","bottom"];function Sc(t,e){return t.filter(n=>n.pos===e)}function zA(t,e){return t.filter(n=>mI.indexOf(n.pos)===-1&&n.box.axis===e)}function Tc(t,e){return t.sort((n,i)=>{const r=e?i:n,a=e?n:i;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function iY(t){const e=[];let n,i,r,a,l,u;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:a,options:{stack:l,stackWeight:u=1}}=r,e.push({index:n,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&a+l,stackWeight:u});return e}function rY(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:a}=n;if(!i||!mI.includes(r))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function sY(t,e){const n=rY(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let a,l,u;for(a=0,l=t.length;a<l;++a){u=t[a];const{fullSize:f}=u.box,d=n[u.stack],p=d&&u.stackWeight/d.weight;u.horizontal?(u.width=p?p*i:f&&e.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:f&&e.availableHeight)}return n}function aY(t){const e=iY(t),n=Tc(e.filter(d=>d.box.fullSize),!0),i=Tc(Sc(e,"left"),!0),r=Tc(Sc(e,"right")),a=Tc(Sc(e,"top"),!0),l=Tc(Sc(e,"bottom")),u=zA(e,"x"),f=zA(e,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:r.concat(f).concat(l).concat(u),chartArea:Sc(e,"chartArea"),vertical:i.concat(r).concat(f),horizontal:a.concat(l).concat(u)}}function UA(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function _I(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function oY(t,e,n,i){const{pos:r,box:a}=n,l=t.maxPadding;if(!qe(r)){n.size&&(t[r]-=n.size);const m=i[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?a.height:a.width),n.size=m.size/m.count,t[r]+=n.size}a.getPadding&&_I(l,a.getPadding());const u=Math.max(0,e.outerWidth-UA(l,t,"left","right")),f=Math.max(0,e.outerHeight-UA(l,t,"top","bottom")),d=u!==t.w,p=f!==t.h;return t.w=u,t.h=f,n.horizontal?{same:d,other:p}:{same:p,other:d}}function lY(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function cY(t,e){const n=e.maxPadding;function i(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{a[l]=Math.max(e[l],n[l])}),a}return i(t?["left","right"]:["top","bottom"])}function Hc(t,e,n,i){const r=[];let a,l,u,f,d,p;for(a=0,l=t.length,d=0;a<l;++a){u=t[a],f=u.box,f.update(u.width||e.w,u.height||e.h,cY(u.horizontal,e));const{same:m,other:y}=oY(e,n,u,i);d|=m&&r.length,p=p||y,f.fullSize||r.push(u)}return d&&Hc(r,e,n,i)||p}function Nd(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function HA(t,e,n,i){const r=n.padding;let{x:a,y:l}=e;for(const u of t){const f=u.box,d=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/d.weight||1;if(u.horizontal){const m=e.w*p,y=d.size||f.height;Dh(d.start)&&(l=d.start),f.fullSize?Nd(f,r.left,l,n.outerWidth-r.right-r.left,y):Nd(f,e.left+d.placed,l,m,y),d.start=l,d.placed+=m,l=f.bottom}else{const m=e.h*p,y=d.size||f.width;Dh(d.start)&&(a=d.start),f.fullSize?Nd(f,a,r.top,y,n.outerHeight-r.bottom-r.top):Nd(f,a,e.top+d.placed,y,m),d.start=a,d.placed+=m,a=f.right}}e.x=a,e.y=l}var Zn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=ni(t.options.layout.padding),a=Math.max(e-r.width,0),l=Math.max(n-r.height,0),u=aY(t.boxes),f=u.vertical,d=u.horizontal;Ke(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const p=f.reduce((x,w)=>w.box.options&&w.box.options.display===!1?x:x+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),y=Object.assign({},r);_I(y,ni(i));const b=Object.assign({maxPadding:y,w:a,h:l,x:r.left,y:r.top},r),v=sY(f.concat(d),m);Hc(u.fullSize,b,m,v),Hc(f,b,m,v),Hc(d,b,m,v)&&Hc(f,b,m,v),lY(b),HA(u.leftAndTop,b,m,v),b.x+=b.w,b.y+=b.h,HA(u.rightAndBottom,b,m,v),t.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Ke(u.chartArea,x=>{const w=x.box;Object.assign(w,t.chartArea),w.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class yI{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class uY extends yI{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Jd="$chartjs",fY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qA=t=>t===null||t==="";function dY(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Jd]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",qA(r)){const a=AA(t,"width");a!==void 0&&(t.width=a)}if(qA(i))if(t.style.height==="")t.height=t.width/(e||2);else{const a=AA(t,"height");a!==void 0&&(t.height=a)}return t}const bI=E$?{passive:!0}:!1;function hY(t,e,n){t&&t.addEventListener(e,n,bI)}function gY(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,bI)}function pY(t,e){const n=fY[t.type]||t.type,{x:i,y:r}=la(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function jh(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function mY(t,e,n){const i=t.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||jh(u.addedNodes,i),l=l&&!jh(u.removedNodes,i);l&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function _Y(t,e,n){const i=t.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||jh(u.removedNodes,i),l=l&&!jh(u.addedNodes,i);l&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Cu=new Map;let BA=0;function vI(){const t=window.devicePixelRatio;t!==BA&&(BA=t,Cu.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function yY(t,e){Cu.size||window.addEventListener("resize",vI),Cu.set(t,e)}function bY(t){Cu.delete(t),Cu.size||window.removeEventListener("resize",vI)}function vY(t,e,n){const i=t.canvas,r=i&&$x(i);if(!r)return;const a=Z6((u,f)=>{const d=r.clientWidth;n(u,f),d<r.clientWidth&&n()},window),l=new ResizeObserver(u=>{const f=u[0],d=f.contentRect.width,p=f.contentRect.height;d===0&&p===0||a(d,p)});return l.observe(r),yY(t,a),l}function h_(t,e,n){n&&n.disconnect(),e==="resize"&&bY(t)}function xY(t,e,n){const i=t.canvas,r=Z6(a=>{t.ctx!==null&&n(pY(a,t))},t);return hY(i,e,r),r}class wY extends yI{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(dY(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Jd])return!1;const i=n[Jd].initial;["height","width"].forEach(a=>{const l=i[a];lt(l)?n.removeAttribute(a):n.setAttribute(a,l)});const r=i.style||{};return Object.keys(r).forEach(a=>{n.style[a]=r[a]}),n.width=n.width,delete n[Jd],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),l={attach:mY,detach:_Y,resize:vY}[n]||xY;r[n]=l(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:h_,detach:h_,resize:h_}[n]||gY)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return T$(e,n,i,r)}isAttached(e){const n=e&&$x(e);return!!(n&&n.isConnected)}}function SY(t){return!Wx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?uY:wY}class Nr{constructor(){Ae(this,"x");Ae(this,"y");Ae(this,"active",!1);Ae(this,"options");Ae(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Su(this.x)&&Su(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(a=>{r[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),r}}Ae(Nr,"defaults",{}),Ae(Nr,"defaultRoutes");function TY(t,e){const n=t.options.ticks,i=EY(t),r=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?AY(e):[],l=a.length,u=a[0],f=a[l-1],d=[];if(l>r)return RY(e,d,a,l/r),d;const p=CY(a,e,r);if(l>0){let m,y;const b=l>1?Math.round((f-u)/(l-1)):null;for(Id(e,d,p,lt(b)?0:u-b,u),m=0,y=l-1;m<y;m++)Id(e,d,p,a[m],a[m+1]);return Id(e,d,p,f,lt(b)?e.length:f+b),d}return Id(e,d,p),d}function EY(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function CY(t,e,n){const i=MY(t),r=e.length/n;if(!i)return Math.max(r,1);const a=vW(i);for(let l=0,u=a.length-1;l<u;l++){const f=a[l];if(f>r)return f}return Math.max(r,1)}function AY(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function RY(t,e,n,i){let r=0,a=n[0],l;for(i=Math.ceil(i),l=0;l<t.length;l++)l===a&&(e.push(t[l]),r++,a=n[r*i])}function Id(t,e,n,i,r){const a=ze(i,0),l=Math.min(ze(r,t.length),t.length);let u=0,f,d,p;for(n=Math.ceil(n),r&&(f=r-i,n=f/Math.floor(f/n)),p=a;p<0;)u++,p=Math.round(a+u*n);for(d=Math.max(a,0);d<l;d++)d===p&&(e.push(t[d]),u++,p=Math.round(a+u*n))}function MY(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const kY=t=>t==="left"?"right":t==="right"?"left":t,FA=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,VA=(t,e)=>Math.min(e||t,t);function WA(t,e){const n=[],i=t.length/e,r=t.length;let a=0;for(;a<r;a+=i)n.push(t[Math.floor(a)]);return n}function OY(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),a=t._startPixel,l=t._endPixel,u=1e-6;let f=t.getPixelForTick(r),d;if(!(n&&(i===1?d=Math.max(f-a,l-f):e===0?d=(t.getPixelForTick(1)-f)/2:d=(f-t.getPixelForTick(r-1))/2,f+=r<e?d:-d,f<a-u||f>l+u)))return f}function NY(t,e){Ke(t,n=>{const i=n.gc,r=i.length/2;let a;if(r>e){for(a=0;a<r;++a)delete n.data[i[a]];i.splice(0,r)}})}function Ec(t){return t.drawTicks?t.tickLength:0}function $A(t,e){if(!t.display)return 0;const n=nn(t.font,e),i=ni(t.padding);return(Dt(t.text)?t.text.length:1)*n.lineHeight+i.height}function IY(t,e){return ja(t,{scale:e,type:"scale"})}function DY(t,e,n){return ja(t,{tick:n,index:e,type:"tick"})}function PY(t,e,n){let i=Hx(t);return(n&&e!=="right"||!n&&e==="right")&&(i=kY(i)),i}function LY(t,e,n,i){const{top:r,left:a,bottom:l,right:u,chart:f}=t,{chartArea:d,scales:p}=f;let m=0,y,b,v;const x=l-r,w=u-a;if(t.isHorizontal()){if(b=Jt(i,a,u),qe(n)){const E=Object.keys(n)[0],k=n[E];v=p[E].getPixelForValue(k)+x-e}else n==="center"?v=(d.bottom+d.top)/2+x-e:v=FA(t,n,e);y=u-a}else{if(qe(n)){const E=Object.keys(n)[0],k=n[E];b=p[E].getPixelForValue(k)-w+e}else n==="center"?b=(d.left+d.right)/2-w+e:b=FA(t,n,e);v=Jt(i,l,r),m=n==="left"?-hi:hi}return{titleX:b,titleY:v,maxWidth:y,rotation:m}}class gl extends Nr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Di(e,Number.POSITIVE_INFINITY),n=Di(n,Number.NEGATIVE_INFINITY),i=Di(i,Number.POSITIVE_INFINITY),r=Di(r,Number.NEGATIVE_INFINITY),{min:Di(e,i),max:Di(n,r),minDefined:sn(e),maxDefined:sn(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:a}=this.getUserBounds(),l;if(r&&a)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,d=u.length;f<d;++f)l=u[f].controller.getMinMax(this,e),r||(n=Math.min(n,l.min)),a||(i=Math.max(i,l.max));return n=a&&n>i?i:n,i=r&&n>i?n:i,{min:Di(n,Di(i,n)),max:Di(i,Di(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ht(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=n$(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?WA(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=TY(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ht(this.options.afterUpdate,[this])}beforeSetDimensions(){ht(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ht(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ht(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ht(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,a;for(i=0,r=e.length;i<r;i++)a=e[i],a.label=ht(n.callback,[a.value,i,e],this)}afterTickToLabelConversion(){ht(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ht(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=VA(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,a=n.maxRotation;let l=r,u,f,d;if(!this._isVisible()||!n.display||r>=a||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),m=p.widest.width,y=p.highest.height,b=Qn(this.chart.width-m,0,this.maxWidth);u=e.offset?this.maxWidth/i:b/(i-1),m+6>u&&(u=b/(i-(e.offset?.5:1)),f=this.maxHeight-Ec(e.grid)-n.padding-$A(e.title,this.chart.options.font),d=Math.sqrt(m*m+y*y),l=TW(Math.min(Math.asin(Qn((p.highest.height+6)/u,-1,1)),Math.asin(Qn(f/d,-1,1))-Math.asin(Qn(y/d,-1,1)))),l=Math.max(r,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){ht(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ht(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=$A(r,n.options.font);if(u?(e.width=this.maxWidth,e.height=Ec(a)+f):(e.height=this.maxHeight,e.width=Ec(a)+f),i.display&&this.ticks.length){const{first:d,last:p,widest:m,highest:y}=this._getLabelSizes(),b=i.padding*2,v=pa(this.labelRotation),x=Math.cos(v),w=Math.sin(v);if(u){const E=i.mirror?0:w*m.width+x*y.height;e.height=Math.min(this.maxHeight,e.height+E+b)}else{const E=i.mirror?0:x*m.width+w*y.height;e.width=Math.min(this.maxWidth,e.width+E+b)}this._calculatePadding(d,p,w,x)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:a,padding:l},position:u}=this.options,f=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,b=0;f?d?(y=r*e.width,b=i*n.height):(y=i*e.height,b=r*n.width):a==="start"?b=n.width:a==="end"?y=e.width:a!=="inner"&&(y=e.width/2,b=n.width/2),this.paddingLeft=Math.max((y-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-m+l)*this.width/(this.width-m),0)}else{let p=n.height/2,m=e.height/2;a==="start"?(p=0,m=e.height):a==="end"&&(p=n.height,m=0),this.paddingTop=p+l,this.paddingBottom=m+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ht(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)lt(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=WA(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:a}=this,l=[],u=[],f=Math.floor(n/VA(n,i));let d=0,p=0,m,y,b,v,x,w,E,k,O,A,M;for(m=0;m<n;m+=f){if(v=e[m].label,x=this._resolveTickFontOptions(m),r.font=w=x.string,E=a[w]=a[w]||{data:{},gc:[]},k=x.lineHeight,O=A=0,!lt(v)&&!Dt(v))O=wA(r,E.data,E.gc,O,v),A=k;else if(Dt(v))for(y=0,b=v.length;y<b;++y)M=v[y],!lt(M)&&!Dt(M)&&(O=wA(r,E.data,E.gc,O,M),A+=k);l.push(O),u.push(A),d=Math.max(O,d),p=Math.max(A,p)}NY(a,n);const R=l.indexOf(d),P=u.indexOf(p),z=V=>({width:l[V]||0,height:u[V]||0});return{first:z(0),last:z(n-1),widest:z(R),highest:z(P),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return AW(this._alignToPixels?ra(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=DY(this.getContext(),e,i))}return this.$context||(this.$context=IY(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=pa(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,f=a?a.highest.height+l:0;return this.isHorizontal()?f*i>u*r?u/i:f/r:f*r<u*i?f/i:u/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:a,position:l,border:u}=r,f=a.offset,d=this.isHorizontal(),m=this.ticks.length+(f?1:0),y=Ec(a),b=[],v=u.setContext(this.getContext()),x=v.display?v.width:0,w=x/2,E=function(L){return ra(i,L,x)};let k,O,A,M,R,P,z,V,$,U,Q,J;if(l==="top")k=E(this.bottom),P=this.bottom-y,V=k-w,U=E(e.top)+w,J=e.bottom;else if(l==="bottom")k=E(this.top),U=e.top,J=E(e.bottom)-w,P=k+w,V=this.top+y;else if(l==="left")k=E(this.right),R=this.right-y,z=k-w,$=E(e.left)+w,Q=e.right;else if(l==="right")k=E(this.left),$=e.left,Q=E(e.right)-w,R=k+w,z=this.left+y;else if(n==="x"){if(l==="center")k=E((e.top+e.bottom)/2+.5);else if(qe(l)){const L=Object.keys(l)[0],Y=l[L];k=E(this.chart.scales[L].getPixelForValue(Y))}U=e.top,J=e.bottom,P=k+w,V=P+y}else if(n==="y"){if(l==="center")k=E((e.left+e.right)/2);else if(qe(l)){const L=Object.keys(l)[0],Y=l[L];k=E(this.chart.scales[L].getPixelForValue(Y))}R=k-w,z=R-y,$=e.left,Q=e.right}const re=ze(r.ticks.maxTicksLimit,m),ee=Math.max(1,Math.ceil(m/re));for(O=0;O<m;O+=ee){const L=this.getContext(O),Y=a.setContext(L),se=u.setContext(L),ce=Y.lineWidth,D=Y.color,K=se.dash||[],ie=se.dashOffset,ne=Y.tickWidth,ue=Y.tickColor,ge=Y.tickBorderDash||[],fe=Y.tickBorderDashOffset;A=OY(this,O,f),A!==void 0&&(M=ra(i,A,ce),d?R=z=$=Q=M:P=V=U=J=M,b.push({tx1:R,ty1:P,tx2:z,ty2:V,x1:$,y1:U,x2:Q,y2:J,width:ce,color:D,borderDash:K,borderDashOffset:ie,tickWidth:ne,tickColor:ue,tickBorderDash:ge,tickBorderDashOffset:fe}))}return this._ticksLength=m,this._borderValue=k,b}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:d,padding:p,mirror:m}=a,y=Ec(i.grid),b=y+p,v=m?-p:b,x=-pa(this.labelRotation),w=[];let E,k,O,A,M,R,P,z,V,$,U,Q,J="middle";if(r==="top")R=this.bottom-v,P=this._getXAxisLabelAlignment();else if(r==="bottom")R=this.top+v,P=this._getXAxisLabelAlignment();else if(r==="left"){const ee=this._getYAxisLabelAlignment(y);P=ee.textAlign,M=ee.x}else if(r==="right"){const ee=this._getYAxisLabelAlignment(y);P=ee.textAlign,M=ee.x}else if(n==="x"){if(r==="center")R=(e.top+e.bottom)/2+b;else if(qe(r)){const ee=Object.keys(r)[0],L=r[ee];R=this.chart.scales[ee].getPixelForValue(L)+b}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")M=(e.left+e.right)/2-b;else if(qe(r)){const ee=Object.keys(r)[0],L=r[ee];M=this.chart.scales[ee].getPixelForValue(L)}P=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(f==="start"?J="top":f==="end"&&(J="bottom"));const re=this._getLabelSizes();for(E=0,k=u.length;E<k;++E){O=u[E],A=O.label;const ee=a.setContext(this.getContext(E));z=this.getPixelForTick(E)+a.labelOffset,V=this._resolveTickFontOptions(E),$=V.lineHeight,U=Dt(A)?A.length:1;const L=U/2,Y=ee.color,se=ee.textStrokeColor,ce=ee.textStrokeWidth;let D=P;l?(M=z,P==="inner"&&(E===k-1?D=this.options.reverse?"left":"right":E===0?D=this.options.reverse?"right":"left":D="center"),r==="top"?d==="near"||x!==0?Q=-U*$+$/2:d==="center"?Q=-re.highest.height/2-L*$+$:Q=-re.highest.height+$/2:d==="near"||x!==0?Q=$/2:d==="center"?Q=re.highest.height/2-L*$:Q=re.highest.height-U*$,m&&(Q*=-1),x!==0&&!ee.showLabelBackdrop&&(M+=$/2*Math.sin(x))):(R=z,Q=(1-U)*$/2);let K;if(ee.showLabelBackdrop){const ie=ni(ee.backdropPadding),ne=re.heights[E],ue=re.widths[E];let ge=Q-ie.top,fe=0-ie.left;switch(J){case"middle":ge-=ne/2;break;case"bottom":ge-=ne;break}switch(P){case"center":fe-=ue/2;break;case"right":fe-=ue;break;case"inner":E===k-1?fe-=ue:E>0&&(fe-=ue/2);break}K={left:fe,top:ge,width:ue+ie.width,height:ne+ie.height,color:ee.backdropColor}}w.push({label:A,font:V,textOffset:Q,options:{rotation:x,color:Y,strokeColor:se,strokeWidth:ce,textAlign:D,textBaseline:J,translation:[M,R],backdrop:K}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-pa(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,f=l.widest.width;let d,p;return n==="left"?r?(p=this.right+a,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p+=f)):(p=this.right-u,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p=this.left)):n==="right"?r?(p=this.left+a,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p-=f)):(p=this.left+u,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:a,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,a,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(a=>a.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(f,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(a=0,l=r.length;a<l;++a){const f=r[a];n.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,p,m,y;this.isHorizontal()?(d=ra(e,this.left,l)-l/2,p=ra(e,this.right,u)+u/2,m=y=f):(m=ra(e,this.top,l)-l/2,y=ra(e,this.bottom,u)+u/2,d=p=f),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(d,m),n.lineTo(p,y),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Tg(i,r);const a=this.getLabelItems(e);for(const l of a){const u=l.options,f=l.font,d=l.label,p=l.textOffset;Eu(i,d,0,p,f,u)}r&&Eg(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const a=nn(i.font),l=ni(i.padding),u=i.align;let f=a.lineHeight/2;n==="bottom"||n==="center"||qe(n)?(f+=l.bottom,Dt(i.text)&&(f+=a.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:d,titleY:p,maxWidth:m,rotation:y}=LY(this,f,n,u);Eu(e,i.text,0,0,a,{color:i.color,maxWidth:m,rotation:y,textAlign:PY(u,n,r),textBaseline:"middle",translation:[d,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=ze(e.grid&&e.grid.z,-1),r=ze(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==gl.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let a,l;for(a=0,l=n.length;a<l;++a){const u=n[a];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return nn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Dd{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;UY(n)&&(i=this.register(n));const r=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in r||(r[a]=e,jY(e,l,i),this.override&&Tt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Tt[r]&&(delete Tt[r][i],this.override&&delete Ra[i])}}function jY(t,e,n){const i=wu(Object.create(null),[n?Tt.get(n):{},Tt.get(e),t.defaults]);Tt.set(e,i),t.defaultRoutes&&zY(e,t.defaultRoutes),t.descriptors&&Tt.describe(e,t.descriptors)}function zY(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),a=[t].concat(i).join("."),l=e[n].split("."),u=l.pop(),f=l.join(".");Tt.route(a,r,f,u)})}function UY(t){return"id"in t&&"defaults"in t}class HY{constructor(){this.controllers=new Dd(ru,"datasets",!0),this.elements=new Dd(Nr,"elements"),this.plugins=new Dd(Object,"plugins"),this.scales=new Dd(gl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const a=i||this._getRegistryForType(r);i||a.isForType(r)||a===this.plugins&&r.id?this._exec(e,a,r):Ke(r,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,n,i){const r=zx(e);ht(i["before"+r],[],i),n[e](i),ht(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Li=new HY;class qY{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=r?this._descriptors(e).filter(r):this._descriptors(e),l=this._notify(a,e,n,i);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,i,r){r=r||{};for(const a of e){const l=a.plugin,u=l[i],f=[n,r,a.options];if(ht(u,f,l)===!1&&r.cancelable)return!1}return!0}invalidate(){lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=ze(i.options&&i.options.plugins,{}),a=BY(i);return r===!1&&!n?[]:VY(e,a,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(a,l)=>a.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function BY(t){const e={},n=[],i=Object.keys(Li.plugins.items);for(let a=0;a<i.length;a++)n.push(Li.getPlugin(i[a]));const r=t.plugins||[];for(let a=0;a<r.length;a++){const l=r[a];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function FY(t,e){return!e&&t===!1?null:t===!0?{}:t}function VY(t,{plugins:e,localIds:n},i,r){const a=[],l=t.getContext();for(const u of e){const f=u.id,d=FY(i[f],r);d!==null&&a.push({plugin:u,options:WY(t.config,{plugin:u,local:n[f]},d,l)})}return a}function WY(t,{plugin:e,local:n},i,r){const a=t.pluginScopeKeys(e),l=t.getOptionScopes(i,a);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function a1(t,e){const n=Tt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function $Y(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function YY(t,e){return t===e?"_index_":"_value_"}function YA(t){if(t==="x"||t==="y"||t==="r")return t}function GY(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function o1(t,...e){if(YA(t))return t;for(const n of e){const i=n.axis||GY(n.position)||t.length>1&&YA(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function GA(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function KY(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return GA(t,"x",n[0])||GA(t,"y",n[0])}return{}}function XY(t,e){const n=Ra[t.type]||{scales:{}},i=e.scales||{},r=a1(t.type,e),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!qe(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=o1(l,u,KY(l,t),Tt.scales[u.type]),d=YY(f,r),p=n.scales||{};a[l]=Jc(Object.create(null),[{axis:f},u,p[f],p[d]])}),t.data.datasets.forEach(l=>{const u=l.type||t.type,f=l.indexAxis||a1(u,e),p=(Ra[u]||{}).scales||{};Object.keys(p).forEach(m=>{const y=$Y(m,f),b=l[y+"AxisID"]||y;a[b]=a[b]||Object.create(null),Jc(a[b],[{axis:y},i[b],p[m]])})}),Object.keys(a).forEach(l=>{const u=a[l];Jc(u,[Tt.scales[u.type],Tt.scale])}),a}function xI(t){const e=t.options||(t.options={});e.plugins=ze(e.plugins,{}),e.scales=XY(t,e)}function wI(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function QY(t){return t=t||{},t.data=wI(t.data),xI(t),t}const KA=new Map,SI=new Set;function Pd(t,e){let n=KA.get(t);return n||(n=e(),KA.set(t,n),SI.add(n)),n}const Cc=(t,e,n)=>{const i=Ih(e,n);i!==void 0&&t.add(i)};class ZY{constructor(e){this._config=QY(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=wI(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xI(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Pd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Pd(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Pd(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Pd(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:a}=this,l=this._cachedScopes(e,i),u=l.get(n);if(u)return u;const f=new Set;n.forEach(p=>{e&&(f.add(e),p.forEach(m=>Cc(f,e,m))),p.forEach(m=>Cc(f,r,m)),p.forEach(m=>Cc(f,Ra[a]||{},m)),p.forEach(m=>Cc(f,Tt,m)),p.forEach(m=>Cc(f,i1,m))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),SI.has(n)&&l.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ra[n]||{},Tt.datasets[n]||{},{type:n},Tt,i1]}resolveNamedOptions(e,n,i,r=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=XA(this._resolverCache,e,r);let f=l;if(eG(l,n)){a.$shared=!1,i=Ns(i)?i():i;const d=this.createResolver(e,i,u);f=Xo(l,i,d)}for(const d of n)a[d]=f[d];return a}createResolver(e,n,i=[""],r){const{resolver:a}=XA(this._resolverCache,e,i);return qe(n)?Xo(a,n,void 0,r):a}}function XA(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let a=i.get(r);return a||(a={resolver:Bx(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,a)),a}const JY=t=>qe(t)&&Object.getOwnPropertyNames(t).some(e=>Ns(t[e]));function eG(t,e){const{isScriptable:n,isIndexable:i}=iI(t);for(const r of e){const a=n(r),l=i(r),u=(l||a)&&t[r];if(a&&(Ns(u)||JY(u))||l&&Dt(u))return!0}return!1}var tG="4.4.9";const nG=["top","bottom","left","right","chartArea"];function QA(t,e){return t==="top"||t==="bottom"||nG.indexOf(t)===-1&&e==="x"}function ZA(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function JA(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ht(n&&n.onComplete,[t],e)}function iG(t){const e=t.chart,n=e.options.animation;ht(n&&n.onProgress,[t],e)}function TI(t){return Wx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const eh={},eR=t=>{const e=TI(t);return Object.values(eh).filter(n=>n.canvas===e).pop()};function rG(t,e,n){const i=Object.keys(t);for(const r of i){const a=+r;if(a>=e){const l=t[r];delete t[r],(n>0||a>e)&&(t[a+n]=l)}}}function sG(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var fs;let Rg=(fs=class{static register(...e){Li.add(...e),tR()}static unregister(...e){Li.remove(...e),tR()}constructor(e,n){const i=this.config=new ZY(n),r=TI(e),a=eR(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||SY(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),f=u&&u.canvas,d=f&&f.height,p=f&&f.width;if(this.id=fW(),this.ctx=u,this.canvas=f,this.width=p,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qY,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=NW(m=>this.update(m),l.resizeDelay||0),this._dataChanges=[],eh[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}_r.listen(this,"complete",JA),_r.listen(this,"progress",iG),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:a}=this;return lt(e)?n&&a?a:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Li}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():CA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return SA(this.canvas,this.ctx),this}stop(){return _r.stop(this),this}resize(e,n){_r.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,n,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,CA(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),ht(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ke(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const u=n[l],f=o1(l,u),d=f==="r",p=f==="x";return{options:u,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),Ke(a,l=>{const u=l.options,f=u.id,d=o1(f,u),p=ze(u.type,l.dtype);(u.position===void 0||QA(u.position,d)!==QA(l.dposition))&&(u.position=l.dposition),r[f]=!0;let m=null;if(f in i&&i[f].type===p)m=i[f];else{const y=Li.getScale(p);m=new y({id:f,type:p,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(u,e)}),Ke(r,(l,u)=>{l||delete i[u]}),Ke(i,l=>{Zn.configure(this,l,l.options),Zn.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,a)=>r.index-a.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(ZA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const a=n[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||a1(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=Li.getController(u),{datasetElementType:d,dataElementType:p}=Tt.datasets[u];Object.assign(f,{dataElementType:Li.getElement(p),datasetElementType:d&&Li.getElement(d)}),l.controller=new f(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Ke(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:m}=this.getDatasetMeta(d),y=!r&&a.indexOf(m)===-1;m.buildOrUpdateElements(y),l=Math.max(+m.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||Ke(a,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ZA("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Ke(this.scales,e=>{Zn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!hA(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:a}of n){const l=i==="_removeElements"?-a:a;rG(e,r,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let a=1;a<n;a++)if(!hA(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Zn.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ke(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ns(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(_r.has(this)?this.attached&&!_r.running(this)&&_r.start(this):(this.draw(),JA({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,a;for(r=0,a=n.length;r<a;++r){const l=n[r];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=hI(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Tg(n,r),e.controller.draw(),r&&Eg(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Tu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const a=nY.modes[n];return typeof a=="function"?a(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(a=>a&&a._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ja(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,r);Dh(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),_r.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),SA(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete eh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(a,l)=>{n.addEventListener(this,a,l),e[a]=l},r=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Ke(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(f,d)=>{n.addEventListener(this,f,d),e[f]=d},r=(f,d)=>{e[f]&&(n.removeEventListener(this,f,d),delete e[f])},a=(f,d)=>{this.canvas&&this.resize(f,d)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():l()}unbindEvents(){Ke(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ke(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let a,l,u,f;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),u=0,f=e.length;u<f;++u){l=e[u];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!Oh(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,a=(f,d)=>f.filter(p=>!d.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),l=a(n,e),u=i?e:a(e,n);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const a=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:a}=this,l=n,u=this._getActiveElements(e,r,i,l),f=_W(e),d=sG(e,this._lastEvent,i,f);i&&(this._lastEvent=null,ht(a.onHover,[e,u,this],this),f&&ht(a.onClick,[e,u,this],this));const p=!Oh(u,r);return(p||n)&&(this._active=u,this._updateHoverStyles(u,r,n)),this._lastEvent=d,p}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,r)}},Ae(fs,"defaults",Tt),Ae(fs,"instances",eh),Ae(fs,"overrides",Ra),Ae(fs,"registry",Li),Ae(fs,"version",tG),Ae(fs,"getChart",eR),fs);function tR(){return Ke(Rg.instances,t=>t._plugins.invalidate())}function EI(t,e,n=e){t.lineCap=ze(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ze(n.borderDash,e.borderDash)),t.lineDashOffset=ze(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ze(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ze(n.borderWidth,e.borderWidth),t.strokeStyle=ze(n.borderColor,e.borderColor)}function aG(t,e,n){t.lineTo(n.x,n.y)}function oG(t){return t.stepped?$W:t.tension||t.cubicInterpolationMode==="monotone"?YW:aG}function CI(t,e,n={}){const i=t.length,{start:r=0,end:a=i-1}=n,{start:l,end:u}=e,f=Math.max(r,l),d=Math.min(a,u),p=r<l&&a<l||r>u&&a>u;return{count:i,start:f,loop:e.loop,ilen:d<f&&!p?i+d-f:d-f}}function lG(t,e,n,i){const{points:r,options:a}=e,{count:l,start:u,loop:f,ilen:d}=CI(r,n,i),p=oG(a);let{move:m=!0,reverse:y}=i||{},b,v,x;for(b=0;b<=d;++b)v=r[(u+(y?d-b:b))%l],!v.skip&&(m?(t.moveTo(v.x,v.y),m=!1):p(t,x,v,y,a.stepped),x=v);return f&&(v=r[(u+(y?d:0))%l],p(t,x,v,y,a.stepped)),!!f}function cG(t,e,n,i){const r=e.points,{count:a,start:l,ilen:u}=CI(r,n,i),{move:f=!0,reverse:d}=i||{};let p=0,m=0,y,b,v,x,w,E;const k=A=>(l+(d?u-A:A))%a,O=()=>{x!==w&&(t.lineTo(p,w),t.lineTo(p,x),t.lineTo(p,E))};for(f&&(b=r[k(0)],t.moveTo(b.x,b.y)),y=0;y<=u;++y){if(b=r[k(y)],b.skip)continue;const A=b.x,M=b.y,R=A|0;R===v?(M<x?x=M:M>w&&(w=M),p=(m*p+A)/++m):(O(),t.lineTo(A,M),v=R,m=0,x=w=M),E=M}O()}function l1(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?cG:lG}function uG(t){return t.stepped?C$:t.tension||t.cubicInterpolationMode==="monotone"?A$:ca}function fG(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),EI(t,e.options),t.stroke(r)}function dG(t,e,n,i){const{segments:r,options:a}=e,l=l1(e);for(const u of r)EI(t,a,u.style),t.beginPath(),l(t,e,u,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const hG=typeof Path2D=="function";function gG(t,e,n,i){hG&&!e.options.segment?fG(t,e,n,i):dG(t,e,n,i)}class ms extends Nr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;y$(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=I$(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],a=this.points,l=dI(this,{property:n,start:r,end:r});if(!l.length)return;const u=[],f=uG(i);let d,p;for(d=0,p=l.length;d<p;++d){const{start:m,end:y}=l[d],b=a[m],v=a[y];if(b===v){u.push(b);continue}const x=Math.abs((r-b[n])/(v[n]-b[n])),w=f(b,v,x,i.stepped);w[n]=e[n],u.push(w)}return u.length===1?u[0]:u}pathSegment(e,n,i){return l1(this)(e,this,n,i)}path(e,n,i){const r=this.segments,a=l1(this);let l=this._loop;n=n||0,i=i||this.points.length-n;for(const u of r)l&=a(e,this,u,{start:n,end:n+i-1});return!!l}draw(e,n,i,r){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),gG(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ae(ms,"id","line"),Ae(ms,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ae(ms,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ae(ms,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function nR(t,e,n,i){const r=t.options,{[n]:a}=t.getProps([n],i);return Math.abs(e-a)<r.radius+r.hitRadius}class th extends Nr{constructor(n){super();Ae(this,"parsed");Ae(this,"skip");Ae(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const a=this.options,{x:l,y:u}=this.getProps(["x","y"],r);return Math.pow(n-l,2)+Math.pow(i-u,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,i){return nR(this,n,"x",i)}inYRange(n,i){return nR(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!Tu(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,r1(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ae(th,"id","point"),Ae(th,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ae(th,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function pG(t,e,n){const i=t.segments,r=t.points,a=e.points,l=[];for(const u of i){let{start:f,end:d}=u;d=Gx(f,d,r);const p=c1(n,r[f],r[d],u.loop);if(!e.segments){l.push({source:u,target:p,start:r[f],end:r[d]});continue}const m=dI(e,p);for(const y of m){const b=c1(n,a[y.start],a[y.end],y.loop),v=fI(u,r,b);for(const x of v)l.push({source:x,target:y,start:{[n]:iR(p,b,"start",Math.max)},end:{[n]:iR(p,b,"end",Math.min)}})}}return l}function c1(t,e,n,i){if(i)return;let r=e[t],a=n[t];return t==="angle"&&(r=ji(r),a=ji(a)),{property:t,start:r,end:a}}function mG(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,a=[];return e.segments.forEach(({start:l,end:u})=>{u=Gx(l,u,r);const f=r[l],d=r[u];i!==null?(a.push({x:f.x,y:i}),a.push({x:d.x,y:i})):n!==null&&(a.push({x:n,y:f.y}),a.push({x:n,y:d.y}))}),a}function Gx(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function iR(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function AI(t,e){let n=[],i=!1;return Dt(t)?(i=!0,n=t):n=mG(t,e),n.length?new ms({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function rR(t){return t&&t.fill!==!1}function _G(t,e,n){let r=t[e].fill;const a=[e];let l;if(!n)return r;for(;r!==!1&&a.indexOf(r)===-1;){if(!sn(r))return r;if(l=t[r],!l)return!1;if(l.visible)return r;a.push(r),r=l.fill}return!1}function yG(t,e,n){const i=wG(t);if(qe(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return sn(r)&&Math.floor(r)===r?bG(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function bG(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function vG(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:qe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function xG(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:qe(t)?i=t.value:i=e.getBaseValue(),i}function wG(t){const e=t.options,n=e.fill;let i=ze(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function SG(t){const{scale:e,index:n,line:i}=t,r=[],a=i.segments,l=i.points,u=TG(e,n);u.push(AI({x:null,y:e.bottom},i));for(let f=0;f<a.length;f++){const d=a[f];for(let p=d.start;p<=d.end;p++)EG(r,l[p],u)}return new ms({points:r,options:{}})}function TG(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const a=i[r];if(a.index===e)break;a.hidden||n.unshift(a.dataset)}return n}function EG(t,e,n){const i=[];for(let r=0;r<n.length;r++){const a=n[r],{first:l,last:u,point:f}=CG(a,e,"x");if(!(!f||l&&u)){if(l)i.unshift(f);else if(t.push(f),!u)break}}t.push(...i)}function CG(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],a=t.segments,l=t.points;let u=!1,f=!1;for(let d=0;d<a.length;d++){const p=a[d],m=l[p.start][n],y=l[p.end][n];if(Po(r,m,y)){u=r===m,f=r===y;break}}return{first:u,last:f,point:i}}class RI{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:a,radius:l}=this;return n=n||{start:0,end:_i},e.arc(r,a,l,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,a=e.angle;return{x:n+Math.cos(a)*r,y:i+Math.sin(a)*r,angle:a}}}function AG(t){const{chart:e,fill:n,line:i}=t;if(sn(n))return RG(e,n);if(n==="stack")return SG(t);if(n==="shape")return!0;const r=MG(t);return r instanceof RI?r:AI(r,i)}function RG(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function MG(t){return(t.scale||{}).getPointPositionForValue?OG(t):kG(t)}function kG(t){const{scale:e={},fill:n}=t,i=vG(n,e);if(sn(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function OG(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,a=i.reverse?e.max:e.min,l=xG(n,e,a),u=[];if(i.grid.circular){const f=e.getPointPositionForValue(0,a);return new RI({x:f.x,y:f.y,radius:e.getDistanceFromCenterForValue(l)})}for(let f=0;f<r;++f)u.push(e.getPointPositionForValue(f,l));return u}function g_(t,e,n){const i=AG(e),{chart:r,index:a,line:l,scale:u,axis:f}=e,d=l.options,p=d.fill,m=d.backgroundColor,{above:y=m,below:b=m}=p||{},v=r.getDatasetMeta(a),x=hI(r,v);i&&l.points.length&&(Tg(t,n),NG(t,{line:l,target:i,above:y,below:b,area:n,scale:u,axis:f,clip:x}),Eg(t))}function NG(t,e){const{line:n,target:i,above:r,below:a,area:l,scale:u,clip:f}=e,d=n._loop?"angle":e.axis;t.save(),d==="x"&&a!==r&&(sR(t,i,l.top),aR(t,{line:n,target:i,color:r,scale:u,property:d,clip:f}),t.restore(),t.save(),sR(t,i,l.bottom)),aR(t,{line:n,target:i,color:a,scale:u,property:d,clip:f}),t.restore()}function sR(t,e,n){const{segments:i,points:r}=e;let a=!0,l=!1;t.beginPath();for(const u of i){const{start:f,end:d}=u,p=r[f],m=r[Gx(f,d,r)];a?(t.moveTo(p.x,p.y),a=!1):(t.lineTo(p.x,n),t.lineTo(p.x,p.y)),l=!!e.pathSegment(t,u,{move:l}),l?t.closePath():t.lineTo(m.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function aR(t,e){const{line:n,target:i,property:r,color:a,scale:l,clip:u}=e,f=pG(n,i,r);for(const{source:d,target:p,start:m,end:y}of f){const{style:{backgroundColor:b=a}={}}=d,v=i!==!0;t.save(),t.fillStyle=b,IG(t,l,u,v&&c1(r,m,y)),t.beginPath();const x=!!n.pathSegment(t,d);let w;if(v){x?t.closePath():oR(t,i,y,r);const E=!!i.pathSegment(t,p,{move:x,reverse:!0});w=x&&E,w||oR(t,i,m,r)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}function IG(t,e,n,i){const r=e.chart.chartArea,{property:a,start:l,end:u}=i||{};if(a==="x"||a==="y"){let f,d,p,m;a==="x"?(f=l,d=r.top,p=u,m=r.bottom):(f=r.left,d=l,p=r.right,m=u),t.beginPath(),n&&(f=Math.max(f,n.left),p=Math.min(p,n.right),d=Math.max(d,n.top),m=Math.min(m,n.bottom)),t.rect(f,d,p-f,m-d),t.clip()}}function oR(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var DG={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let a,l,u,f;for(l=0;l<i;++l)a=t.getDatasetMeta(l),u=a.dataset,f=null,u&&u.options&&u instanceof ms&&(f={visible:t.isDatasetVisible(l),index:l,fill:yG(u,l,i),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:u}),a.$filler=f,r.push(f);for(l=0;l<i;++l)f=r[l],!(!f||f.fill===!1)&&(f.fill=_G(r,l,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(a,u.axis),i&&u.fill&&g_(t.ctx,u,a))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;rR(a)&&g_(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!rR(i)||n.drawTime!=="beforeDatasetDraw"||g_(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const lR=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},PG=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class cR extends Nr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ht(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=nn(i.font),a=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=lR(i,a);let d,p;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(l,a,u,f)+10):(p=this.maxHeight,d=this._fitCols(l,r,u,f)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],p=r+u;let m=e;a.textAlign="left",a.textBaseline="middle";let y=-1,b=-p;return this.legendItems.forEach((v,x)=>{const w=i+n/2+a.measureText(v.text).width;(x===0||d[d.length-1]+w+2*u>l)&&(m+=p,d[d.length-(x>0?0:1)]=0,b+=p,y++),f[x]={left:0,top:b,row:y,width:w,height:r},d[d.length-1]+=w+u}),m}_fitCols(e,n,i,r){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],p=l-e;let m=u,y=0,b=0,v=0,x=0;return this.legendItems.forEach((w,E)=>{const{itemWidth:k,itemHeight:O}=LG(i,n,a,w,r);E>0&&b+O+2*u>p&&(m+=y+u,d.push({width:y,height:b}),v+=y+u,x++,y=b=0),f[E]={left:v,top:b,col:x,width:k,height:O},y=Math.max(y,k),b+=O+u}),m+=y,d.push({width:y,height:b}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:a}}=this,l=Ho(a,this.left,this.width);if(this.isHorizontal()){let u=0,f=Jt(i,this.left+r,this.right-this.lineWidths[u]);for(const d of n)u!==d.row&&(u=d.row,f=Jt(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+e+r,d.left=l.leftForLtr(l.x(f),d.width),f+=d.width+r}else{let u=0,f=Jt(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const d of n)d.col!==u&&(u=d.col,f=Jt(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),d.top=f,d.left+=this.left+r,d.left=l.leftForLtr(l.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Tg(e,this),this._draw(),Eg(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:a,labels:l}=e,u=Tt.color,f=Ho(e.rtl,this.left,this.width),d=nn(l.font),{padding:p}=l,m=d.size,y=m/2;let b;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:v,boxHeight:x,itemHeight:w}=lR(l,m),E=function(R,P,z){if(isNaN(v)||v<=0||isNaN(x)||x<0)return;r.save();const V=ze(z.lineWidth,1);if(r.fillStyle=ze(z.fillStyle,u),r.lineCap=ze(z.lineCap,"butt"),r.lineDashOffset=ze(z.lineDashOffset,0),r.lineJoin=ze(z.lineJoin,"miter"),r.lineWidth=V,r.strokeStyle=ze(z.strokeStyle,u),r.setLineDash(ze(z.lineDash,[])),l.usePointStyle){const $={radius:x*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:V},U=f.xPlus(R,v/2),Q=P+y;tI(r,$,U,Q,l.pointStyleWidth&&v)}else{const $=P+Math.max((m-x)/2,0),U=f.leftForLtr(R,v),Q=iu(z.borderRadius);r.beginPath(),Object.values(Q).some(J=>J!==0)?s1(r,{x:U,y:$,w:v,h:x,radius:Q}):r.rect(U,$,v,x),r.fill(),V!==0&&r.stroke()}r.restore()},k=function(R,P,z){Eu(r,z.text,R,P+w/2,d,{strikethrough:z.hidden,textAlign:f.textAlign(z.textAlign)})},O=this.isHorizontal(),A=this._computeTitleHeight();O?b={x:Jt(a,this.left+p,this.right-i[0]),y:this.top+p+A,line:0}:b={x:this.left+p,y:Jt(a,this.top+A+p,this.bottom-n[0].height),line:0},lI(this.ctx,e.textDirection);const M=w+p;this.legendItems.forEach((R,P)=>{r.strokeStyle=R.fontColor,r.fillStyle=R.fontColor;const z=r.measureText(R.text).width,V=f.textAlign(R.textAlign||(R.textAlign=l.textAlign)),$=v+y+z;let U=b.x,Q=b.y;f.setWidth(this.width),O?P>0&&U+$+p>this.right&&(Q=b.y+=M,b.line++,U=b.x=Jt(a,this.left+p,this.right-i[b.line])):P>0&&Q+M>this.bottom&&(U=b.x=U+n[b.line].width+p,b.line++,Q=b.y=Jt(a,this.top+A+p,this.bottom-n[b.line].height));const J=f.x(U);if(E(J,Q,R),U=IW(V,U+v+y,O?U+$:this.right,e.rtl),k(f.x(U),Q,R),O)b.x+=$+p;else if(typeof R.text!="string"){const re=d.lineHeight;b.y+=MI(R,re)+p}else b.y+=M}),cI(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=nn(n.font),r=ni(n.padding);if(!n.display)return;const a=Ho(e.rtl,this.left,this.width),l=this.ctx,u=n.position,f=i.size/2,d=r.top+f;let p,m=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),p=this.top+d,m=Jt(e.align,m,this.right-y);else{const v=this.columnSizes.reduce((x,w)=>Math.max(x,w.height),0);p=d+Jt(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const b=Jt(u,m,m+y);l.textAlign=a.textAlign(Hx(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,Eu(l,n.text,b,p,i)}_computeTitleHeight(){const e=this.options.title,n=nn(e.font),i=ni(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,a;if(Po(e,this.left,this.right)&&Po(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(r=a[i],Po(e,r.left,r.left+r.width)&&Po(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!UG(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,a=PG(r,i);r&&!a&&ht(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!a&&ht(n.onHover,[e,i,this],this)}else i&&ht(n.onClick,[e,i,this],this)}}function LG(t,e,n,i,r){const a=jG(i,t,e,n),l=zG(r,i,e.lineHeight);return{itemWidth:a,itemHeight:l}}function jG(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((a,l)=>a.length>l.length?a:l)),e+n.size/2+i.measureText(r).width}function zG(t,e,n){let i=t;return typeof e.text!="string"&&(i=MI(e,n)),i}function MI(t,e){const n=t.text?t.text.length:0;return e*n}function UG(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var HG={id:"legend",_element:cR,start(t,e,n){const i=t.legend=new cR({ctx:t.ctx,options:n,chart:t});Zn.configure(t,i,n),Zn.addBox(t,i)},stop(t){Zn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Zn.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:a,useBorderRadius:l,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(n?0:void 0),p=ni(d.borderWidth);return{text:e[f.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:l&&(u||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class kI extends Nr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Dt(i.text)?i.text.length:1;this._padding=ni(i.padding);const a=r*nn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:a,options:l}=this,u=l.align;let f=0,d,p,m;return this.isHorizontal()?(p=Jt(u,i,a),m=n+e,d=a-i):(l.position==="left"?(p=i+e,m=Jt(u,r,n),f=Bt*-.5):(p=a-e,m=Jt(u,n,r),f=Bt*.5),d=r-n),{titleX:p,titleY:m,maxWidth:d,rotation:f}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=nn(n.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:d}=this._drawArgs(a);Eu(e,n.text,0,0,i,{color:n.color,maxWidth:f,rotation:d,textAlign:Hx(n.align),textBaseline:"middle",translation:[l,u]})}}function qG(t,e){const n=new kI({ctx:t.ctx,options:e,chart:t});Zn.configure(t,n,e),Zn.addBox(t,n),t.titleBlock=n}var BG={id:"title",_element:kI,start(t,e,n){qG(t,n)},stop(t){const e=t.titleBlock;Zn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Zn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qc={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,a=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),r+=f.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:r/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=t.length;a<l;++a){const f=t[a].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),p=n1(e,d);p<r&&(r=p,u=f)}}if(u){const f=u.tooltipPosition();n=f.x,i=f.y}return{x:n,y:i}}};function Pi(t,e){return e&&(Dt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function yr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function FG(t,e){const{element:n,datasetIndex:i,index:r}=e,a=t.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(r);return{chart:t,label:l,parsed:a.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:u,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function uR(t,e){const n=t.chart.ctx,{body:i,footer:r,title:a}=t,{boxWidth:l,boxHeight:u}=e,f=nn(e.bodyFont),d=nn(e.titleFont),p=nn(e.footerFont),m=a.length,y=r.length,b=i.length,v=ni(e.padding);let x=v.height,w=0,E=i.reduce((A,M)=>A+M.before.length+M.lines.length+M.after.length,0);if(E+=t.beforeBody.length+t.afterBody.length,m&&(x+=m*d.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),E){const A=e.displayColors?Math.max(u,f.lineHeight):f.lineHeight;x+=b*A+(E-b)*f.lineHeight+(E-1)*e.bodySpacing}y&&(x+=e.footerMarginTop+y*p.lineHeight+(y-1)*e.footerSpacing);let k=0;const O=function(A){w=Math.max(w,n.measureText(A).width+k)};return n.save(),n.font=d.string,Ke(t.title,O),n.font=f.string,Ke(t.beforeBody.concat(t.afterBody),O),k=e.displayColors?l+2+e.boxPadding:0,Ke(i,A=>{Ke(A.before,O),Ke(A.lines,O),Ke(A.after,O)}),k=0,n.font=p.string,Ke(t.footer,O),n.restore(),w+=v.width,{width:w,height:x}}function VG(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function WG(t,e,n,i){const{x:r,width:a}=i,l=n.caretSize+n.caretPadding;if(t==="left"&&r+a+l>e.width||t==="right"&&r-a-l<0)return!0}function $G(t,e,n,i){const{x:r,width:a}=n,{width:l,chartArea:{left:u,right:f}}=t;let d="center";return i==="center"?d=r<=(u+f)/2?"left":"right":r<=a/2?d="left":r>=l-a/2&&(d="right"),WG(d,t,e,n)&&(d="center"),d}function fR(t,e,n){const i=n.yAlign||e.yAlign||VG(t,n);return{xAlign:n.xAlign||e.xAlign||$G(t,e,n,i),yAlign:i}}function YG(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function GG(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function dR(t,e,n,i){const{caretSize:r,caretPadding:a,cornerRadius:l}=t,{xAlign:u,yAlign:f}=n,d=r+a,{topLeft:p,topRight:m,bottomLeft:y,bottomRight:b}=iu(l);let v=YG(e,u);const x=GG(e,f,d);return f==="center"?u==="left"?v+=d:u==="right"&&(v-=d):u==="left"?v-=Math.max(p,y)+r:u==="right"&&(v+=Math.max(m,b)+r),{x:Qn(v,0,i.width-e.width),y:Qn(x,0,i.height-e.height)}}function Ld(t,e,n){const i=ni(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function hR(t){return Pi([],yr(t))}function KG(t,e,n){return ja(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function gR(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const OI={beforeTitle:mr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:mr,beforeBody:mr,beforeLabel:mr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return lt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:mr,afterBody:mr,beforeFooter:mr,footer:mr,afterFooter:mr};function _n(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?OI[e].call(n,i):r}class u1 extends Nr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,a=new gI(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=KG(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=_n(i,"beforeTitle",this,e),a=_n(i,"title",this,e),l=_n(i,"afterTitle",this,e);let u=[];return u=Pi(u,yr(r)),u=Pi(u,yr(a)),u=Pi(u,yr(l)),u}getBeforeBody(e,n){return hR(_n(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return Ke(e,a=>{const l={before:[],lines:[],after:[]},u=gR(i,a);Pi(l.before,yr(_n(u,"beforeLabel",this,a))),Pi(l.lines,_n(u,"label",this,a)),Pi(l.after,yr(_n(u,"afterLabel",this,a))),r.push(l)}),r}getAfterBody(e,n){return hR(_n(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=_n(i,"beforeFooter",this,e),a=_n(i,"footer",this,e),l=_n(i,"afterFooter",this,e);let u=[];return u=Pi(u,yr(r)),u=Pi(u,yr(a)),u=Pi(u,yr(l)),u}_createItems(e){const n=this._active,i=this.chart.data,r=[],a=[],l=[];let u=[],f,d;for(f=0,d=n.length;f<d;++f)u.push(FG(this.chart,n[f]));return e.filter&&(u=u.filter((p,m,y)=>e.filter(p,m,y,i))),e.itemSort&&(u=u.sort((p,m)=>e.itemSort(p,m,i))),Ke(u,p=>{const m=gR(e.callbacks,p);r.push(_n(m,"labelColor",this,p)),a.push(_n(m,"labelPointStyle",this,p)),l.push(_n(m,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let a,l=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const u=qc[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=uR(this,i),d=Object.assign({},u,f),p=fR(this.chart,i,d),m=dR(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:m.x,y:m.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const a=this.getCaretPosition(e,i,r);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:f,topRight:d,bottomLeft:p,bottomRight:m}=iu(u),{x:y,y:b}=e,{width:v,height:x}=n;let w,E,k,O,A,M;return a==="center"?(A=b+x/2,r==="left"?(w=y,E=w-l,O=A+l,M=A-l):(w=y+v,E=w+l,O=A-l,M=A+l),k=w):(r==="left"?E=y+Math.max(f,p)+l:r==="right"?E=y+v-Math.max(d,m)-l:E=this.caretX,a==="top"?(O=b,A=O-l,w=E-l,k=E+l):(O=b+x,A=O+l,w=E+l,k=E-l),M=O),{x1:w,x2:E,x3:k,y1:O,y2:A,y3:M}}drawTitle(e,n,i){const r=this.title,a=r.length;let l,u,f;if(a){const d=Ho(i.rtl,this.x,this.width);for(e.x=Ld(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",l=nn(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,f=0;f<a;++f)n.fillText(r[f],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,f+1===a&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,n,i,r,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=a,p=nn(a.bodyFont),m=Ld(this,"left",a),y=r.x(m),b=f<p.lineHeight?(p.lineHeight-f)/2:0,v=n.y+b;if(a.usePointStyle){const x={radius:Math.min(d,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},w=r.leftForLtr(y,d)+d/2,E=v+f/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,r1(e,x,w,E),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,r1(e,x,w,E)}else{e.lineWidth=qe(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const x=r.leftForLtr(y,d),w=r.leftForLtr(r.xPlus(y,1),d-2),E=iu(l.borderRadius);Object.values(E).some(k=>k!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,s1(e,{x,y:v,w:d,h:f,radius:E}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),s1(e,{x:w,y:v+1,w:d-2,h:f-2,radius:E}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(x,v,d,f),e.strokeRect(x,v,d,f),e.fillStyle=l.backgroundColor,e.fillRect(w,v+1,d-2,f-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:d,boxPadding:p}=i,m=nn(i.bodyFont);let y=m.lineHeight,b=0;const v=Ho(i.rtl,this.x,this.width),x=function(z){n.fillText(z,v.x(e.x+b),e.y+y/2),e.y+=y+a},w=v.textAlign(l);let E,k,O,A,M,R,P;for(n.textAlign=l,n.textBaseline="middle",n.font=m.string,e.x=Ld(this,w,i),n.fillStyle=i.bodyColor,Ke(this.beforeBody,x),b=u&&w!=="right"?l==="center"?d/2+p:d+2+p:0,A=0,R=r.length;A<R;++A){for(E=r[A],k=this.labelTextColors[A],n.fillStyle=k,Ke(E.before,x),O=E.lines,u&&O.length&&(this._drawColorBox(n,e,A,v,i),y=Math.max(m.lineHeight,f)),M=0,P=O.length;M<P;++M)x(O[M]),y=m.lineHeight;Ke(E.after,x)}b=0,y=m.lineHeight,Ke(this.afterBody,x),e.y-=a}drawFooter(e,n,i){const r=this.footer,a=r.length;let l,u;if(a){const f=Ho(i.rtl,this.x,this.width);for(e.x=Ld(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=f.textAlign(i.footerAlign),n.textBaseline="middle",l=nn(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,u=0;u<a;++u)n.fillText(r[u],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:a,yAlign:l}=this,{x:u,y:f}=e,{width:d,height:p}=i,{topLeft:m,topRight:y,bottomLeft:b,bottomRight:v}=iu(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(u+m,f),l==="top"&&this.drawCaret(e,n,i,r),n.lineTo(u+d-y,f),n.quadraticCurveTo(u+d,f,u+d,f+y),l==="center"&&a==="right"&&this.drawCaret(e,n,i,r),n.lineTo(u+d,f+p-v),n.quadraticCurveTo(u+d,f+p,u+d-v,f+p),l==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(u+b,f+p),n.quadraticCurveTo(u,f+p,u,f+p-b),l==="center"&&a==="left"&&this.drawCaret(e,n,i,r),n.lineTo(u,f+m),n.quadraticCurveTo(u,f,u+m,f),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,a=i&&i.y;if(r||a){const l=qc[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=uR(this,e),f=Object.assign({},l,this._size),d=fR(n,e,f),p=dR(e,f,d,n);(r._to!==p.x||a._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=ni(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,r,n),lI(e,n.textDirection),a.y+=l.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),cI(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:u,index:f})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[f],index:f}}),a=!Oh(i,r),l=this._positionChanged(r,n);(a||l)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],l=this._getActiveElements(e,a,n,i),u=this._positionChanged(l,e),f=n||!Oh(l,a)||u;return f&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),f}_getActiveElements(e,n,i,r){const a=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:i,caretY:r,options:a}=this,l=qc[a.position].call(this,e,n);return l!==!1&&(i!==l.x||r!==l.y)}}Ae(u1,"positioners",qc);var XG={id:"tooltip",_element:u1,positioners:qc,afterInit(t,e,n){n&&(t.tooltip=new u1({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:OI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const QG=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function ZG(t,e,n,i){const r=t.indexOf(e);if(r===-1)return QG(t,e,n,i);const a=t.lastIndexOf(e);return r!==a?n:r}const JG=(t,e)=>t===null?null:Qn(Math.round(t),0,e);function pR(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class f1 extends gl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:a}of n)i[r]===a&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(lt(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:ZG(i,e,ze(n,e),this._addedLabels),JG(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=n;l++)r.push({value:l});return r}getLabelForValue(e){return pR.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ae(f1,"id","category"),Ae(f1,"defaults",{ticks:{callback:pR}});function eK(t,e){const n=[],{bounds:r,step:a,min:l,max:u,precision:f,count:d,maxTicks:p,maxDigits:m,includeBounds:y}=t,b=a||1,v=p-1,{min:x,max:w}=e,E=!lt(l),k=!lt(u),O=!lt(d),A=(w-x)/(m+1);let M=pA((w-x)/v/b)*b,R,P,z,V;if(M<1e-14&&!E&&!k)return[{value:x},{value:w}];V=Math.ceil(w/M)-Math.floor(x/M),V>v&&(M=pA(V*M/v/b)*b),lt(f)||(R=Math.pow(10,f),M=Math.ceil(M*R)/R),r==="ticks"?(P=Math.floor(x/M)*M,z=Math.ceil(w/M)*M):(P=x,z=w),E&&k&&a&&wW((u-l)/a,M/1e3)?(V=Math.round(Math.min((u-l)/M,p)),M=(u-l)/V,P=l,z=u):O?(P=E?l:P,z=k?u:z,V=d-1,M=(z-P)/V):(V=(z-P)/M,eu(V,Math.round(V),M/1e3)?V=Math.round(V):V=Math.ceil(V));const $=Math.max(mA(M),mA(P));R=Math.pow(10,lt(f)?$:f),P=Math.round(P*R)/R,z=Math.round(z*R)/R;let U=0;for(E&&(y&&P!==l?(n.push({value:l}),P<l&&U++,eu(Math.round((P+U*M)*R)/R,l,mR(l,A,t))&&U++):P<l&&U++);U<V;++U){const Q=Math.round((P+U*M)*R)/R;if(k&&Q>u)break;n.push({value:Q})}return k&&y&&z!==u?n.length&&eu(n[n.length-1].value,u,mR(u,A,t))?n[n.length-1].value=u:n.push({value:u}):(!k||z===u)&&n.push({value:z}),n}function mR(t,e,{horizontal:n,minRotation:i}){const r=pa(i),a=(n?Math.sin(r):Math.cos(r))||.001,l=.75*e*(""+t).length;return Math.min(e/a,l)}class tK extends gl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return lt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:a}=this;const l=f=>r=n?r:f,u=f=>a=i?a:f;if(e){const f=Ko(r),d=Ko(a);f<0&&d<0?u(0):f>0&&d>0&&l(0)}if(r===a){let f=a===0?1:Math.abs(a*.05);u(a+f),e||l(r-f)}this.min=r,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=eK(r,a);return e.bounds==="ticks"&&SW(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return J6(e,this.chart.options.locale,this.options.ticks.format)}}class d1 extends tK{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=sn(e)?e:0,this.max=sn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=pa(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ae(d1,"id","linear"),Ae(d1,"defaults",{ticks:{callback:eI.formatters.numeric}});const Mg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bn=Object.keys(Mg);function _R(t,e){return t-e}function yR(t,e){if(lt(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:a}=t._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),sn(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(r&&(l=r==="week"&&(Su(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,r)),+l)}function bR(t,e,n,i){const r=bn.length;for(let a=bn.indexOf(t);a<r-1;++a){const l=Mg[bn[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(u*l.size))<=i)return bn[a]}return bn[r-1]}function nK(t,e,n,i,r){for(let a=bn.length-1;a>=bn.indexOf(n);a--){const l=bn[a];if(Mg[l].common&&t._adapter.diff(r,i,l)>=e-1)return l}return bn[n?bn.indexOf(n):0]}function iK(t){for(let e=bn.indexOf(t)+1,n=bn.length;e<n;++e)if(Mg[bn[e]].common)return bn[e]}function vR(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=Ux(n,e),a=n[i]>=e?n[i]:n[r];t[a]=!0}}function rK(t,e,n,i){const r=t._adapter,a=+r.startOf(e[0].value,i),l=e[e.length-1].value;let u,f;for(u=a;u<=l;u=+r.add(u,1,i))f=n[u],f>=0&&(e[f].major=!0);return e}function xR(t,e,n){const i=[],r={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],r[u]=l,i.push({value:u,major:!1});return a===0||!n?i:rK(t,i,r,n)}class zh extends gl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new Q$._date(e.adapters.date);r.init(n),Jc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:yR(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function f(d){!l&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!l||!u)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=sn(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),a=sn(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,l=this.max,u=MW(r,a,l);return this._unit=n.unit||(i.autoSkip?bR(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):nK(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:iK(this._unit),this.initOffsets(r),e.reverse&&u.reverse(),xR(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,a;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=Qn(n,0,l),i=Qn(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,a=r.time,l=a.unit||bR(a.minUnit,n,i,this._getLabelCapacity(n)),u=ze(r.ticks.stepSize,1),f=l==="week"?a.isoWeekday:!1,d=Su(f)||f===!0,p={};let m=n,y,b;if(d&&(m=+e.startOf(m,"isoWeek",f)),m=+e.startOf(m,d?"day":l),e.diff(i,n,l)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+l);const v=r.ticks.source==="data"&&this.getDataTimestamps();for(y=m,b=0;y<i;y=+e.add(y,u,l),b++)vR(p,y,v);return(y===i||r.bounds==="ticks"||b===1)&&vR(p,y,v),Object.keys(p).sort(_R).map(x=>+x)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,a=this._unit,l=n||r[a];return this._adapter.format(e,l)}_tickFormatFunction(e,n,i,r){const a=this.options,l=a.ticks.callback;if(l)return ht(l,[e,n,i],this);const u=a.time.displayFormats,f=this._unit,d=this._majorUnit,p=f&&u[f],m=d&&u[d],y=i[n],b=d&&m&&y&&y.major;return this._adapter.format(e,r||(b?m:p))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=pa(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,a=this._tickFormatFunction(e,0,xR(this,[e],this._majorUnit),r),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(yR(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return OW(e.sort(_R))}}Ae(zh,"id","time"),Ae(zh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function jd(t,e,n){let i=0,r=t.length-1,a,l,u,f;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=ma(t,"pos",e)),{pos:a,time:u}=t[i],{pos:l,time:f}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=ma(t,"time",e)),{time:a,pos:u}=t[i],{time:l,pos:f}=t[r]);const d=l-a;return d?u+(f-u)*(e-a)/d:u}class wR extends zh{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=jd(n,this.min),this._tableRange=jd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],a=[];let l,u,f,d,p;for(l=0,u=e.length;l<u;++l)d=e[l],d>=n&&d<=i&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)p=r[l+1],f=r[l-1],d=r[l],Math.round((p+f)/2)!==d&&a.push({time:d,pos:l/(u-1)});return a}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,a)=>r-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(jd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return jd(this._table,i*this._tableRange+this._minPos,!0)}}Ae(wR,"id","timeseries"),Ae(wR,"defaults",zh.defaults);const NI="label";function SR(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function sK(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function II(t,e){t.labels=e}function DI(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NI;const i=[];t.datasets=e.map(r=>{const a=t.datasets.find(l=>l[n]===r[n]);return!a||!r.data||i.includes(a)?{...r}:(i.push(a),Object.assign(a,r),a)})}function aK(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NI;const n={labels:[],datasets:[]};return II(n,t.labels),DI(n,t.datasets,e),n}function oK(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:a,type:l,data:u,options:f,plugins:d=[],fallbackContent:p,updateMode:m,...y}=t,b=N.useRef(null),v=N.useRef(null),x=()=>{b.current&&(v.current=new Rg(b.current,{type:l,data:aK(u,a),options:f&&{...f},plugins:d}),SR(e,v.current))},w=()=>{SR(e,null),v.current&&(v.current.destroy(),v.current=null)};return N.useEffect(()=>{!r&&v.current&&f&&sK(v.current,f)},[r,f]),N.useEffect(()=>{!r&&v.current&&II(v.current.config.data,u.labels)},[r,u.labels]),N.useEffect(()=>{!r&&v.current&&u.datasets&&DI(v.current.config.data,u.datasets,a)},[r,u.datasets]),N.useEffect(()=>{v.current&&(r?(w(),setTimeout(x)):v.current.update(m))},[r,f,u.labels,u.datasets,m]),N.useEffect(()=>{v.current&&(w(),setTimeout(x))},[l]),N.useEffect(()=>(x(),()=>w()),[]),C1.createElement("canvas",{ref:b,role:"img",height:n,width:i,...y},p)}const lK=N.forwardRef(oK);function cK(t,e){return Rg.register(e),N.forwardRef((n,i)=>C1.createElement(lK,{...n,ref:i,type:t}))}const uK=cK("line",Zd);Rg.register(f1,d1,ms,th,BG,XG,HG,DG);const fK=({data:t})=>{const[e,n]=N.useState("week"),[i,r]=N.useState("all"),a=()=>{if(e==="all")return t;const A=new Date,M=e==="week"?7:30,R=new Date(A.setDate(A.getDate()-M));return t.filter(P=>new Date(P.date)>R)},l=A=>{if(!A.length)return null;const M=A.map(z=>z.moodScore),R=A.map(z=>z.stressLevel),P=A.map(z=>z.energyLevel);return{mood:{average:(M.reduce((z,V)=>z+V,0)/M.length).toFixed(1),highest:Math.max(...M),lowest:Math.min(...M),trend:M[M.length-1]-M[0]},stress:{average:(R.reduce((z,V)=>z+V,0)/R.length).toFixed(1),highest:Math.max(...R),lowest:Math.min(...R),trend:R[R.length-1]-R[0]},energy:{average:(P.reduce((z,V)=>z+V,0)/P.length).toFixed(1),highest:Math.max(...P),lowest:Math.min(...P),trend:P[P.length-1]-P[0]}}},u=()=>{const A={};return p.forEach(M=>{var R;(R=M.activities)==null||R.forEach(P=>{A[P]||(A[P]={total:0,count:0}),A[P].total+=M.moodScore,A[P].count+=1})}),Object.entries(A).map(([M,R])=>({activity:M,average:R.total/R.count,count:R.count})).sort((M,R)=>R.average-M.average)},f=()=>{const A={};return p.forEach(M=>{M.weather&&(A[M.weather]||(A[M.weather]={total:0,count:0}),A[M.weather].total+=M.moodScore,A[M.weather].count+=1)}),Object.entries(A).map(([M,R])=>({weather:M,average:R.total/R.count,count:R.count})).sort((M,R)=>R.average-M.average)},d=(A,M)=>{const R=A.length;if(R<2)return null;const P=Array.from({length:R},(ee,L)=>L),z=A.map(ee=>ee[M]),V=P.reduce((ee,L)=>ee+L,0),$=z.reduce((ee,L)=>ee+L,0),U=P.reduce((ee,L,Y)=>ee+L*z[Y],0),Q=P.reduce((ee,L)=>ee+L*L,0),J=(R*U-V*$)/(R*Q-V*V),re=($-J*V)/R;return P.map(ee=>J*ee+re)},p=a(),m=l(p),y=u(),b=f(),v=d(p,"moodScore"),x=d(p,"stressLevel"),w=d(p,"energyLevel"),E={labels:p.map(A=>new Date(A.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Mood Score",data:p.map(A=>A.moodScore),borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",fill:!0,tension:.4,pointRadius:6,pointHoverRadius:8,pointBackgroundColor:"rgb(99, 102, 241)",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBackgroundColor:"rgb(79, 70, 229)",pointHoverBorderColor:"#fff",pointHoverBorderWidth:3,hidden:i!=="all"&&i!=="mood"},{label:"Mood Trend",data:v,borderColor:"rgb(99, 102, 241)",borderDash:[5,5],borderWidth:2,pointRadius:0,fill:!1,tension:0,hidden:i!=="all"&&i!=="mood"},{label:"Stress Level",data:p.map(A=>A.stressLevel),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"rgb(239, 68, 68)",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBackgroundColor:"rgb(220, 38, 38)",pointHoverBorderColor:"#fff",pointHoverBorderWidth:3,hidden:i!=="all"&&i!=="stress"},{label:"Stress Trend",data:x,borderColor:"rgb(239, 68, 68)",borderDash:[5,5],borderWidth:2,pointRadius:0,fill:!1,tension:0,hidden:i!=="all"&&i!=="stress"},{label:"Energy Level",data:p.map(A=>A.energyLevel),borderColor:"rgb(245, 158, 11)",backgroundColor:"rgba(245, 158, 11, 0.1)",fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"rgb(245, 158, 11)",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBackgroundColor:"rgb(217, 119, 6)",pointHoverBorderColor:"#fff",pointHoverBorderWidth:3,hidden:i!=="all"&&i!=="energy"},{label:"Energy Trend",data:w,borderColor:"rgb(245, 158, 11)",borderDash:[5,5],borderWidth:2,pointRadius:0,fill:!1,tension:0,hidden:i!=="all"&&i!=="energy"}].filter(A=>A.data)},k={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:16,filter:function(A,M){return!A.text.includes("Trend")},font:{size:window.innerWidth<640?10:12},color:(document.body.classList.contains("dark-mode"),"#fff")}},tooltip:{backgroundColor:document.body.classList.contains("dark-mode")?"rgba(31, 41, 55, 0.9)":"rgba(255, 255, 255, 0.9)",titleColor:document.body.classList.contains("dark-mode")?"#fff":"#1f2937",bodyColor:document.body.classList.contains("dark-mode")?"#e5e7eb":"#4b5563",borderColor:document.body.classList.contains("dark-mode")?"#374151":"#e5e7eb",borderWidth:1,padding:window.innerWidth<640?8:12,cornerRadius:8,titleFont:{size:window.innerWidth<640?12:14,weight:"bold"},bodyFont:{size:window.innerWidth<640?11:13},callbacks:{title:A=>`Date: ${A[0].label}`,afterBody:A=>{var z,V;const M=A[0].dataIndex,R=p[M],P=[];return R.sleepHours&&P.push(`Sleep: ${R.sleepHours} hours`),(z=R.activities)!=null&&z.length&&P.push(`Activities: ${R.activities.join(", ")}`),R.weather&&P.push(`Weather: ${R.weather}`),(V=R.physicalHealth)!=null&&V.length&&P.push(`Health: ${R.physicalHealth.join(", ")}`),R.notes&&P.push(`Notes: ${R.notes.substring(0,50)}${R.notes.length>50?"...":""}`),P}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:window.innerWidth<640?10:12},color:"#6b7280",maxRotation:45,minRotation:45}},y:{beginAtZero:!0,max:10,grid:{color:"rgba(107, 114, 128, 0.1)"},ticks:{stepSize:window.innerWidth<640?2:1,font:{size:window.innerWidth<640?10:12},color:"#6b7280"}}}},O=(A,M,R,P=null)=>T.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 shadow-sm",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("span",{className:"text-gray-400 text-sm",children:A}),R]}),T.jsxs("div",{className:"mt-2 flex items-baseline",children:[T.jsx("span",{className:"text-xl font-semibold text-white",children:M}),P!==null&&T.jsxs("span",{className:`ml-2 text-sm ${P>=0?"text-green-500":"text-red-500"}`,children:[P>=0?"↑":"↓"," ",Math.abs(P).toFixed(1)]})]})]});return T.jsxs("div",{children:[T.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 mb-4",children:[T.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-500",children:"Mood & Stress Trends"}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>n("week"),className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm ${e==="week"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"Week"}),T.jsx("button",{onClick:()=>n("month"),className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm ${e==="month"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"Month"}),T.jsx("button",{onClick:()=>n("all"),className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm ${e==="all"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"All Time"})]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>r("all"),className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm ${i==="all"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"All Metrics"}),T.jsx("button",{onClick:()=>r("mood"),className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm ${i==="mood"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"Mood"}),T.jsx("button",{onClick:()=>r("stress"),className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm ${i==="stress"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"Stress"}),T.jsx("button",{onClick:()=>r("energy"),className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm ${i==="energy"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"Energy"})]})]}),T.jsxs("div",{className:"h-[180px] sm:h-[220px] mb-4 relative",children:[T.jsx(uK,{data:E,options:k,className:"filter drop-shadow-lg",canvas:{willReadFrequently:!0,style:{backgroundColor:document.body.classList.contains("dark-mode")?"#1f2937":"#ffffff"}}}),p.length===0&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50 bg-opacity-90 rounded-lg",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-3xl sm:text-4xl mb-2",children:"📊"}),T.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"No mood data recorded yet"}),T.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"Start tracking to see your mood journey"})]})})]}),m&&T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4",children:[O("Average Mood",m.mood.average,"😊",m.mood.trend),O("Average Stress",m.stress.average,"😟",-m.stress.trend),O("Average Energy",m.energy.average,"⚡",m.energy.trend)]}),b.length>0&&T.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[T.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-200 mb-3",children:"Weather Impact on Mood"}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:b.map(({weather:A,average:M,count:R})=>T.jsxs("div",{className:"text-white bg-gray-700 p-3 rounded-xl",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("span",{className:"text-2xl",children:A==="sunny"?"☀️":A==="cloudy"?"☁️":A==="rainy"?"🌧️":A==="snowy"?"🌨️":A==="stormy"?"⛈️":"🌤️"}),T.jsxs("span",{className:"text-sm text-gray-500",children:[R," days"]})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("div",{className:"font-medium capitalize",children:A}),T.jsxs("div",{className:"text-sm text-gray-500",children:["Average mood: ",M.toFixed(1),"/10"]})]})]},A))})]}),y.length>0&&T.jsxs("div",{className:"pt-2",children:[T.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-200 mb-3",children:"Activity Impact on Mood"}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:y.map(({activity:A,average:M,count:R})=>T.jsxs("div",{className:"text-white bg-gray-700 p-3 rounded-xl flex items-center space-x-3",children:[T.jsx("div",{className:"text-xl sm:text-2xl",children:A==="exercise"?"🏃‍♂️":A==="meditation"?"🧘‍♂️":A==="socializing"?"👥":A==="hobby"?"🎨":A==="nature"?"🌳":A==="work"?"💼":A==="study"?"📚":"✨"}),T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex justify-between items-center mb-1",children:[T.jsx("span",{className:"font-medium capitalize text-sm sm:text-base",children:A}),T.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[R," times"]})]}),T.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 sm:h-2",children:T.jsx("div",{className:"bg-indigo-500 h-1.5 sm:h-2 rounded-full",style:{width:`${M/10*100}%`}})}),T.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["Average mood: ",M.toFixed(1),"/10"]})]})]},A))})]})]})};var Kx=nf(),Se=t=>tf(t,Kx),Xx=nf();Se.write=t=>tf(t,Xx);var kg=nf();Se.onStart=t=>tf(t,kg);var Qx=nf();Se.onFrame=t=>tf(t,Qx);var Zx=nf();Se.onFinish=t=>tf(t,Zx);var qo=[];Se.setTimeout=(t,e)=>{const n=Se.now()+e,i=()=>{const a=qo.findIndex(l=>l.cancel==i);~a&&qo.splice(a,1),ys-=~a?1:0},r={time:n,handler:t,cancel:i};return qo.splice(PI(n),0,r),ys+=1,LI(),r};var PI=t=>~(~qo.findIndex(e=>e.time>t)||~qo.length);Se.cancel=t=>{kg.delete(t),Qx.delete(t),Zx.delete(t),Kx.delete(t),Xx.delete(t)};Se.sync=t=>{h1=!0,Se.batchedUpdates(t),h1=!1};Se.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function i(...r){e=r,Se.onStart(n)}return i.handler=t,i.cancel=()=>{kg.delete(n),e=null},i};var Jx=typeof window<"u"?window.requestAnimationFrame:()=>{};Se.use=t=>Jx=t;Se.now=typeof performance<"u"?()=>performance.now():Date.now;Se.batchedUpdates=t=>t();Se.catch=console.error;Se.frameLoop="always";Se.advance=()=>{Se.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):zI()};var _s=-1,ys=0,h1=!1;function tf(t,e){h1?(e.delete(t),t(0)):(e.add(t),LI())}function LI(){_s<0&&(_s=0,Se.frameLoop!=="demand"&&Jx(jI))}function dK(){_s=-1}function jI(){~_s&&(Jx(jI),Se.batchedUpdates(zI))}function zI(){const t=_s;_s=Se.now();const e=PI(_s);if(e&&(UI(qo.splice(0,e),n=>n.handler()),ys-=e),!ys){dK();return}kg.flush(),Kx.flush(t?Math.min(64,_s-t):16.667),Qx.flush(),Xx.flush(),Zx.flush()}function nf(){let t=new Set,e=t;return{add(n){ys+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return ys-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,ys-=e.size,UI(e,i=>i(n)&&t.add(i)),ys+=t.size,e=t)}}}function UI(t,e){t.forEach(n=>{try{e(n)}catch(i){Se.catch(i)}})}var hK=Object.defineProperty,gK=(t,e)=>{for(var n in e)hK(t,n,{get:e[n],enumerable:!0})},vi={};gK(vi,{assign:()=>mK,colors:()=>Cs,createStringInterpolator:()=>tw,skipAnimation:()=>qI,to:()=>HI,willAdvance:()=>nw});function g1(){}var pK=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),ae={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function br(t,e){if(ae.arr(t)){if(!ae.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var Ue=(t,e)=>t.forEach(e);function Fi(t,e,n){if(ae.arr(t)){for(let i=0;i<t.length;i++)e.call(n,t[i],`${i}`);return}for(const i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i)}var In=t=>ae.und(t)?[]:ae.arr(t)?t:[t];function su(t,e){if(t.size){const n=Array.from(t);t.clear(),Ue(n,e)}}var Bc=(t,...e)=>su(t,n=>n(...e)),ew=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),tw,HI,Cs=null,qI=!1,nw=g1,mK=t=>{t.to&&(HI=t.to),t.now&&(Se.now=t.now),t.colors!==void 0&&(Cs=t.colors),t.skipAnimation!=null&&(qI=t.skipAnimation),t.createStringInterpolator&&(tw=t.createStringInterpolator),t.requestAnimationFrame&&Se.use(t.requestAnimationFrame),t.batchedUpdates&&(Se.batchedUpdates=t.batchedUpdates),t.willAdvance&&(nw=t.willAdvance),t.frameLoop&&(Se.frameLoop=t.frameLoop)},au=new Set,Xn=[],p_=[],Uh=0,Og={get idle(){return!au.size&&!Xn.length},start(t){Uh>t.priority?(au.add(t),Se.onStart(_K)):(BI(t),Se(p1))},advance:p1,sort(t){if(Uh)Se.onFrame(()=>Og.sort(t));else{const e=Xn.indexOf(t);~e&&(Xn.splice(e,1),FI(t))}},clear(){Xn=[],au.clear()}};function _K(){au.forEach(BI),au.clear(),Se(p1)}function BI(t){Xn.includes(t)||FI(t)}function FI(t){Xn.splice(yK(Xn,e=>e.priority>t.priority),0,t)}function p1(t){const e=p_;for(let n=0;n<Xn.length;n++){const i=Xn[n];Uh=i.priority,i.idle||(nw(i),i.advance(t),i.idle||e.push(i))}return Uh=0,p_=Xn,p_.length=0,Xn=e,Xn.length>0}function yK(t,e){const n=t.findIndex(e);return n<0?t.length:n}var bK={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},gi="[-+]?\\d*\\.?\\d+",Hh=gi+"%";function Ng(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var vK=new RegExp("rgb"+Ng(gi,gi,gi)),xK=new RegExp("rgba"+Ng(gi,gi,gi,gi)),wK=new RegExp("hsl"+Ng(gi,Hh,Hh)),SK=new RegExp("hsla"+Ng(gi,Hh,Hh,gi)),TK=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,EK=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,CK=/^#([0-9a-fA-F]{6})$/,AK=/^#([0-9a-fA-F]{8})$/;function RK(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=CK.exec(t))?parseInt(e[1]+"ff",16)>>>0:Cs&&Cs[t]!==void 0?Cs[t]:(e=vK.exec(t))?(Oo(e[1])<<24|Oo(e[2])<<16|Oo(e[3])<<8|255)>>>0:(e=xK.exec(t))?(Oo(e[1])<<24|Oo(e[2])<<16|Oo(e[3])<<8|CR(e[4]))>>>0:(e=TK.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=AK.exec(t))?parseInt(e[1],16)>>>0:(e=EK.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=wK.exec(t))?(TR(ER(e[1]),zd(e[2]),zd(e[3]))|255)>>>0:(e=SK.exec(t))?(TR(ER(e[1]),zd(e[2]),zd(e[3]))|CR(e[4]))>>>0:null}function m_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function TR(t,e,n){const i=n<.5?n*(1+e):n+e-n*e,r=2*n-i,a=m_(r,i,t+1/3),l=m_(r,i,t),u=m_(r,i,t-1/3);return Math.round(a*255)<<24|Math.round(l*255)<<16|Math.round(u*255)<<8}function Oo(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function ER(t){return(parseFloat(t)%360+360)%360/360}function CR(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function zd(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function AR(t){let e=RK(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,i=(e&16711680)>>>16,r=(e&65280)>>>8,a=(e&255)/255;return`rgba(${n}, ${i}, ${r}, ${a})`}var Au=(t,e,n)=>{if(ae.fun(t))return t;if(ae.arr(t))return Au({range:t,output:e,extrapolate:n});if(ae.str(t.output[0]))return tw(t);const i=t,r=i.output,a=i.range||[0,1],l=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",f=i.easing||(d=>d);return d=>{const p=kK(d,a);return MK(d,a[p],a[p+1],r[p],r[p+1],f,l,u,i.map)}};function MK(t,e,n,i,r,a,l,u,f){let d=f?f(t):t;if(d<e){if(l==="identity")return d;l==="clamp"&&(d=e)}if(d>n){if(u==="identity")return d;u==="clamp"&&(d=n)}return i===r?i:e===n?t<=e?i:r:(e===-1/0?d=-d:n===1/0?d=d-e:d=(d-e)/(n-e),d=a(d),i===-1/0?d=-d:r===1/0?d=d+i:d=d*(r-i)+i,d)}function kK(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var OK={linear:t=>t},Ru=Symbol.for("FluidValue.get"),Zo=Symbol.for("FluidValue.observers"),Kn=t=>!!(t&&t[Ru]),yn=t=>t&&t[Ru]?t[Ru]():t,RR=t=>t[Zo]||null;function NK(t,e){t.eventObserved?t.eventObserved(e):t(e)}function Mu(t,e){const n=t[Zo];n&&n.forEach(i=>{NK(i,e)})}var VI=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");IK(this,t)}},IK=(t,e)=>WI(t,Ru,e);function pl(t,e){if(t[Ru]){let n=t[Zo];n||WI(t,Zo,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function ku(t,e){const n=t[Zo];if(n&&n.has(e)){const i=n.size-1;i?n.delete(e):t[Zo]=null,t.observerRemoved&&t.observerRemoved(i,e)}}var WI=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),nh=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,DK=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,MR=new RegExp(`(${nh.source})(%|[a-z]+)`,"i"),PK=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Ig=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,$I=t=>{const[e,n]=LK(t);if(!e||ew())return t;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(n&&n.startsWith("--")){const r=window.getComputedStyle(document.documentElement).getPropertyValue(n);return r||t}else{if(n&&Ig.test(n))return $I(n);if(n)return n}return t},LK=t=>{const e=Ig.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]},__,jK=(t,e,n,i,r)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(i)}, ${r})`,YI=t=>{__||(__=Cs?new RegExp(`(${Object.keys(Cs).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(a=>yn(a).replace(Ig,$I).replace(DK,AR).replace(__,AR)),n=e.map(a=>a.match(nh).map(Number)),r=n[0].map((a,l)=>n.map(u=>{if(!(l in u))throw Error('The arity of each "output" value must be equal');return u[l]})).map(a=>Au({...t,output:a}));return a=>{var f;const l=!MR.test(e[0])&&((f=e.find(d=>MR.test(d)))==null?void 0:f.replace(nh,""));let u=0;return e[0].replace(nh,()=>`${r[u++](a)}${l||""}`).replace(PK,jK)}},iw="react-spring: ",GI=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${iw}once requires a function parameter`);return(...i)=>{n||(e(...i),n=!0)}},zK=GI(console.warn);function UK(){zK(`${iw}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var HK=GI(console.warn);function qK(){HK(`${iw}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Dg(t){return ae.str(t)&&(t[0]=="#"||/\d/.test(t)||!ew()&&Ig.test(t)||t in(Cs||{}))}var rw=ew()?N.useEffect:N.useLayoutEffect,BK=()=>{const t=N.useRef(!1);return rw(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function KI(){const t=N.useState()[1],e=BK();return()=>{e.current&&t(Math.random())}}function FK(t,e){const[n]=N.useState(()=>({inputs:e,result:t()})),i=N.useRef(),r=i.current;let a=r;return a?e&&a.inputs&&VK(e,a.inputs)||(a={inputs:e,result:t()}):a=n,N.useEffect(()=>{i.current=a,r==n&&(n.inputs=n.result=void 0)},[a]),a.result}function VK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var XI=t=>N.useEffect(t,WK),WK=[];function kR(t){const e=N.useRef();return N.useEffect(()=>{e.current=t}),e.current}var Ou=Symbol.for("Animated:node"),$K=t=>!!t&&t[Ou]===t,zi=t=>t&&t[Ou],sw=(t,e)=>pK(t,Ou,e),Pg=t=>t&&t[Ou]&&t[Ou].getPayload(),QI=class{constructor(){sw(this,this)}getPayload(){return this.payload||[]}},rf=class extends QI{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,ae.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new rf(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return ae.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,ae.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},Nu=class extends rf{constructor(t){super(0),this._string=null,this._toString=Au({output:[t,t]})}static create(t){return new Nu(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(ae.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Au({output:[this.getValue(),t]})),this._value=0,super.reset()}},qh={dependencies:null},Lg=class extends QI{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Fi(this.source,(n,i)=>{$K(n)?e[i]=n.getValue(t):Kn(n)?e[i]=yn(n):t||(e[i]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Ue(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Fi(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){qh.dependencies&&Kn(t)&&qh.dependencies.add(t);const e=Pg(t);e&&Ue(e,n=>this.add(n))}},ZI=class extends Lg{constructor(t){super(t)}static create(t){return new ZI(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,i)=>n.setValue(t[i])).some(Boolean):(super.setValue(t.map(YK)),!0)}};function YK(t){return(Dg(t)?Nu:rf).create(t)}function m1(t){const e=zi(t);return e?e.constructor:ae.arr(t)?ZI:Dg(t)?Nu:rf}var OR=(t,e)=>{const n=!ae.fun(t)||t.prototype&&t.prototype.isReactComponent;return N.forwardRef((i,r)=>{const a=N.useRef(null),l=n&&N.useCallback(v=>{a.current=XK(r,v)},[r]),[u,f]=KK(i,e),d=KI(),p=()=>{const v=a.current;if(n&&!v)return;(v?e.applyAnimatedValues(v,u.getValue(!0)):!1)===!1&&d()},m=new GK(p,f),y=N.useRef();rw(()=>(y.current=m,Ue(f,v=>pl(v,m)),()=>{y.current&&(Ue(y.current.deps,v=>ku(v,y.current)),Se.cancel(y.current.update))})),N.useEffect(p,[]),XI(()=>()=>{const v=y.current;Ue(v.deps,x=>ku(x,v))});const b=e.getComponentProps(u.getValue());return N.createElement(t,{...b,ref:l})})},GK=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Se.write(this.update)}};function KK(t,e){const n=new Set;return qh.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new Lg(t),qh.dependencies=null,[t,n]}function XK(t,e){return t&&(ae.fun(t)?t(e):t.current=e),e}var NR=Symbol.for("AnimatedComponent"),QK=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=r=>new Lg(r),getComponentProps:i=r=>r}={})=>{const r={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:i},a=l=>{const u=IR(l)||"Anonymous";return ae.str(l)?l=a[l]||(a[l]=OR(l,r)):l=l[NR]||(l[NR]=OR(l,r)),l.displayName=`Animated(${u})`,l};return Fi(t,(l,u)=>{ae.arr(t)&&(u=IR(l)),a[u]=a(l)}),{animated:a}},IR=t=>ae.str(t)?t:t&&ae.str(t.displayName)?t.displayName:ae.fun(t)&&t.name||null;function ua(t,...e){return ae.fun(t)?t(...e):t}var ou=(t,e)=>t===!0||!!(e&&t&&(ae.fun(t)?t(e):In(t).includes(e))),JI=(t,e)=>ae.obj(t)?e&&t[e]:t,e5=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,ZK=t=>t,aw=(t,e=ZK)=>{let n=JK;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const i={};for(const r of n){const a=e(t[r],r);ae.und(a)||(i[r]=a)}return i},JK=["config","onProps","onStart","onChange","onPause","onResume","onRest"],eX={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function tX(t){const e={};let n=0;if(Fi(t,(i,r)=>{eX[r]||(e[r]=i,n++)}),n)return e}function t5(t){const e=tX(t);if(e){const n={to:e};return Fi(t,(i,r)=>r in e||(n[r]=i)),n}return{...t}}function Iu(t){return t=yn(t),ae.arr(t)?t.map(Iu):Dg(t)?vi.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function nX(t){for(const e in t)return!0;return!1}function _1(t){return ae.fun(t)||ae.arr(t)&&ae.obj(t[0])}function iX(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function rX(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var n5={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},y1={...n5.default,mass:1,damping:1,easing:OK.linear,clamp:!1},sX=class{constructor(){this.velocity=0,Object.assign(this,y1)}};function aX(t,e,n){n&&(n={...n},DR(n,e),e={...n,...e}),DR(t,e),Object.assign(t,e);for(const l in y1)t[l]==null&&(t[l]=y1[l]);let{frequency:i,damping:r}=t;const{mass:a}=t;return ae.und(i)||(i<.01&&(i=.01),r<0&&(r=0),t.tension=Math.pow(2*Math.PI/i,2)*a,t.friction=4*Math.PI*r*a/i),t}function DR(t,e){if(!ae.und(e.decay))t.duration=void 0;else{const n=!ae.und(e.tension)||!ae.und(e.friction);(n||!ae.und(e.frequency)||!ae.und(e.damping)||!ae.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var PR=[],oX=class{constructor(){this.changed=!1,this.values=PR,this.toValues=null,this.fromValues=PR,this.config=new sX,this.immediate=!1}};function i5(t,{key:e,props:n,defaultProps:i,state:r,actions:a}){return new Promise((l,u)=>{let f,d,p=ou(n.cancel??(i==null?void 0:i.cancel),e);if(p)b();else{ae.und(n.pause)||(r.paused=ou(n.pause,e));let v=i==null?void 0:i.pause;v!==!0&&(v=r.paused||ou(v,e)),f=ua(n.delay||0,e),v?(r.resumeQueue.add(y),a.pause()):(a.resume(),y())}function m(){r.resumeQueue.add(y),r.timeouts.delete(d),d.cancel(),f=d.time-Se.now()}function y(){f>0&&!vi.skipAnimation?(r.delayed=!0,d=Se.setTimeout(b,f),r.pauseQueue.add(m),r.timeouts.add(d)):b()}function b(){r.delayed&&(r.delayed=!1),r.pauseQueue.delete(m),r.timeouts.delete(d),t<=(r.cancelId||0)&&(p=!0);try{a.start({...n,callId:t,cancel:p},l)}catch(v){u(v)}}})}var ow=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?Bo(t.get()):e.every(n=>n.noop)?r5(t.get()):oi(t.get(),e.every(n=>n.finished)),r5=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),oi=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),Bo=t=>({value:t,cancelled:!0,finished:!1});function s5(t,e,n,i){const{callId:r,parentId:a,onRest:l}=e,{asyncTo:u,promise:f}=n;return!a&&t===u&&!e.reset?f:n.promise=(async()=>{n.asyncId=r,n.asyncTo=t;const d=aw(e,(w,E)=>E==="onRest"?void 0:w);let p,m;const y=new Promise((w,E)=>(p=w,m=E)),b=w=>{const E=r<=(n.cancelId||0)&&Bo(i)||r!==n.asyncId&&oi(i,!1);if(E)throw w.result=E,m(w),w},v=(w,E)=>{const k=new LR,O=new jR;return(async()=>{if(vi.skipAnimation)throw Du(n),O.result=oi(i,!1),m(O),O;b(k);const A=ae.obj(w)?{...w}:{...E,to:w};A.parentId=r,Fi(d,(R,P)=>{ae.und(A[P])&&(A[P]=R)});const M=await i.start(A);return b(k),n.paused&&await new Promise(R=>{n.resumeQueue.add(R)}),M})()};let x;if(vi.skipAnimation)return Du(n),oi(i,!1);try{let w;ae.arr(t)?w=(async E=>{for(const k of E)await v(k)})(t):w=Promise.resolve(t(v,i.stop.bind(i))),await Promise.all([w.then(p),y]),x=oi(i.get(),!0,!1)}catch(w){if(w instanceof LR)x=w.result;else if(w instanceof jR)x=w.result;else throw w}finally{r==n.asyncId&&(n.asyncId=a,n.asyncTo=a?u:void 0,n.promise=a?f:void 0)}return ae.fun(l)&&Se.batchedUpdates(()=>{l(x,i,i.item)}),x})()}function Du(t,e){su(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var LR=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},jR=class extends Error{constructor(){super("SkipAnimationSignal")}},b1=t=>t instanceof lw,lX=1,lw=class extends VI{constructor(){super(...arguments),this.id=lX++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=zi(this);return t&&t.getValue()}to(...t){return vi.to(this,t)}interpolate(...t){return UK(),vi.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){Mu(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||Og.sort(this),Mu(this,{type:"priority",parent:this,priority:t})}},Ma=Symbol.for("SpringPhase"),a5=1,o5=2,l5=4,y_=t=>(t[Ma]&a5)>0,us=t=>(t[Ma]&o5)>0,Ac=t=>(t[Ma]&l5)>0,zR=(t,e)=>e?t[Ma]|=o5|a5:t[Ma]&=-3,UR=(t,e)=>e?t[Ma]|=l5:t[Ma]&=-5,cX=class extends lw{constructor(t,e){if(super(),this.animation=new oX,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ae.und(t)||!ae.und(e)){const n=ae.obj(t)?{...t}:{...e,from:t};ae.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(us(this)||this._state.asyncTo)||Ac(this)}get goal(){return yn(this.animation.to)}get velocity(){const t=zi(this);return t instanceof rf?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return y_(this)}get isAnimating(){return us(this)}get isPaused(){return Ac(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const i=this.animation;let{toValues:r}=i;const{config:a}=i,l=Pg(i.to);!l&&Kn(i.to)&&(r=In(yn(i.to))),i.values.forEach((d,p)=>{if(d.done)return;const m=d.constructor==Nu?1:l?l[p].lastPosition:r[p];let y=i.immediate,b=m;if(!y){if(b=d.lastPosition,a.tension<=0){d.done=!0;return}let v=d.elapsedTime+=t;const x=i.fromValues[p],w=d.v0!=null?d.v0:d.v0=ae.arr(a.velocity)?a.velocity[p]:a.velocity;let E;const k=a.precision||(x==m?.005:Math.min(1,Math.abs(m-x)*.001));if(ae.und(a.duration))if(a.decay){const O=a.decay===!0?.998:a.decay,A=Math.exp(-(1-O)*v);b=x+w/(1-O)*(1-A),y=Math.abs(d.lastPosition-b)<=k,E=w*A}else{E=d.lastVelocity==null?w:d.lastVelocity;const O=a.restVelocity||k/10,A=a.clamp?0:a.bounce,M=!ae.und(A),R=x==m?d.v0>0:x<m;let P,z=!1;const V=1,$=Math.ceil(t/V);for(let U=0;U<$&&(P=Math.abs(E)>O,!(!P&&(y=Math.abs(m-b)<=k,y)));++U){M&&(z=b==m||b>m==R,z&&(E=-E*A,b=m));const Q=-a.tension*1e-6*(b-m),J=-a.friction*.001*E,re=(Q+J)/a.mass;E=E+re*V,b=b+E*V}}else{let O=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,d.durationProgress>0&&(d.elapsedTime=a.duration*d.durationProgress,v=d.elapsedTime+=t)),O=(a.progress||0)+v/this._memoizedDuration,O=O>1?1:O<0?0:O,d.durationProgress=O),b=x+a.easing(O)*(m-x),E=(b-d.lastPosition)/t,y=O==1}d.lastVelocity=E,Number.isNaN(b)&&(console.warn("Got NaN while animating:",this),y=!0)}l&&!l[p].done&&(y=!1),y?d.done=!0:e=!1,d.setValue(b,a.round)&&(n=!0)});const u=zi(this),f=u.getValue();if(e){const d=yn(i.to);(f!==d||n)&&!a.decay?(u.setValue(d),this._onChange(d)):n&&a.decay&&this._onChange(f),this._stop()}else n&&this._onChange(f)}set(t){return Se.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(us(this)){const{to:t,config:e}=this.animation;Se.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return ae.und(t)?(n=this.queue||[],this.queue=[]):n=[ae.obj(t)?t:{...e,to:t}],Promise.all(n.map(i=>this._update(i))).then(i=>ow(this,i))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),Du(this._state,t&&this._lastCallId),Se.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:i}=t;n=ae.obj(n)?n[e]:n,(n==null||_1(n))&&(n=void 0),i=ae.obj(i)?i[e]:i,i==null&&(i=void 0);const r={to:n,from:i};return y_(this)||(t.reverse&&([n,i]=[i,n]),i=yn(i),ae.und(i)?zi(this)||this._set(n):this._set(i)),r}_update({...t},e){const{key:n,defaultProps:i}=this;t.default&&Object.assign(i,aw(t,(l,u)=>/^on/.test(u)?JI(l,n):l)),qR(this,t,"onProps"),Mc(this,"onProps",t,this);const r=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return i5(++this._lastCallId,{key:n,props:t,defaultProps:i,state:a,actions:{pause:()=>{Ac(this)||(UR(this,!0),Bc(a.pauseQueue),Mc(this,"onPause",oi(this,Rc(this,this.animation.to)),this))},resume:()=>{Ac(this)&&(UR(this,!1),us(this)&&this._resume(),Bc(a.resumeQueue),Mc(this,"onResume",oi(this,Rc(this,this.animation.to)),this))},start:this._merge.bind(this,r)}}).then(l=>{if(t.loop&&l.finished&&!(e&&l.noop)){const u=c5(t);if(u)return this._update(u,!0)}return l})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(Bo(this));const i=!ae.und(t.to),r=!ae.und(t.from);if(i||r)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(Bo(this));const{key:a,defaultProps:l,animation:u}=this,{to:f,from:d}=u;let{to:p=f,from:m=d}=t;r&&!i&&(!e.default||ae.und(p))&&(p=m),e.reverse&&([p,m]=[m,p]);const y=!br(m,d);y&&(u.from=m),m=yn(m);const b=!br(p,f);b&&this._focus(p);const v=_1(e.to),{config:x}=u,{decay:w,velocity:E}=x;(i||r)&&(x.velocity=0),e.config&&!v&&aX(x,ua(e.config,a),e.config!==l.config?ua(l.config,a):void 0);let k=zi(this);if(!k||ae.und(p))return n(oi(this,!0));const O=ae.und(e.reset)?r&&!e.default:!ae.und(m)&&ou(e.reset,a),A=O?m:this.get(),M=Iu(p),R=ae.num(M)||ae.arr(M)||Dg(M),P=!v&&(!R||ou(l.immediate||e.immediate,a));if(b){const U=m1(p);if(U!==k.constructor)if(P)k=this._set(M);else throw Error(`Cannot animate between ${k.constructor.name} and ${U.name}, as the "to" prop suggests`)}const z=k.constructor;let V=Kn(p),$=!1;if(!V){const U=O||!y_(this)&&y;(b||U)&&($=br(Iu(A),M),V=!$),(!br(u.immediate,P)&&!P||!br(x.decay,w)||!br(x.velocity,E))&&(V=!0)}if($&&us(this)&&(u.changed&&!O?V=!0:V||this._stop(f)),!v&&((V||Kn(f))&&(u.values=k.getPayload(),u.toValues=Kn(p)?null:z==Nu?[1]:In(M)),u.immediate!=P&&(u.immediate=P,!P&&!O&&this._set(f)),V)){const{onRest:U}=u;Ue(fX,J=>qR(this,e,J));const Q=oi(this,Rc(this,f));Bc(this._pendingCalls,Q),this._pendingCalls.add(n),u.changed&&Se.batchedUpdates(()=>{var J;u.changed=!O,U==null||U(Q,this),O?ua(l.onRest,Q):(J=u.onStart)==null||J.call(u,Q,this)})}O&&this._set(A),v?n(s5(e.to,e,this._state,this)):V?this._start():us(this)&&!b?this._pendingCalls.add(n):n(r5(A))}_focus(t){const e=this.animation;t!==e.to&&(RR(this)&&this._detach(),e.to=t,RR(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Kn(e)&&(pl(e,this),b1(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Kn(t)&&ku(t,this)}_set(t,e=!0){const n=yn(t);if(!ae.und(n)){const i=zi(this);if(!i||!br(n,i.getValue())){const r=m1(n);!i||i.constructor!=r?sw(this,r.create(n)):i.setValue(n),i&&Se.batchedUpdates(()=>{this._onChange(n,e)})}}return zi(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,Mc(this,"onStart",oi(this,Rc(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),ua(this.animation.onChange,t,this)),ua(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;zi(this).reset(yn(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),us(this)||(zR(this,!0),Ac(this)||this._resume())}_resume(){vi.skipAnimation?this.finish():Og.start(this)}_stop(t,e){if(us(this)){zR(this,!1);const n=this.animation;Ue(n.values,r=>{r.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Mu(this,{type:"idle",parent:this});const i=e?Bo(this.get()):oi(this.get(),Rc(this,t??n.to));Bc(this._pendingCalls,i),n.changed&&(n.changed=!1,Mc(this,"onRest",i,this))}}};function Rc(t,e){const n=Iu(e),i=Iu(t.get());return br(i,n)}function c5(t,e=t.loop,n=t.to){const i=ua(e);if(i){const r=i!==!0&&t5(i),a=(r||t).reverse,l=!r||r.reset;return Pu({...t,loop:e,default:!1,pause:void 0,to:!a||_1(n)?n:void 0,from:l?t.from:void 0,reset:l,...r})}}function Pu(t){const{to:e,from:n}=t=t5(t),i=new Set;return ae.obj(e)&&HR(e,i),ae.obj(n)&&HR(n,i),t.keys=i.size?Array.from(i):null,t}function uX(t){const e=Pu(t);return ae.und(e.default)&&(e.default=aw(e)),e}function HR(t,e){Fi(t,(n,i)=>n!=null&&e.add(i))}var fX=["onStart","onRest","onChange","onPause","onResume"];function qR(t,e,n){t.animation[n]=e[n]!==e5(e,n)?JI(e[n],t.key):void 0}function Mc(t,e,...n){var i,r,a,l;(r=(i=t.animation)[e])==null||r.call(i,...n),(l=(a=t.defaultProps)[e])==null||l.call(a,...n)}var dX=["onStart","onChange","onRest"],hX=1,gX=class{constructor(t,e){this.id=hX++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,n)=>t[n]=e.get()),t}set(t){for(const e in t){const n=t[e];ae.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(Pu(t)),this}start(t){let{queue:e}=this;return t?e=In(t).map(Pu):this.queue=[],this._flush?this._flush(this,e):(g5(this,e),v1(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const n=this.springs;Ue(In(e),i=>n[i].stop(!!t))}else Du(this._state,this._lastAsyncId),this.each(n=>n.stop(!!t));return this}pause(t){if(ae.und(t))this.start({pause:!0});else{const e=this.springs;Ue(In(t),n=>e[n].pause())}return this}resume(t){if(ae.und(t))this.start({pause:!1});else{const e=this.springs;Ue(In(t),n=>e[n].resume())}return this}each(t){Fi(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:n}=this._events,i=this._active.size>0,r=this._changed.size>0;(i&&!this._started||r&&!this._started)&&(this._started=!0,su(t,([u,f])=>{f.value=this.get(),u(f,this,this._item)}));const a=!i&&this._started,l=r||a&&n.size?this.get():null;r&&e.size&&su(e,([u,f])=>{f.value=l,u(f,this,this._item)}),a&&(this._started=!1,su(n,([u,f])=>{f.value=l,u(f,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Se.onFrame(this._onFrame)}};function v1(t,e){return Promise.all(e.map(n=>u5(t,n))).then(n=>ow(t,n))}async function u5(t,e,n){const{keys:i,to:r,from:a,loop:l,onRest:u,onResolve:f}=e,d=ae.obj(e.default)&&e.default;l&&(e.loop=!1),r===!1&&(e.to=null),a===!1&&(e.from=null);const p=ae.arr(r)||ae.fun(r)?r:void 0;p?(e.to=void 0,e.onRest=void 0,d&&(d.onRest=void 0)):Ue(dX,x=>{const w=e[x];if(ae.fun(w)){const E=t._events[x];e[x]=({finished:k,cancelled:O})=>{const A=E.get(w);A?(k||(A.finished=!1),O&&(A.cancelled=!0)):E.set(w,{value:null,finished:k||!1,cancelled:O||!1})},d&&(d[x]=e[x])}});const m=t._state;e.pause===!m.paused?(m.paused=e.pause,Bc(e.pause?m.pauseQueue:m.resumeQueue)):m.paused&&(e.pause=!0);const y=(i||Object.keys(t.springs)).map(x=>t.springs[x].start(e)),b=e.cancel===!0||e5(e,"cancel")===!0;(p||b&&m.asyncId)&&y.push(i5(++t._lastAsyncId,{props:e,state:m,actions:{pause:g1,resume:g1,start(x,w){b?(Du(m,t._lastAsyncId),w(Bo(t))):(x.onRest=u,w(s5(p,x,m,t)))}}})),m.paused&&await new Promise(x=>{m.resumeQueue.add(x)});const v=ow(t,await Promise.all(y));if(l&&v.finished&&!(n&&v.noop)){const x=c5(e,l,r);if(x)return g5(t,[x]),u5(t,x,!0)}return f&&Se.batchedUpdates(()=>f(v,t,t.item)),v}function BR(t,e){const n={...t.springs};return e&&Ue(In(e),i=>{ae.und(i.keys)&&(i=Pu(i)),ae.obj(i.to)||(i={...i,to:void 0}),h5(n,i,r=>d5(r))}),f5(t,n),n}function f5(t,e){Fi(e,(n,i)=>{t.springs[i]||(t.springs[i]=n,pl(n,t))})}function d5(t,e){const n=new cX;return n.key=t,e&&pl(n,e),n}function h5(t,e,n){e.keys&&Ue(e.keys,i=>{(t[i]||(t[i]=n(i)))._prepareNode(e)})}function g5(t,e){Ue(e,n=>{h5(t.springs,n,i=>d5(i,t))})}var jg=({children:t,...e})=>{const n=N.useContext(Bh),i=e.pause||!!n.pause,r=e.immediate||!!n.immediate;e=FK(()=>({pause:i,immediate:r}),[i,r]);const{Provider:a}=Bh;return N.createElement(a,{value:e},t)},Bh=pX(jg,{});jg.Provider=Bh.Provider;jg.Consumer=Bh.Consumer;function pX(t,e){return Object.assign(t,N.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var mX=()=>{const t=[],e=function(i){qK();const r=[];return Ue(t,(a,l)=>{if(ae.und(i))r.push(a.start());else{const u=n(i,a,l);u&&r.push(a.start(u))}}),r};e.current=t,e.add=function(i){t.includes(i)||t.push(i)},e.delete=function(i){const r=t.indexOf(i);~r&&t.splice(r,1)},e.pause=function(){return Ue(t,i=>i.pause(...arguments)),this},e.resume=function(){return Ue(t,i=>i.resume(...arguments)),this},e.set=function(i){Ue(t,(r,a)=>{const l=ae.fun(i)?i(a,r):i;l&&r.set(l)})},e.start=function(i){const r=[];return Ue(t,(a,l)=>{if(ae.und(i))r.push(a.start());else{const u=this._getProps(i,a,l);u&&r.push(a.start(u))}}),r},e.stop=function(){return Ue(t,i=>i.stop(...arguments)),this},e.update=function(i){return Ue(t,(r,a)=>r.update(this._getProps(i,r,a))),this};const n=function(i,r,a){return ae.fun(i)?i(a,r):i};return e._getProps=n,e};function _X(t,e,n){const i=ae.fun(e)&&e;i&&!n&&(n=[]);const r=N.useMemo(()=>i||arguments.length==3?mX():void 0,[]),a=N.useRef(0),l=KI(),u=N.useMemo(()=>({ctrls:[],queue:[],flush(E,k){const O=BR(E,k);return a.current>0&&!u.queue.length&&!Object.keys(O).some(M=>!E.springs[M])?v1(E,k):new Promise(M=>{f5(E,O),u.queue.push(()=>{M(v1(E,k))}),l()})}}),[]),f=N.useRef([...u.ctrls]),d=[],p=kR(t)||0;N.useMemo(()=>{Ue(f.current.slice(t,p),E=>{iX(E,r),E.stop(!0)}),f.current.length=t,m(p,t)},[t]),N.useMemo(()=>{m(0,Math.min(p,t))},n);function m(E,k){for(let O=E;O<k;O++){const A=f.current[O]||(f.current[O]=new gX(null,u.flush)),M=i?i(O,A):e[O];M&&(d[O]=uX(M))}}const y=f.current.map((E,k)=>BR(E,d[k])),b=N.useContext(jg),v=kR(b),x=b!==v&&nX(b);rw(()=>{a.current++,u.ctrls=f.current;const{queue:E}=u;E.length&&(u.queue=[],Ue(E,k=>k())),Ue(f.current,(k,O)=>{r==null||r.add(k),x&&k.start({default:b});const A=d[O];A&&(rX(k,A.ref),k.ref?k.queue.push(A):k.start(A))})}),XI(()=>()=>{Ue(u.ctrls,E=>E.stop(!0))});const w=y.map(E=>({...E}));return r?[w,r]:w}function cw(t,e){const n=ae.fun(t),[[i],r]=_X(1,n?t:[t],n?[]:e);return n||arguments.length==2?[i,r]:i}var yX=class extends lw{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=Au(...e);const n=this._get(),i=m1(n);sw(this,i.create(n))}advance(t){const e=this._get(),n=this.get();br(e,n)||(zi(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&FR(this._active)&&b_(this)}_get(){const t=ae.arr(this.source)?this.source.map(yn):In(yn(this.source));return this.calc(...t)}_start(){this.idle&&!FR(this._active)&&(this.idle=!1,Ue(Pg(this),t=>{t.done=!1}),vi.skipAnimation?(Se.batchedUpdates(()=>this.advance()),b_(this)):Og.start(this))}_attach(){let t=1;Ue(In(this.source),e=>{Kn(e)&&pl(e,this),b1(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){Ue(In(this.source),t=>{Kn(t)&&ku(t,this)}),this._active.clear(),b_(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=In(this.source).reduce((e,n)=>Math.max(e,(b1(n)?n.priority:0)+1),0))}};function bX(t){return t.idle!==!1}function FR(t){return!t.size||Array.from(t).every(bX)}function b_(t){t.idle||(t.idle=!0,Ue(Pg(t),e=>{e.done=!0}),Mu(t,{type:"idle",parent:t}))}vi.assign({createStringInterpolator:YI,to:(t,e)=>new yX(t,e)});var p5=/^--/;function vX(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!p5.test(t)&&!(lu.hasOwnProperty(t)&&lu[t])?e+"px":(""+e).trim()}var VR={};function xX(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:i,style:r,children:a,scrollTop:l,scrollLeft:u,viewBox:f,...d}=e,p=Object.values(d),m=Object.keys(d).map(y=>n||t.hasAttribute(y)?y:VR[y]||(VR[y]=y.replace(/([A-Z])/g,b=>"-"+b.toLowerCase())));a!==void 0&&(t.textContent=a);for(const y in r)if(r.hasOwnProperty(y)){const b=vX(y,r[y]);p5.test(y)?t.style.setProperty(y,b):t.style[y]=b}m.forEach((y,b)=>{t.setAttribute(y,p[b])}),i!==void 0&&(t.className=i),l!==void 0&&(t.scrollTop=l),u!==void 0&&(t.scrollLeft=u),f!==void 0&&t.setAttribute("viewBox",f)}var lu={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wX=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),SX=["Webkit","Ms","Moz","O"];lu=Object.keys(lu).reduce((t,e)=>(SX.forEach(n=>t[wX(n,e)]=t[e]),t),lu);var TX=/^(matrix|translate|scale|rotate|skew)/,EX=/^(translate)/,CX=/^(rotate|skew)/,v_=(t,e)=>ae.num(t)&&t!==0?t+e:t,ih=(t,e)=>ae.arr(t)?t.every(n=>ih(n,e)):ae.num(t)?t===e:parseFloat(t)===e,AX=class extends Lg{constructor({x:t,y:e,z:n,...i}){const r=[],a=[];(t||e||n)&&(r.push([t||0,e||0,n||0]),a.push(l=>[`translate3d(${l.map(u=>v_(u,"px")).join(",")})`,ih(l,0)])),Fi(i,(l,u)=>{if(u==="transform")r.push([l||""]),a.push(f=>[f,f===""]);else if(TX.test(u)){if(delete i[u],ae.und(l))return;const f=EX.test(u)?"px":CX.test(u)?"deg":"";r.push(In(l)),a.push(u==="rotate3d"?([d,p,m,y])=>[`rotate3d(${d},${p},${m},${v_(y,f)})`,ih(y,0)]:d=>[`${u}(${d.map(p=>v_(p,f)).join(",")})`,ih(d,u.startsWith("scale")?1:0)])}}),r.length&&(i.transform=new RX(r,a)),super(i)}},RX=class extends VI{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return Ue(this.inputs,(n,i)=>{const r=yn(n[0]),[a,l]=this.transforms[i](ae.arr(r)?r:n.map(yn));t+=" "+a,e=e&&l}),e?"none":t}observerAdded(t){t==1&&Ue(this.inputs,e=>Ue(e,n=>Kn(n)&&pl(n,this)))}observerRemoved(t){t==0&&Ue(this.inputs,e=>Ue(e,n=>Kn(n)&&ku(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Mu(this,t)}},MX=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];vi.assign({batchedUpdates:kP.unstable_batchedUpdates,createStringInterpolator:YI,colors:bK});var kX=QK(MX,{applyAnimatedValues:xX,createAnimatedStyle:t=>new AX(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),Lu=kX.animated,x_,WR;function OX(){if(WR)return x_;WR=1;function t(){this.__data__=[],this.size=0}return x_=t,x_}var w_,$R;function sf(){if($R)return w_;$R=1;function t(e,n){return e===n||e!==e&&n!==n}return w_=t,w_}var S_,YR;function zg(){if(YR)return S_;YR=1;var t=sf();function e(n,i){for(var r=n.length;r--;)if(t(n[r][0],i))return r;return-1}return S_=e,S_}var T_,GR;function NX(){if(GR)return T_;GR=1;var t=zg(),e=Array.prototype,n=e.splice;function i(r){var a=this.__data__,l=t(a,r);if(l<0)return!1;var u=a.length-1;return l==u?a.pop():n.call(a,l,1),--this.size,!0}return T_=i,T_}var E_,KR;function IX(){if(KR)return E_;KR=1;var t=zg();function e(n){var i=this.__data__,r=t(i,n);return r<0?void 0:i[r][1]}return E_=e,E_}var C_,XR;function DX(){if(XR)return C_;XR=1;var t=zg();function e(n){return t(this.__data__,n)>-1}return C_=e,C_}var A_,QR;function PX(){if(QR)return A_;QR=1;var t=zg();function e(n,i){var r=this.__data__,a=t(r,n);return a<0?(++this.size,r.push([n,i])):r[a][1]=i,this}return A_=e,A_}var R_,ZR;function Ug(){if(ZR)return R_;ZR=1;var t=OX(),e=NX(),n=IX(),i=DX(),r=PX();function a(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var d=l[u];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=i,a.prototype.set=r,R_=a,R_}var M_,JR;function LX(){if(JR)return M_;JR=1;var t=Ug();function e(){this.__data__=new t,this.size=0}return M_=e,M_}var k_,eM;function jX(){if(eM)return k_;eM=1;function t(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}return k_=t,k_}var O_,tM;function zX(){if(tM)return O_;tM=1;function t(e){return this.__data__.get(e)}return O_=t,O_}var N_,nM;function UX(){if(nM)return N_;nM=1;function t(e){return this.__data__.has(e)}return N_=t,N_}var I_,iM;function m5(){if(iM)return I_;iM=1;var t=typeof bd=="object"&&bd&&bd.Object===Object&&bd;return I_=t,I_}var D_,rM;function Ki(){if(rM)return D_;rM=1;var t=m5(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return D_=n,D_}var P_,sM;function af(){if(sM)return P_;sM=1;var t=Ki(),e=t.Symbol;return P_=e,P_}var L_,aM;function HX(){if(aM)return L_;aM=1;var t=af(),e=Object.prototype,n=e.hasOwnProperty,i=e.toString,r=t?t.toStringTag:void 0;function a(l){var u=n.call(l,r),f=l[r];try{l[r]=void 0;var d=!0}catch{}var p=i.call(l);return d&&(u?l[r]=f:delete l[r]),p}return L_=a,L_}var j_,oM;function qX(){if(oM)return j_;oM=1;var t=Object.prototype,e=t.toString;function n(i){return e.call(i)}return j_=n,j_}var z_,lM;function Ls(){if(lM)return z_;lM=1;var t=af(),e=HX(),n=qX(),i="[object Null]",r="[object Undefined]",a=t?t.toStringTag:void 0;function l(u){return u==null?u===void 0?r:i:a&&a in Object(u)?e(u):n(u)}return z_=l,z_}var U_,cM;function Lr(){if(cM)return U_;cM=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return U_=t,U_}var H_,uM;function Hg(){if(uM)return H_;uM=1;var t=Ls(),e=Lr(),n="[object AsyncFunction]",i="[object Function]",r="[object GeneratorFunction]",a="[object Proxy]";function l(u){if(!e(u))return!1;var f=t(u);return f==i||f==r||f==n||f==a}return H_=l,H_}var q_,fM;function BX(){if(fM)return q_;fM=1;var t=Ki(),e=t["__core-js_shared__"];return q_=e,q_}var B_,dM;function FX(){if(dM)return B_;dM=1;var t=BX(),e=function(){var i=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function n(i){return!!e&&e in i}return B_=n,B_}var F_,hM;function _5(){if(hM)return F_;hM=1;var t=Function.prototype,e=t.toString;function n(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return F_=n,F_}var V_,gM;function VX(){if(gM)return V_;gM=1;var t=Hg(),e=FX(),n=Lr(),i=_5(),r=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,f=l.toString,d=u.hasOwnProperty,p=RegExp("^"+f.call(d).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!n(y)||e(y))return!1;var b=t(y)?p:a;return b.test(i(y))}return V_=m,V_}var W_,pM;function WX(){if(pM)return W_;pM=1;function t(e,n){return e==null?void 0:e[n]}return W_=t,W_}var $_,mM;function za(){if(mM)return $_;mM=1;var t=VX(),e=WX();function n(i,r){var a=e(i,r);return t(a)?a:void 0}return $_=n,$_}var Y_,_M;function uw(){if(_M)return Y_;_M=1;var t=za(),e=Ki(),n=t(e,"Map");return Y_=n,Y_}var G_,yM;function qg(){if(yM)return G_;yM=1;var t=za(),e=t(Object,"create");return G_=e,G_}var K_,bM;function $X(){if(bM)return K_;bM=1;var t=qg();function e(){this.__data__=t?t(null):{},this.size=0}return K_=e,K_}var X_,vM;function YX(){if(vM)return X_;vM=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return X_=t,X_}var Q_,xM;function GX(){if(xM)return Q_;xM=1;var t=qg(),e="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function r(a){var l=this.__data__;if(t){var u=l[a];return u===e?void 0:u}return i.call(l,a)?l[a]:void 0}return Q_=r,Q_}var Z_,wM;function KX(){if(wM)return Z_;wM=1;var t=qg(),e=Object.prototype,n=e.hasOwnProperty;function i(r){var a=this.__data__;return t?a[r]!==void 0:n.call(a,r)}return Z_=i,Z_}var J_,SM;function XX(){if(SM)return J_;SM=1;var t=qg(),e="__lodash_hash_undefined__";function n(i,r){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=t&&r===void 0?e:r,this}return J_=n,J_}var ey,TM;function QX(){if(TM)return ey;TM=1;var t=$X(),e=YX(),n=GX(),i=KX(),r=XX();function a(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var d=l[u];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=i,a.prototype.set=r,ey=a,ey}var ty,EM;function ZX(){if(EM)return ty;EM=1;var t=QX(),e=Ug(),n=uw();function i(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return ty=i,ty}var ny,CM;function JX(){if(CM)return ny;CM=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return ny=t,ny}var iy,AM;function Bg(){if(AM)return iy;AM=1;var t=JX();function e(n,i){var r=n.__data__;return t(i)?r[typeof i=="string"?"string":"hash"]:r.map}return iy=e,iy}var ry,RM;function eQ(){if(RM)return ry;RM=1;var t=Bg();function e(n){var i=t(this,n).delete(n);return this.size-=i?1:0,i}return ry=e,ry}var sy,MM;function tQ(){if(MM)return sy;MM=1;var t=Bg();function e(n){return t(this,n).get(n)}return sy=e,sy}var ay,kM;function nQ(){if(kM)return ay;kM=1;var t=Bg();function e(n){return t(this,n).has(n)}return ay=e,ay}var oy,OM;function iQ(){if(OM)return oy;OM=1;var t=Bg();function e(n,i){var r=t(this,n),a=r.size;return r.set(n,i),this.size+=r.size==a?0:1,this}return oy=e,oy}var ly,NM;function fw(){if(NM)return ly;NM=1;var t=ZX(),e=eQ(),n=tQ(),i=nQ(),r=iQ();function a(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var d=l[u];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=i,a.prototype.set=r,ly=a,ly}var cy,IM;function rQ(){if(IM)return cy;IM=1;var t=Ug(),e=uw(),n=fw(),i=200;function r(a,l){var u=this.__data__;if(u instanceof t){var f=u.__data__;if(!e||f.length<i-1)return f.push([a,l]),this.size=++u.size,this;u=this.__data__=new n(f)}return u.set(a,l),this.size=u.size,this}return cy=r,cy}var uy,DM;function y5(){if(DM)return uy;DM=1;var t=Ug(),e=LX(),n=jX(),i=zX(),r=UX(),a=rQ();function l(u){var f=this.__data__=new t(u);this.size=f.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=i,l.prototype.has=r,l.prototype.set=a,uy=l,uy}var fy,PM;function b5(){if(PM)return fy;PM=1;var t=za(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return fy=e,fy}var dy,LM;function dw(){if(LM)return dy;LM=1;var t=b5();function e(n,i,r){i=="__proto__"&&t?t(n,i,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[i]=r}return dy=e,dy}var hy,jM;function v5(){if(jM)return hy;jM=1;var t=dw(),e=sf();function n(i,r,a){(a!==void 0&&!e(i[r],a)||a===void 0&&!(r in i))&&t(i,r,a)}return hy=n,hy}var gy,zM;function sQ(){if(zM)return gy;zM=1;function t(e){return function(n,i,r){for(var a=-1,l=Object(n),u=r(n),f=u.length;f--;){var d=u[e?f:++a];if(i(l[d],d,l)===!1)break}return n}}return gy=t,gy}var py,UM;function aQ(){if(UM)return py;UM=1;var t=sQ(),e=t();return py=e,py}var Fc={exports:{}};Fc.exports;var HM;function oQ(){return HM||(HM=1,function(t,e){var n=Ki(),i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,a=r&&r.exports===i,l=a?n.Buffer:void 0,u=l?l.allocUnsafe:void 0;function f(d,p){if(p)return d.slice();var m=d.length,y=u?u(m):new d.constructor(m);return d.copy(y),y}t.exports=f}(Fc,Fc.exports)),Fc.exports}var my,qM;function x5(){if(qM)return my;qM=1;var t=Ki(),e=t.Uint8Array;return my=e,my}var _y,BM;function lQ(){if(BM)return _y;BM=1;var t=x5();function e(n){var i=new n.constructor(n.byteLength);return new t(i).set(new t(n)),i}return _y=e,_y}var yy,FM;function cQ(){if(FM)return yy;FM=1;var t=lQ();function e(n,i){var r=i?t(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}return yy=e,yy}var by,VM;function uQ(){if(VM)return by;VM=1;function t(e,n){var i=-1,r=e.length;for(n||(n=Array(r));++i<r;)n[i]=e[i];return n}return by=t,by}var vy,WM;function fQ(){if(WM)return vy;WM=1;var t=Lr(),e=Object.create,n=function(){function i(){}return function(r){if(!t(r))return{};if(e)return e(r);i.prototype=r;var a=new i;return i.prototype=void 0,a}}();return vy=n,vy}var xy,$M;function w5(){if($M)return xy;$M=1;function t(e,n){return function(i){return e(n(i))}}return xy=t,xy}var wy,YM;function S5(){if(YM)return wy;YM=1;var t=w5(),e=t(Object.getPrototypeOf,Object);return wy=e,wy}var Sy,GM;function hw(){if(GM)return Sy;GM=1;var t=Object.prototype;function e(n){var i=n&&n.constructor,r=typeof i=="function"&&i.prototype||t;return n===r}return Sy=e,Sy}var Ty,KM;function dQ(){if(KM)return Ty;KM=1;var t=fQ(),e=S5(),n=hw();function i(r){return typeof r.constructor=="function"&&!n(r)?t(e(r)):{}}return Ty=i,Ty}var Ey,XM;function jr(){if(XM)return Ey;XM=1;function t(e){return e!=null&&typeof e=="object"}return Ey=t,Ey}var Cy,QM;function hQ(){if(QM)return Cy;QM=1;var t=Ls(),e=jr(),n="[object Arguments]";function i(r){return e(r)&&t(r)==n}return Cy=i,Cy}var Ay,ZM;function Fg(){if(ZM)return Ay;ZM=1;var t=hQ(),e=jr(),n=Object.prototype,i=n.hasOwnProperty,r=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(l){return e(l)&&i.call(l,"callee")&&!r.call(l,"callee")};return Ay=a,Ay}var Ry,JM;function Si(){if(JM)return Ry;JM=1;var t=Array.isArray;return Ry=t,Ry}var My,ek;function gw(){if(ek)return My;ek=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return My=e,My}var ky,tk;function Vg(){if(tk)return ky;tk=1;var t=Hg(),e=gw();function n(i){return i!=null&&e(i.length)&&!t(i)}return ky=n,ky}var Oy,nk;function T5(){if(nk)return Oy;nk=1;var t=Vg(),e=jr();function n(i){return e(i)&&t(i)}return Oy=n,Oy}var Vc={exports:{}},Ny,ik;function gQ(){if(ik)return Ny;ik=1;function t(){return!1}return Ny=t,Ny}Vc.exports;var rk;function pw(){return rk||(rk=1,function(t,e){var n=Ki(),i=gQ(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,l=a&&a.exports===r,u=l?n.Buffer:void 0,f=u?u.isBuffer:void 0,d=f||i;t.exports=d}(Vc,Vc.exports)),Vc.exports}var Iy,sk;function E5(){if(sk)return Iy;sk=1;var t=Ls(),e=S5(),n=jr(),i="[object Object]",r=Function.prototype,a=Object.prototype,l=r.toString,u=a.hasOwnProperty,f=l.call(Object);function d(p){if(!n(p)||t(p)!=i)return!1;var m=e(p);if(m===null)return!0;var y=u.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&l.call(y)==f}return Iy=d,Iy}var Dy,ak;function pQ(){if(ak)return Dy;ak=1;var t=Ls(),e=gw(),n=jr(),i="[object Arguments]",r="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",m="[object Object]",y="[object RegExp]",b="[object Set]",v="[object String]",x="[object WeakMap]",w="[object ArrayBuffer]",E="[object DataView]",k="[object Float32Array]",O="[object Float64Array]",A="[object Int8Array]",M="[object Int16Array]",R="[object Int32Array]",P="[object Uint8Array]",z="[object Uint8ClampedArray]",V="[object Uint16Array]",$="[object Uint32Array]",U={};U[k]=U[O]=U[A]=U[M]=U[R]=U[P]=U[z]=U[V]=U[$]=!0,U[i]=U[r]=U[w]=U[a]=U[E]=U[l]=U[u]=U[f]=U[d]=U[p]=U[m]=U[y]=U[b]=U[v]=U[x]=!1;function Q(J){return n(J)&&e(J.length)&&!!U[t(J)]}return Dy=Q,Dy}var Py,ok;function mw(){if(ok)return Py;ok=1;function t(e){return function(n){return e(n)}}return Py=t,Py}var Wc={exports:{}};Wc.exports;var lk;function C5(){return lk||(lk=1,function(t,e){var n=m5(),i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,a=r&&r.exports===i,l=a&&n.process,u=function(){try{var f=r&&r.require&&r.require("util").types;return f||l&&l.binding&&l.binding("util")}catch{}}();t.exports=u}(Wc,Wc.exports)),Wc.exports}var Ly,ck;function _w(){if(ck)return Ly;ck=1;var t=pQ(),e=mw(),n=C5(),i=n&&n.isTypedArray,r=i?e(i):t;return Ly=r,Ly}var jy,uk;function A5(){if(uk)return jy;uk=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return jy=t,jy}var zy,fk;function R5(){if(fk)return zy;fk=1;var t=dw(),e=sf(),n=Object.prototype,i=n.hasOwnProperty;function r(a,l,u){var f=a[l];(!(i.call(a,l)&&e(f,u))||u===void 0&&!(l in a))&&t(a,l,u)}return zy=r,zy}var Uy,dk;function mQ(){if(dk)return Uy;dk=1;var t=R5(),e=dw();function n(i,r,a,l){var u=!a;a||(a={});for(var f=-1,d=r.length;++f<d;){var p=r[f],m=l?l(a[p],i[p],p,a,i):void 0;m===void 0&&(m=i[p]),u?e(a,p,m):t(a,p,m)}return a}return Uy=n,Uy}var Hy,hk;function _Q(){if(hk)return Hy;hk=1;function t(e,n){for(var i=-1,r=Array(e);++i<e;)r[i]=n(i);return r}return Hy=t,Hy}var qy,gk;function Wg(){if(gk)return qy;gk=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(i,r){var a=typeof i;return r=r??t,!!r&&(a=="number"||a!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<r}return qy=n,qy}var By,pk;function M5(){if(pk)return By;pk=1;var t=_Q(),e=Fg(),n=Si(),i=pw(),r=Wg(),a=_w(),l=Object.prototype,u=l.hasOwnProperty;function f(d,p){var m=n(d),y=!m&&e(d),b=!m&&!y&&i(d),v=!m&&!y&&!b&&a(d),x=m||y||b||v,w=x?t(d.length,String):[],E=w.length;for(var k in d)(p||u.call(d,k))&&!(x&&(k=="length"||b&&(k=="offset"||k=="parent")||v&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||r(k,E)))&&w.push(k);return w}return By=f,By}var Fy,mk;function yQ(){if(mk)return Fy;mk=1;function t(e){var n=[];if(e!=null)for(var i in Object(e))n.push(i);return n}return Fy=t,Fy}var Vy,_k;function bQ(){if(_k)return Vy;_k=1;var t=Lr(),e=hw(),n=yQ(),i=Object.prototype,r=i.hasOwnProperty;function a(l){if(!t(l))return n(l);var u=e(l),f=[];for(var d in l)d=="constructor"&&(u||!r.call(l,d))||f.push(d);return f}return Vy=a,Vy}var Wy,yk;function k5(){if(yk)return Wy;yk=1;var t=M5(),e=bQ(),n=Vg();function i(r){return n(r)?t(r,!0):e(r)}return Wy=i,Wy}var $y,bk;function vQ(){if(bk)return $y;bk=1;var t=mQ(),e=k5();function n(i){return t(i,e(i))}return $y=n,$y}var Yy,vk;function xQ(){if(vk)return Yy;vk=1;var t=v5(),e=oQ(),n=cQ(),i=uQ(),r=dQ(),a=Fg(),l=Si(),u=T5(),f=pw(),d=Hg(),p=Lr(),m=E5(),y=_w(),b=A5(),v=vQ();function x(w,E,k,O,A,M,R){var P=b(w,k),z=b(E,k),V=R.get(z);if(V){t(w,k,V);return}var $=M?M(P,z,k+"",w,E,R):void 0,U=$===void 0;if(U){var Q=l(z),J=!Q&&f(z),re=!Q&&!J&&y(z);$=z,Q||J||re?l(P)?$=P:u(P)?$=i(P):J?(U=!1,$=e(z,!0)):re?(U=!1,$=n(z,!0)):$=[]:m(z)||a(z)?($=P,a(P)?$=v(P):(!p(P)||d(P))&&($=r(z))):U=!1}U&&(R.set(z,$),A($,z,O,M,R),R.delete(z)),t(w,k,$)}return Yy=x,Yy}var Gy,xk;function wQ(){if(xk)return Gy;xk=1;var t=y5(),e=v5(),n=aQ(),i=xQ(),r=Lr(),a=k5(),l=A5();function u(f,d,p,m,y){f!==d&&n(d,function(b,v){if(y||(y=new t),r(b))i(f,d,v,p,u,m,y);else{var x=m?m(l(f,v),b,v+"",f,d,y):void 0;x===void 0&&(x=b),e(f,v,x)}},a)}return Gy=u,Gy}var Ky,wk;function O5(){if(wk)return Ky;wk=1;function t(e){return e}return Ky=t,Ky}var Xy,Sk;function SQ(){if(Sk)return Xy;Sk=1;function t(e,n,i){switch(i.length){case 0:return e.call(n);case 1:return e.call(n,i[0]);case 2:return e.call(n,i[0],i[1]);case 3:return e.call(n,i[0],i[1],i[2])}return e.apply(n,i)}return Xy=t,Xy}var Qy,Tk;function N5(){if(Tk)return Qy;Tk=1;var t=SQ(),e=Math.max;function n(i,r,a){return r=e(r===void 0?i.length-1:r,0),function(){for(var l=arguments,u=-1,f=e(l.length-r,0),d=Array(f);++u<f;)d[u]=l[r+u];u=-1;for(var p=Array(r+1);++u<r;)p[u]=l[u];return p[r]=a(d),t(i,this,p)}}return Qy=n,Qy}var Zy,Ek;function TQ(){if(Ek)return Zy;Ek=1;function t(e){return function(){return e}}return Zy=t,Zy}var Jy,Ck;function EQ(){if(Ck)return Jy;Ck=1;var t=TQ(),e=b5(),n=O5(),i=e?function(r,a){return e(r,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return Jy=i,Jy}var eb,Ak;function CQ(){if(Ak)return eb;Ak=1;var t=800,e=16,n=Date.now;function i(r){var a=0,l=0;return function(){var u=n(),f=e-(u-l);if(l=u,f>0){if(++a>=t)return arguments[0]}else a=0;return r.apply(void 0,arguments)}}return eb=i,eb}var tb,Rk;function I5(){if(Rk)return tb;Rk=1;var t=EQ(),e=CQ(),n=e(t);return tb=n,tb}var nb,Mk;function D5(){if(Mk)return nb;Mk=1;var t=O5(),e=N5(),n=I5();function i(r,a){return n(e(r,a,t),r+"")}return nb=i,nb}var ib,kk;function P5(){if(kk)return ib;kk=1;var t=sf(),e=Vg(),n=Wg(),i=Lr();function r(a,l,u){if(!i(u))return!1;var f=typeof l;return(f=="number"?e(u)&&n(l,u.length):f=="string"&&l in u)?t(u[l],a):!1}return ib=r,ib}var rb,Ok;function AQ(){if(Ok)return rb;Ok=1;var t=D5(),e=P5();function n(i){return t(function(r,a){var l=-1,u=a.length,f=u>1?a[u-1]:void 0,d=u>2?a[2]:void 0;for(f=i.length>3&&typeof f=="function"?(u--,f):void 0,d&&e(a[0],a[1],d)&&(f=u<3?void 0:f,u=1),r=Object(r);++l<u;){var p=a[l];p&&i(r,p,l,f)}return r})}return rb=n,rb}var sb,Nk;function RQ(){if(Nk)return sb;Nk=1;var t=wQ(),e=AQ(),n=e(function(i,r,a){t(i,r,a)});return sb=n,sb}var MQ=RQ();const kQ=Wi(MQ);var ab,Ik;function $g(){if(Ik)return ab;Ik=1;var t=Ls(),e=jr(),n="[object Symbol]";function i(r){return typeof r=="symbol"||e(r)&&t(r)==n}return ab=i,ab}var ob,Dk;function OQ(){if(Dk)return ob;Dk=1;var t=Si(),e=$g(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(a,l){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:i.test(a)||!n.test(a)||l!=null&&a in Object(l)}return ob=r,ob}var lb,Pk;function L5(){if(Pk)return lb;Pk=1;var t=fw(),e="Expected a function";function n(i,r){if(typeof i!="function"||r!=null&&typeof r!="function")throw new TypeError(e);var a=function(){var l=arguments,u=r?r.apply(this,l):l[0],f=a.cache;if(f.has(u))return f.get(u);var d=i.apply(this,l);return a.cache=f.set(u,d)||f,d};return a.cache=new(n.Cache||t),a}return n.Cache=t,lb=n,lb}var cb,Lk;function NQ(){if(Lk)return cb;Lk=1;var t=L5(),e=500;function n(i){var r=t(i,function(l){return a.size===e&&a.clear(),l}),a=r.cache;return r}return cb=n,cb}var ub,jk;function IQ(){if(jk)return ub;jk=1;var t=NQ(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=t(function(r){var a=[];return r.charCodeAt(0)===46&&a.push(""),r.replace(e,function(l,u,f,d){a.push(f?d.replace(n,"$1"):u||l)}),a});return ub=i,ub}var fb,zk;function j5(){if(zk)return fb;zk=1;function t(e,n){for(var i=-1,r=e==null?0:e.length,a=Array(r);++i<r;)a[i]=n(e[i],i,e);return a}return fb=t,fb}var db,Uk;function DQ(){if(Uk)return db;Uk=1;var t=af(),e=j5(),n=Si(),i=$g(),r=t?t.prototype:void 0,a=r?r.toString:void 0;function l(u){if(typeof u=="string")return u;if(n(u))return e(u,l)+"";if(i(u))return a?a.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}return db=l,db}var hb,Hk;function PQ(){if(Hk)return hb;Hk=1;var t=DQ();function e(n){return n==null?"":t(n)}return hb=e,hb}var gb,qk;function Yg(){if(qk)return gb;qk=1;var t=Si(),e=OQ(),n=IQ(),i=PQ();function r(a,l){return t(a)?a:e(a,l)?[a]:n(i(a))}return gb=r,gb}var pb,Bk;function yw(){if(Bk)return pb;Bk=1;var t=$g();function e(n){if(typeof n=="string"||t(n))return n;var i=n+"";return i=="0"&&1/n==-1/0?"-0":i}return pb=e,pb}var mb,Fk;function z5(){if(Fk)return mb;Fk=1;var t=Yg(),e=yw();function n(i,r){r=t(r,i);for(var a=0,l=r.length;i!=null&&a<l;)i=i[e(r[a++])];return a&&a==l?i:void 0}return mb=n,mb}var _b,Vk;function LQ(){if(Vk)return _b;Vk=1;var t=z5();function e(n,i,r){var a=n==null?void 0:t(n,i);return a===void 0?r:a}return _b=e,_b}var jQ=LQ();const zQ=Wi(jQ);var yb,Wk;function U5(){if(Wk)return yb;Wk=1;var t=R5(),e=Yg(),n=Wg(),i=Lr(),r=yw();function a(l,u,f,d){if(!i(l))return l;u=e(u,l);for(var p=-1,m=u.length,y=m-1,b=l;b!=null&&++p<m;){var v=r(u[p]),x=f;if(v==="__proto__"||v==="constructor"||v==="prototype")return l;if(p!=y){var w=b[v];x=d?d(w,v,b):void 0,x===void 0&&(x=i(w)?w:n(u[p+1])?[]:{})}t(b,v,x),b=b[v]}return l}return yb=a,yb}var bb,$k;function UQ(){if($k)return bb;$k=1;var t=U5();function e(n,i,r){return n==null?n:t(n,i,r)}return bb=e,bb}var HQ=UQ();const qQ=Wi(HQ);function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},x1.apply(null,arguments)}var BQ=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],FQ=function(t,e){return x1({},e,t)},VQ=function(t,e){var n=kQ({},t,e);return BQ.forEach(function(i){qQ(n,i,FQ(zQ(n,i),n.text))}),n},WQ={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"#ffffff",outlineOpacity:1},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}},$Q=function(t){return N.useMemo(function(){return VQ(WQ,t)},[t])},H5=N.createContext(null),YQ={},GQ=function(t){var e=t.theme,n=e===void 0?YQ:e,i=t.children,r=$Q(n);return T.jsx(H5.Provider,{value:r,children:i})},Xi=function(){var t=N.useContext(H5);if(t===null)throw new Error("Unable to find the theme, did you forget to wrap your component with ThemeProvider?");return t},KQ=["outlineWidth","outlineColor","outlineOpacity"],XQ=function(t){return t.outlineWidth,t.outlineColor,t.outlineOpacity,function(e,n){if(e==null)return{};var i={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;i[r]=e[r]}return i}(t,KQ)};function ka(){return ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ka.apply(null,arguments)}var QQ=["basic","chip","container","table","tableCell","tableCellValue"],ZQ={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},Yk=function(t,e){return"translate("+t+"px, "+e+"px)"},q5=N.memo(function(t){var e,n=t.position,i=t.anchor,r=t.children,a=Xi(),l=Dw(),u=l.animate,f=l.config,d=M8(),p=d[0],m=d[1],y=N.useRef(!1),b=void 0,v=!1,x=m.width>0&&m.height>0,w=Math.round(n[0]),E=Math.round(n[1]);x&&(i==="top"?(w-=m.width/2,E-=m.height+14):i==="right"?(w+=14,E-=m.height/2):i==="bottom"?(w-=m.width/2,E+=14):i==="left"?(w-=m.width+14,E-=m.height/2):i==="center"&&(w-=m.width/2,E-=m.height/2),b={transform:Yk(w,E)},y.current||(v=!0),y.current=[w,E]);var k=cw({to:b,config:f,immediate:!u||v}),O=a.tooltip;O.basic,O.chip,O.container,O.table,O.tableCell,O.tableCellValue;var A=function(R,P){if(R==null)return{};var z={};for(var V in R)if({}.hasOwnProperty.call(R,V)){if(P.indexOf(V)!==-1)continue;z[V]=R[V]}return z}(O,QQ),M=ka({},ZQ,A,{transform:(e=k.transform)!=null?e:Yk(w,E),opacity:k.transform?1:0});return T.jsx(Lu.div,{ref:p,style:M,children:r})});q5.displayName="TooltipWrapper";var JQ=N.memo(function(t){var e=t.size,n=e===void 0?12:e,i=t.color,r=t.style;return T.jsx("span",{style:ka({display:"block",width:n,height:n,background:i},r===void 0?{}:r)})}),eZ=N.memo(function(t){var e,n=t.id,i=t.value,r=t.format,a=t.enableChip,l=a!==void 0&&a,u=t.color,f=t.renderContent,d=Xi(),p=Hu(r);if(typeof f=="function")e=f();else{var m=i;p!==void 0&&m!==void 0&&(m=p(m)),e=T.jsxs("div",{style:d.tooltip.basic,children:[l&&T.jsx(JQ,{color:u,style:d.tooltip.chip}),m!==void 0?T.jsxs("span",{children:[n,": ",T.jsx("strong",{children:""+m})]}):n]})}return T.jsx("div",{style:d.tooltip.container,role:"tooltip",children:e})}),tZ={width:"100%",borderCollapse:"collapse"},nZ=N.memo(function(t){var e,n=t.title,i=t.rows,r=i===void 0?[]:i,a=t.renderContent,l=Xi();return r.length?(e=typeof a=="function"?a():T.jsxs("div",{children:[n&&n,T.jsx("table",{style:ka({},tZ,l.tooltip.table),children:T.jsx("tbody",{children:r.map(function(u,f){return T.jsx("tr",{children:u.map(function(d,p){return T.jsx("td",{style:l.tooltip.tableCell,children:d},p)})},f)})})})]}),T.jsx("div",{style:l.tooltip.container,children:e})):null});nZ.displayName="TableTooltip";var w1=N.memo(function(t){var e=t.x0,n=t.x1,i=t.y0,r=t.y1,a=Xi(),l=Dw(),u=l.animate,f=l.config,d=N.useMemo(function(){return ka({},a.crosshair.line,{pointerEvents:"none"})},[a.crosshair.line]),p=cw({x1:e,x2:n,y1:i,y2:r,config:f,immediate:!u});return T.jsx(Lu.line,ka({},p,{fill:"none",style:d}))});w1.displayName="CrosshairLine";var iZ=N.memo(function(t){var e,n,i=t.width,r=t.height,a=t.type,l=t.x,u=t.y;return a==="cross"?(e={x0:l,x1:l,y0:0,y1:r},n={x0:0,x1:i,y0:u,y1:u}):a==="top-left"?(e={x0:l,x1:l,y0:0,y1:u},n={x0:0,x1:l,y0:u,y1:u}):a==="top"?e={x0:l,x1:l,y0:0,y1:u}:a==="top-right"?(e={x0:l,x1:l,y0:0,y1:u},n={x0:l,x1:i,y0:u,y1:u}):a==="right"?n={x0:l,x1:i,y0:u,y1:u}:a==="bottom-right"?(e={x0:l,x1:l,y0:u,y1:r},n={x0:l,x1:i,y0:u,y1:u}):a==="bottom"?e={x0:l,x1:l,y0:u,y1:r}:a==="bottom-left"?(e={x0:l,x1:l,y0:u,y1:r},n={x0:0,x1:l,y0:u,y1:u}):a==="left"?n={x0:0,x1:l,y0:u,y1:u}:a==="x"?e={x0:l,x1:l,y0:0,y1:r}:a==="y"&&(n={x0:0,x1:i,y0:u,y1:u}),T.jsxs(T.Fragment,{children:[e&&T.jsx(w1,{x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1}),n&&T.jsx(w1,{x0:n.x0,x1:n.x1,y0:n.y0,y1:n.y1})]})});iZ.displayName="Crosshair";var B5=N.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),S1={isVisible:!1,position:[null,null],content:null,anchor:null},F5=N.createContext(S1),rZ=function(t){var e=N.useState(S1),n=e[0],i=e[1],r=N.useCallback(function(u,f,d){var p=f[0],m=f[1];d===void 0&&(d="top"),i({isVisible:!0,position:[p,m],anchor:d,content:u})},[i]),a=N.useCallback(function(u,f,d){d===void 0&&(d="top");var p=t.current.getBoundingClientRect(),m=t.current.offsetWidth,y=m===p.width?1:m/p.width,b="touches"in f?f.touches[0]:f,v=b.clientX,x=b.clientY,w=(v-p.left)*y,E=(x-p.top)*y;d!=="left"&&d!=="right"||(d=w<p.width/2?"right":"left"),i({isVisible:!0,position:[w,E],anchor:d,content:u})},[t,i]),l=N.useCallback(function(){i(S1)},[i]);return{actions:N.useMemo(function(){return{showTooltipAt:r,showTooltipFromEvent:a,hideTooltip:l}},[r,a,l]),state:n}},bw=function(){var t=N.useContext(B5);if(t===void 0)throw new Error("useTooltip must be used within a TooltipProvider");return t},sZ=function(){var t=N.useContext(F5);if(t===void 0)throw new Error("useTooltipState must be used within a TooltipProvider");return t},aZ=function(t){return t.isVisible},oZ=function(){var t=sZ();return aZ(t)?T.jsx(q5,{position:t.position,anchor:t.anchor,children:t.content}):null},lZ=function(t){var e=t.container,n=t.children,i=rZ(e),r=i.actions,a=i.state;return T.jsx(B5.Provider,{value:r,children:T.jsx(F5.Provider,{value:a,children:n})})},vb,Gk;function cZ(){if(Gk)return vb;Gk=1;var t=Ls(),e=Si(),n=jr(),i="[object String]";function r(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==i}return vb=r,vb}var uZ=cZ();const fZ=Wi(uZ);function Gg(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vw(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function ml(){}var Oa=.7,Jo=1/Oa,Fo="\\s*([+-]?\\d+)\\s*",ju="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dZ=/^#([0-9a-f]{3,8})$/,hZ=new RegExp(`^rgb\\(${Fo},${Fo},${Fo}\\)$`),gZ=new RegExp(`^rgb\\(${Hi},${Hi},${Hi}\\)$`),pZ=new RegExp(`^rgba\\(${Fo},${Fo},${Fo},${ju}\\)$`),mZ=new RegExp(`^rgba\\(${Hi},${Hi},${Hi},${ju}\\)$`),_Z=new RegExp(`^hsl\\(${ju},${Hi},${Hi}\\)$`),yZ=new RegExp(`^hsla\\(${ju},${Hi},${Hi},${ju}\\)$`),Kk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gg(ml,xw,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Xk,formatHex:Xk,formatHex8:bZ,formatHsl:vZ,formatRgb:Qk,toString:Qk});function Xk(){return this.rgb().formatHex()}function bZ(){return this.rgb().formatHex8()}function vZ(){return W5(this).formatHsl()}function Qk(){return this.rgb().formatRgb()}function xw(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=dZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Zk(e):n===3?new rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ud(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ud(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hZ.exec(t))?new rn(e[1],e[2],e[3],1):(e=gZ.exec(t))?new rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pZ.exec(t))?Ud(e[1],e[2],e[3],e[4]):(e=mZ.exec(t))?Ud(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_Z.exec(t))?t3(e[1],e[2]/100,e[3]/100,1):(e=yZ.exec(t))?t3(e[1],e[2]/100,e[3]/100,e[4]):Kk.hasOwnProperty(t)?Zk(Kk[t]):t==="transparent"?new rn(NaN,NaN,NaN,0):null}function Zk(t){return new rn(t>>16&255,t>>8&255,t&255,1)}function Ud(t,e,n,i){return i<=0&&(t=e=n=NaN),new rn(t,e,n,i)}function V5(t){return t instanceof ml||(t=xw(t)),t?(t=t.rgb(),new rn(t.r,t.g,t.b,t.opacity)):new rn}function zu(t,e,n,i){return arguments.length===1?V5(t):new rn(t,e,n,i??1)}function rn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Gg(rn,zu,vw(ml,{brighter(t){return t=t==null?Jo:Math.pow(Jo,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Oa:Math.pow(Oa,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rn(ba(this.r),ba(this.g),ba(this.b),Fh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jk,formatHex:Jk,formatHex8:xZ,formatRgb:e3,toString:e3}));function Jk(){return`#${_a(this.r)}${_a(this.g)}${_a(this.b)}`}function xZ(){return`#${_a(this.r)}${_a(this.g)}${_a(this.b)}${_a((isNaN(this.opacity)?1:this.opacity)*255)}`}function e3(){const t=Fh(this.opacity);return`${t===1?"rgb(":"rgba("}${ba(this.r)}, ${ba(this.g)}, ${ba(this.b)}${t===1?")":`, ${t})`}`}function Fh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ba(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _a(t){return t=ba(t),(t<16?"0":"")+t.toString(16)}function t3(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ci(t,e,n,i)}function W5(t){if(t instanceof ci)return new ci(t.h,t.s,t.l,t.opacity);if(t instanceof ml||(t=xw(t)),!t)return new ci;if(t instanceof ci)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),l=NaN,u=a-r,f=(a+r)/2;return u?(e===a?l=(n-i)/u+(n<i)*6:n===a?l=(i-e)/u+2:l=(e-n)/u+4,u/=f<.5?a+r:2-a-r,l*=60):u=f>0&&f<1?0:l,new ci(l,u,f,t.opacity)}function wZ(t,e,n,i){return arguments.length===1?W5(t):new ci(t,e,n,i??1)}function ci(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Gg(ci,wZ,vw(ml,{brighter(t){return t=t==null?Jo:Math.pow(Jo,t),new ci(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Oa:Math.pow(Oa,t),new ci(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new rn(xb(t>=240?t-240:t+120,r,i),xb(t,r,i),xb(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new ci(n3(this.h),Hd(this.s),Hd(this.l),Fh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fh(this.opacity);return`${t===1?"hsl(":"hsla("}${n3(this.h)}, ${Hd(this.s)*100}%, ${Hd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function n3(t){return t=(t||0)%360,t<0?t+360:t}function Hd(t){return Math.max(0,Math.min(1,t||0))}function xb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const SZ=Math.PI/180,TZ=180/Math.PI;var $5=-.14861,ww=1.78277,Sw=-.29227,Kg=-.90649,Uu=1.97294,i3=Uu*Kg,r3=Uu*ww,s3=ww*Sw-Kg*$5;function EZ(t){if(t instanceof va)return new va(t.h,t.s,t.l,t.opacity);t instanceof rn||(t=V5(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(s3*i+i3*e-r3*n)/(s3+i3-r3),a=i-r,l=(Uu*(n-r)-Sw*a)/Kg,u=Math.sqrt(l*l+a*a)/(Uu*r*(1-r)),f=u?Math.atan2(l,a)*TZ-120:NaN;return new va(f<0?f+360:f,u,r,t.opacity)}function Vi(t,e,n,i){return arguments.length===1?EZ(t):new va(t,e,n,i??1)}function va(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Gg(va,Vi,vw(ml,{brighter(t){return t=t==null?Jo:Math.pow(Jo,t),new va(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Oa:Math.pow(Oa,t),new va(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*SZ,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new rn(255*(e+n*($5*i+ww*r)),255*(e+n*(Sw*i+Kg*r)),255*(e+n*(Uu*i)),this.opacity)}}));function CZ(t,e,n,i,r){var a=t*t,l=a*t;return((1-3*t+3*a-l)*e+(4-6*a+3*l)*n+(1+3*t+3*a-3*l)*i+l*r)/6}function AZ(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],a=t[i+1],l=i>0?t[i-1]:2*r-a,u=i<e-1?t[i+2]:2*a-r;return CZ((n-i/e)*e,l,r,a,u)}}const Tw=t=>()=>t;function Y5(t,e){return function(n){return t+n*e}}function RZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function MZ(t,e){var n=e-t;return n?Y5(t,n>180||n<-180?n-360*Math.round(n/360):n):Tw(isNaN(t)?e:t)}function kZ(t){return(t=+t)==1?Vo:function(e,n){return n-e?RZ(e,n,t):Tw(isNaN(e)?n:e)}}function Vo(t,e){var n=e-t;return n?Y5(t,n):Tw(isNaN(t)?e:t)}(function t(e){var n=kZ(e);function i(r,a){var l=n((r=zu(r)).r,(a=zu(a)).r),u=n(r.g,a.g),f=n(r.b,a.b),d=Vo(r.opacity,a.opacity);return function(p){return r.r=l(p),r.g=u(p),r.b=f(p),r.opacity=d(p),r+""}}return i.gamma=t,i})(1);function OZ(t){return function(e){var n=e.length,i=new Array(n),r=new Array(n),a=new Array(n),l,u;for(l=0;l<n;++l)u=zu(e[l]),i[l]=u.r||0,r[l]=u.g||0,a[l]=u.b||0;return i=t(i),r=t(r),a=t(a),u.opacity=1,function(f){return u.r=i(f),u.g=r(f),u.b=a(f),u+""}}}var NZ=OZ(AZ);function G5(t){return function e(n){n=+n;function i(r,a){var l=t((r=Vi(r)).h,(a=Vi(a)).h),u=Vo(r.s,a.s),f=Vo(r.l,a.l),d=Vo(r.opacity,a.opacity);return function(p){return r.h=l(p),r.s=u(p),r.l=f(Math.pow(p,n)),r.opacity=d(p),r+""}}return i.gamma=e,i}(1)}G5(MZ);var Ew=G5(Vo),wb,a3;function IZ(){if(a3)return wb;a3=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return wb=e,wb}var Sb,o3;function DZ(){if(o3)return Sb;o3=1;function t(e){return this.__data__.has(e)}return Sb=t,Sb}var Tb,l3;function K5(){if(l3)return Tb;l3=1;var t=fw(),e=IZ(),n=DZ();function i(r){var a=-1,l=r==null?0:r.length;for(this.__data__=new t;++a<l;)this.add(r[a])}return i.prototype.add=i.prototype.push=e,i.prototype.has=n,Tb=i,Tb}var Eb,c3;function PZ(){if(c3)return Eb;c3=1;function t(e,n,i,r){for(var a=e.length,l=i+(r?1:-1);r?l--:++l<a;)if(n(e[l],l,e))return l;return-1}return Eb=t,Eb}var Cb,u3;function LZ(){if(u3)return Cb;u3=1;function t(e){return e!==e}return Cb=t,Cb}var Ab,f3;function jZ(){if(f3)return Ab;f3=1;function t(e,n,i){for(var r=i-1,a=e.length;++r<a;)if(e[r]===n)return r;return-1}return Ab=t,Ab}var Rb,d3;function zZ(){if(d3)return Rb;d3=1;var t=PZ(),e=LZ(),n=jZ();function i(r,a,l){return a===a?n(r,a,l):t(r,e,l)}return Rb=i,Rb}var Mb,h3;function UZ(){if(h3)return Mb;h3=1;var t=zZ();function e(n,i){var r=n==null?0:n.length;return!!r&&t(n,i,0)>-1}return Mb=e,Mb}var kb,g3;function HZ(){if(g3)return kb;g3=1;function t(e,n,i){for(var r=-1,a=e==null?0:e.length;++r<a;)if(i(n,e[r]))return!0;return!1}return kb=t,kb}var Ob,p3;function X5(){if(p3)return Ob;p3=1;function t(e,n){return e.has(n)}return Ob=t,Ob}var Nb,m3;function qZ(){if(m3)return Nb;m3=1;var t=K5(),e=UZ(),n=HZ(),i=j5(),r=mw(),a=X5(),l=200;function u(f,d,p,m){var y=-1,b=e,v=!0,x=f.length,w=[],E=d.length;if(!x)return w;p&&(d=i(d,r(p))),m?(b=n,v=!1):d.length>=l&&(b=a,v=!1,d=new t(d));e:for(;++y<x;){var k=f[y],O=p==null?k:p(k);if(k=m||k!==0?k:0,v&&O===O){for(var A=E;A--;)if(d[A]===O)continue e;w.push(k)}else b(d,O,m)||w.push(k)}return w}return Nb=u,Nb}var Ib,_3;function BZ(){if(_3)return Ib;_3=1;var t=qZ(),e=D5(),n=T5(),i=e(function(r,a){return n(r)?t(r,a):[]});return Ib=i,Ib}var FZ=BZ();const Q5=Wi(FZ),y3=1e-12;function Z5(t){this._context=t}Z5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function VZ(t){return new Z5(t)}function Is(){}function Vh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Xg(t){this._context=t}Xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WZ(t){return new Xg(t)}function J5(t){this._context=t}J5.prototype={areaStart:Is,areaEnd:Is,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Vh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Z(t){return new J5(t)}function e8(t){this._context=t}e8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Vh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function YZ(t){return new e8(t)}function t8(t,e){this._basis=new Xg(t),this._beta=e}t8.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i=t[0],r=e[0],a=t[n]-i,l=e[n]-r,u=-1,f;++u<=n;)f=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+f*a),this._beta*e[u]+(1-this._beta)*(r+f*l));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const GZ=function t(e){function n(i){return e===1?new Xg(i):new t8(i,e)}return n.beta=function(i){return t(+i)},n}(.85);function Wh(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Cw(t,e){this._context=t,this._k=(1-e)/6}Cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Wh(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Wh(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const KZ=function t(e){function n(i){return new Cw(i,e)}return n.tension=function(i){return t(+i)},n}(0);function Aw(t,e){this._context=t,this._k=(1-e)/6}Aw.prototype={areaStart:Is,areaEnd:Is,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Wh(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const XZ=function t(e){function n(i){return new Aw(i,e)}return n.tension=function(i){return t(+i)},n}(0);function Rw(t,e){this._context=t,this._k=(1-e)/6}Rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wh(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const QZ=function t(e){function n(i){return new Rw(i,e)}return n.tension=function(i){return t(+i)},n}(0);function Mw(t,e,n){var i=t._x1,r=t._y1,a=t._x2,l=t._y2;if(t._l01_a>y3){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,r=(r*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>y3){var d=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*d+t._x1*t._l23_2a-e*t._l12_2a)/p,l=(l*d+t._y1*t._l23_2a-n*t._l12_2a)/p}t._context.bezierCurveTo(i,r,a,l,t._x2,t._y2)}function n8(t,e){this._context=t,this._alpha=e}n8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Mw(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ZZ=function t(e){function n(i){return e?new n8(i,e):new Cw(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function i8(t,e){this._context=t,this._alpha=e}i8.prototype={areaStart:Is,areaEnd:Is,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Mw(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const JZ=function t(e){function n(i){return e?new i8(i,e):new Aw(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function r8(t,e){this._context=t,this._alpha=e}r8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Mw(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const eJ=function t(e){function n(i){return e?new r8(i,e):new Rw(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function s8(t){this._context=t}s8.prototype={areaStart:Is,areaEnd:Is,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function tJ(t){return new s8(t)}function b3(t){return t<0?-1:1}function v3(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),l=(n-t._y1)/(r||i<0&&-0),u=(a*r+l*i)/(i+r);return(b3(a)+b3(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function x3(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Db(t,e,n){var i=t._x0,r=t._y0,a=t._x1,l=t._y1,u=(a-i)/3;t._context.bezierCurveTo(i+u,r+u*e,a-u,l-u*n,a,l)}function $h(t){this._context=t}$h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Db(this,this._t0,x3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Db(this,x3(this,n=v3(this,t,e)),n);break;default:Db(this,this._t0,n=v3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function a8(t){this._context=new o8(t)}(a8.prototype=Object.create($h.prototype)).point=function(t,e){$h.prototype.point.call(this,e,t)};function o8(t){this._context=t}o8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,a){this._context.bezierCurveTo(e,t,i,n,a,r)}};function nJ(t){return new $h(t)}function iJ(t){return new a8(t)}function l8(t){this._context=t}l8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=w3(t),r=w3(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function w3(t){var e,n=t.length-1,i,r=new Array(n),a=new Array(n),l=new Array(n);for(r[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=r[e]/a[e-1],a[e]-=i,l[e]-=i*l[e-1];for(r[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)r[e]=(l[e]-r[e+1])/a[e];for(a[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}function rJ(t){return new l8(t)}function Qg(t,e){this._context=t,this._t=e}Qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function sJ(t){return new Qg(t,.5)}function aJ(t){return new Qg(t,0)}function oJ(t){return new Qg(t,1)}function rh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function c8(t){let e,n,i;t.length!==2?(e=rh,n=(u,f)=>rh(t(u),f),i=(u,f)=>t(u)-f):(e=t===rh||t===lJ?t:cJ,n=t,i=t);function r(u,f,d=0,p=u.length){if(d<p){if(e(f,f)!==0)return p;do{const m=d+p>>>1;n(u[m],f)<0?d=m+1:p=m}while(d<p)}return d}function a(u,f,d=0,p=u.length){if(d<p){if(e(f,f)!==0)return p;do{const m=d+p>>>1;n(u[m],f)<=0?d=m+1:p=m}while(d<p)}return d}function l(u,f,d=0,p=u.length){const m=r(u,f,d,p-1);return m>d&&i(u[m-1],f)>-i(u[m],f)?m-1:m}return{left:r,center:l,right:a}}function cJ(){return 0}function uJ(t){return t===null?NaN:+t}const fJ=c8(rh),dJ=fJ.right;c8(uJ).center;class S3 extends Map{constructor(e,n=pJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(T3(this,e))}has(e){return super.has(T3(this,e))}set(e,n){return super.set(hJ(this,e),n)}delete(e){return super.delete(gJ(this,e))}}function T3({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function hJ({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function gJ({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function pJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}const mJ=Math.sqrt(50),_J=Math.sqrt(10),yJ=Math.sqrt(2);function Yh(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),l=a>=mJ?10:a>=_J?5:a>=yJ?2:1;let u,f,d;return r<0?(d=Math.pow(10,-r)/l,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,r)*l,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?Yh(t,e,n*2):[u,f,d]}function bJ(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[r,a,l]=i?Yh(e,t,n):Yh(t,e,n);if(!(a>=r))return[];const u=a-r+1,f=new Array(u);if(i)if(l<0)for(let d=0;d<u;++d)f[d]=(a-d)/-l;else for(let d=0;d<u;++d)f[d]=(a-d)*l;else if(l<0)for(let d=0;d<u;++d)f[d]=(r+d)/-l;else for(let d=0;d<u;++d)f[d]=(r+d)*l;return f}function T1(t,e,n){return e=+e,t=+t,n=+n,Yh(t,e,n)[2]}function vJ(t,e,n){e=+e,t=+t,n=+n;const i=e<t,r=i?T1(e,t,n):T1(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}function u8(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const E3=Symbol("implicit");function f8(){var t=new S3,e=[],n=[],i=E3;function r(a){let l=t.get(a);if(l===void 0){if(i!==E3)return i;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return r.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new S3;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return r},r.range=function(a){return arguments.length?(n=Array.from(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return f8(e,n).unknown(i)},u8.apply(r,arguments),r}function xJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Gh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function el(t){return t=Gh(Math.abs(t)),t?t[1]:NaN}function wJ(t,e){return function(n,i){for(var r=n.length,a=[],l=0,u=t[0],f=0;r>0&&u>0&&(f+u+1>i&&(u=Math.max(1,i-f)),a.push(n.substring(r-=u,r+u)),!((f+=u+1)>i));)u=t[l=(l+1)%t.length];return a.reverse().join(e)}}function SJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var TJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kh(t){if(!(e=TJ.exec(t)))throw new Error("invalid format: "+t);var e;return new kw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Kh.prototype=kw.prototype;function kw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}kw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function EJ(t){e:for(var e=t.length,n=1,i=-1,r;n<e;++n)switch(t[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(r+1):t}var d8;function CJ(t,e){var n=Gh(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(d8=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=i.length;return a===l?i:a>l?i+new Array(a-l+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Gh(t,Math.max(0,e+a-1))[0]}function C3(t,e){var n=Gh(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const A3={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:xJ,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return C3(t*100,e)},r:C3,s:CJ,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function R3(t){return t}var M3=Array.prototype.map,k3=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function AJ(t){var e=t.grouping===void 0||t.thousands===void 0?R3:wJ(M3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",r=t.decimal+"",a=t.numerals===void 0?R3:SJ(M3.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(m){m=Kh(m);var y=m.fill,b=m.align,v=m.sign,x=m.symbol,w=m.zero,E=m.width,k=m.comma,O=m.precision,A=m.trim,M=m.type;M==="n"?(k=!0,M="g"):A3[M]||(O===void 0&&(O=12),A=!0,M="g"),(w||y==="0"&&b==="=")&&(w=!0,y="0",b="=");var R=x==="$"?n:x==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",P=x==="$"?i:/[%p]/.test(M)?l:"",z=A3[M],V=/[defgprs%]/.test(M);O=O===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function $(U){var Q=R,J=P,re,ee,L;if(M==="c")J=z(U)+J,U="";else{U=+U;var Y=U<0||1/U<0;if(U=isNaN(U)?f:z(Math.abs(U),O),A&&(U=EJ(U)),Y&&+U==0&&v!=="+"&&(Y=!1),Q=(Y?v==="("?v:u:v==="-"||v==="("?"":v)+Q,J=(M==="s"?k3[8+d8/3]:"")+J+(Y&&v==="("?")":""),V){for(re=-1,ee=U.length;++re<ee;)if(L=U.charCodeAt(re),48>L||L>57){J=(L===46?r+U.slice(re+1):U.slice(re))+J,U=U.slice(0,re);break}}}k&&!w&&(U=e(U,1/0));var se=Q.length+U.length+J.length,ce=se<E?new Array(E-se+1).join(y):"";switch(k&&w&&(U=e(ce+U,ce.length?E-J.length:1/0),ce=""),b){case"<":U=Q+U+J+ce;break;case"=":U=Q+ce+U+J;break;case"^":U=ce.slice(0,se=ce.length>>1)+Q+U+J+ce.slice(se);break;default:U=ce+Q+U+J;break}return a(U)}return $.toString=function(){return m+""},$}function p(m,y){var b=d((m=Kh(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(el(y)/3)))*3,x=Math.pow(10,-v),w=k3[8+v/3];return function(E){return b(x*E)+w}}return{format:d,formatPrefix:p}}var qd,Ow,h8;RJ({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function RJ(t){return qd=AJ(t),Ow=qd.format,h8=qd.formatPrefix,qd}function MJ(t){return Math.max(0,-el(Math.abs(t)))}function kJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(el(e)/3)))*3-el(Math.abs(t)))}function OJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,el(e)-el(t))+1}function NJ(t,e,n,i){var r=vJ(t,e,n),a;switch(i=Kh(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=kJ(r,l))&&(i.precision=a),h8(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=OJ(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=MJ(r))&&(i.precision=a-(i.type==="%")*2);break}}return Ow(i)}function IJ(t){var e=t.domain;return t.ticks=function(n){var i=e();return bJ(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var r=e();return NJ(r[0],r[r.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),r=0,a=i.length-1,l=i[r],u=i[a],f,d,p=10;for(u<l&&(d=l,l=u,u=d,d=r,r=a,a=d);p-- >0;){if(d=T1(l,u,n),d===f)return i[r]=l,i[a]=u,e(i);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function g8(){var t=0,e=1,n=1,i=[.5],r=[0,1],a;function l(f){return f!=null&&f<=f?r[dJ(i,f,0,n)]:a}function u(){var f=-1;for(i=new Array(n);++f<n;)i[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},l.range=function(f){return arguments.length?(n=(r=Array.from(f)).length-1,u()):r.slice()},l.invertExtent=function(f){var d=r.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,i[0]]:d>=n?[i[n-1],e]:[i[d-1],i[d]]},l.unknown=function(f){return arguments.length&&(a=f),l},l.thresholds=function(){return i.slice()},l.copy=function(){return g8().domain([t,e]).range(r).unknown(a)},u8.apply(IJ(l),arguments)}var Pb=new Date,Lb=new Date;function Qi(t,e,n,i){function r(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=function(a){return t(a=new Date(+a)),a},r.ceil=function(a){return t(a=new Date(a-1)),e(a,1),t(a),a},r.round=function(a){var l=r(a),u=r.ceil(a);return a-l<u-a?l:u},r.offset=function(a,l){return e(a=new Date(+a),l==null?1:Math.floor(l)),a},r.range=function(a,l,u){var f=[],d;if(a=r.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return f;do f.push(d=new Date(+a)),e(a,u),t(a);while(d<a&&a<l);return f},r.filter=function(a){return Qi(function(l){if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},function(l,u){if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!a(l););else for(;--u>=0;)for(;e(l,1),!a(l););})},n&&(r.count=function(a,l){return Pb.setTime(+a),Lb.setTime(+l),t(Pb),t(Lb),Math.floor(n(Pb,Lb))},r.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?function(l){return i(l)%a===0}:function(l){return r.count(0,l)%a===0}):r}),r}var p8=6e4,m8=864e5,_8=6048e5,Nw=Qi(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*p8)/m8},function(t){return t.getDate()-1}),DJ=Nw.range;function Ua(t){return Qi(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*p8)/_8})}var tl=Ua(0),Xh=Ua(1),PJ=Ua(2),LJ=Ua(3),nl=Ua(4),jJ=Ua(5),zJ=Ua(6),UJ=tl.range;Xh.range;PJ.range;LJ.range;nl.range;jJ.range;zJ.range;var HJ=Qi(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),qJ=HJ.range,xi=Qi(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});xi.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Qi(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};xi.range;var Iw=Qi(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/m8},function(t){return t.getUTCDate()-1});Iw.range;function Ha(t){return Qi(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/_8})}var y8=Ha(0),Qh=Ha(1),BJ=Ha(2),FJ=Ha(3),il=Ha(4),VJ=Ha(5),WJ=Ha(6);y8.range;Qh.range;BJ.range;FJ.range;il.range;VJ.range;WJ.range;var Na=Qi(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Na.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Qi(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};Na.range;function jb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function kc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function $J(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,a=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,d=Oc(r),p=Nc(r),m=Oc(a),y=Nc(a),b=Oc(l),v=Nc(l),x=Oc(u),w=Nc(u),E=Oc(f),k=Nc(f),O={a:Y,A:se,b:ce,B:D,c:null,d:L3,e:L3,f:pee,g:Eee,G:Aee,H:dee,I:hee,j:gee,L:b8,m:mee,M:_ee,p:K,q:ie,Q:U3,s:H3,S:yee,u:bee,U:vee,V:xee,w:wee,W:See,x:null,X:null,y:Tee,Y:Cee,Z:Ree,"%":z3},A={a:ne,A:ue,b:ge,B:fe,c:null,d:j3,e:j3,f:Nee,g:Bee,G:Vee,H:Mee,I:kee,j:Oee,L:x8,m:Iee,M:Dee,p:$e,q:Re,Q:U3,s:H3,S:Pee,u:Lee,U:jee,V:zee,w:Uee,W:Hee,x:null,X:null,y:qee,Y:Fee,Z:Wee,"%":z3},M={a:$,A:U,b:Q,B:J,c:re,d:D3,e:D3,f:lee,g:I3,G:N3,H:P3,I:P3,j:ree,L:oee,m:iee,M:see,p:V,q:nee,Q:uee,s:fee,S:aee,u:QJ,U:ZJ,V:JJ,w:XJ,W:eee,x:ee,X:L,y:I3,Y:N3,Z:tee,"%":cee};O.x=R(n,O),O.X=R(i,O),O.c=R(e,O),A.x=R(n,A),A.X=R(i,A),A.c=R(e,A);function R(le,ye){return function(me){var te=[],ct=-1,Me=0,mt=le.length,ut,rt,ii;for(me instanceof Date||(me=new Date(+me));++ct<mt;)le.charCodeAt(ct)===37&&(te.push(le.slice(Me,ct)),(rt=O3[ut=le.charAt(++ct)])!=null?ut=le.charAt(++ct):rt=ut==="e"?" ":"0",(ii=ye[ut])&&(ut=ii(me,rt)),te.push(ut),Me=ct+1);return te.push(le.slice(Me,ct)),te.join("")}}function P(le,ye){return function(me){var te=kc(1900,void 0,1),ct=z(te,le,me+="",0),Me,mt;if(ct!=me.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(ye&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Me=zb(kc(te.y,0,1)),mt=Me.getUTCDay(),Me=mt>4||mt===0?Qh.ceil(Me):Qh(Me),Me=Iw.offset(Me,(te.V-1)*7),te.y=Me.getUTCFullYear(),te.m=Me.getUTCMonth(),te.d=Me.getUTCDate()+(te.w+6)%7):(Me=jb(kc(te.y,0,1)),mt=Me.getDay(),Me=mt>4||mt===0?Xh.ceil(Me):Xh(Me),Me=Nw.offset(Me,(te.V-1)*7),te.y=Me.getFullYear(),te.m=Me.getMonth(),te.d=Me.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),mt="Z"in te?zb(kc(te.y,0,1)).getUTCDay():jb(kc(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(mt+5)%7:te.w+te.U*7-(mt+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,zb(te)):jb(te)}}function z(le,ye,me,te){for(var ct=0,Me=ye.length,mt=me.length,ut,rt;ct<Me;){if(te>=mt)return-1;if(ut=ye.charCodeAt(ct++),ut===37){if(ut=ye.charAt(ct++),rt=M[ut in O3?ye.charAt(ct++):ut],!rt||(te=rt(le,me,te))<0)return-1}else if(ut!=me.charCodeAt(te++))return-1}return te}function V(le,ye,me){var te=d.exec(ye.slice(me));return te?(le.p=p.get(te[0].toLowerCase()),me+te[0].length):-1}function $(le,ye,me){var te=b.exec(ye.slice(me));return te?(le.w=v.get(te[0].toLowerCase()),me+te[0].length):-1}function U(le,ye,me){var te=m.exec(ye.slice(me));return te?(le.w=y.get(te[0].toLowerCase()),me+te[0].length):-1}function Q(le,ye,me){var te=E.exec(ye.slice(me));return te?(le.m=k.get(te[0].toLowerCase()),me+te[0].length):-1}function J(le,ye,me){var te=x.exec(ye.slice(me));return te?(le.m=w.get(te[0].toLowerCase()),me+te[0].length):-1}function re(le,ye,me){return z(le,e,ye,me)}function ee(le,ye,me){return z(le,n,ye,me)}function L(le,ye,me){return z(le,i,ye,me)}function Y(le){return l[le.getDay()]}function se(le){return a[le.getDay()]}function ce(le){return f[le.getMonth()]}function D(le){return u[le.getMonth()]}function K(le){return r[+(le.getHours()>=12)]}function ie(le){return 1+~~(le.getMonth()/3)}function ne(le){return l[le.getUTCDay()]}function ue(le){return a[le.getUTCDay()]}function ge(le){return f[le.getUTCMonth()]}function fe(le){return u[le.getUTCMonth()]}function $e(le){return r[+(le.getUTCHours()>=12)]}function Re(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ye=R(le+="",O);return ye.toString=function(){return le},ye},parse:function(le){var ye=P(le+="",!1);return ye.toString=function(){return le},ye},utcFormat:function(le){var ye=R(le+="",A);return ye.toString=function(){return le},ye},utcParse:function(le){var ye=P(le+="",!0);return ye.toString=function(){return le},ye}}}var O3={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,YJ=/^%/,GJ=/[\\^$*+?|[\]().{}]/g;function Ve(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function KJ(t){return t.replace(GJ,"\\$&")}function Oc(t){return new RegExp("^(?:"+t.map(KJ).join("|")+")","i")}function Nc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function XJ(t,e,n){var i=Ft.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function QJ(t,e,n){var i=Ft.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function ZJ(t,e,n){var i=Ft.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function JJ(t,e,n){var i=Ft.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function eee(t,e,n){var i=Ft.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function N3(t,e,n){var i=Ft.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function I3(t,e,n){var i=Ft.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function tee(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function nee(t,e,n){var i=Ft.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function iee(t,e,n){var i=Ft.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function D3(t,e,n){var i=Ft.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ree(t,e,n){var i=Ft.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function P3(t,e,n){var i=Ft.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function see(t,e,n){var i=Ft.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function aee(t,e,n){var i=Ft.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function oee(t,e,n){var i=Ft.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function lee(t,e,n){var i=Ft.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function cee(t,e,n){var i=YJ.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function uee(t,e,n){var i=Ft.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function fee(t,e,n){var i=Ft.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function L3(t,e){return Ve(t.getDate(),e,2)}function dee(t,e){return Ve(t.getHours(),e,2)}function hee(t,e){return Ve(t.getHours()%12||12,e,2)}function gee(t,e){return Ve(1+Nw.count(xi(t),t),e,3)}function b8(t,e){return Ve(t.getMilliseconds(),e,3)}function pee(t,e){return b8(t,e)+"000"}function mee(t,e){return Ve(t.getMonth()+1,e,2)}function _ee(t,e){return Ve(t.getMinutes(),e,2)}function yee(t,e){return Ve(t.getSeconds(),e,2)}function bee(t){var e=t.getDay();return e===0?7:e}function vee(t,e){return Ve(tl.count(xi(t)-1,t),e,2)}function v8(t){var e=t.getDay();return e>=4||e===0?nl(t):nl.ceil(t)}function xee(t,e){return t=v8(t),Ve(nl.count(xi(t),t)+(xi(t).getDay()===4),e,2)}function wee(t){return t.getDay()}function See(t,e){return Ve(Xh.count(xi(t)-1,t),e,2)}function Tee(t,e){return Ve(t.getFullYear()%100,e,2)}function Eee(t,e){return t=v8(t),Ve(t.getFullYear()%100,e,2)}function Cee(t,e){return Ve(t.getFullYear()%1e4,e,4)}function Aee(t,e){var n=t.getDay();return t=n>=4||n===0?nl(t):nl.ceil(t),Ve(t.getFullYear()%1e4,e,4)}function Ree(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ve(e/60|0,"0",2)+Ve(e%60,"0",2)}function j3(t,e){return Ve(t.getUTCDate(),e,2)}function Mee(t,e){return Ve(t.getUTCHours(),e,2)}function kee(t,e){return Ve(t.getUTCHours()%12||12,e,2)}function Oee(t,e){return Ve(1+Iw.count(Na(t),t),e,3)}function x8(t,e){return Ve(t.getUTCMilliseconds(),e,3)}function Nee(t,e){return x8(t,e)+"000"}function Iee(t,e){return Ve(t.getUTCMonth()+1,e,2)}function Dee(t,e){return Ve(t.getUTCMinutes(),e,2)}function Pee(t,e){return Ve(t.getUTCSeconds(),e,2)}function Lee(t){var e=t.getUTCDay();return e===0?7:e}function jee(t,e){return Ve(y8.count(Na(t)-1,t),e,2)}function w8(t){var e=t.getUTCDay();return e>=4||e===0?il(t):il.ceil(t)}function zee(t,e){return t=w8(t),Ve(il.count(Na(t),t)+(Na(t).getUTCDay()===4),e,2)}function Uee(t){return t.getUTCDay()}function Hee(t,e){return Ve(Qh.count(Na(t)-1,t),e,2)}function qee(t,e){return Ve(t.getUTCFullYear()%100,e,2)}function Bee(t,e){return t=w8(t),Ve(t.getUTCFullYear()%100,e,2)}function Fee(t,e){return Ve(t.getUTCFullYear()%1e4,e,4)}function Vee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?il(t):il.ceil(t),Ve(t.getUTCFullYear()%1e4,e,4)}function Wee(){return"+0000"}function z3(){return"%"}function U3(t){return+t}function H3(t){return Math.floor(+t/1e3)}var No,of;$ee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $ee(t){return No=$J(t),of=No.format,No.parse,No.utcFormat,No.utcParse,No}function Ee(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(i*6,++i*6);return n}const Yee=Ee("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Gee=Ee("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Kee=Ee("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Xee=Ee("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Qee=Ee("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Zee=Ee("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Jee=Ee("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ete=Ee("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),S8=Ee("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),tte=Ee("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),it=t=>NZ(t[t.length-1]);var Zg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ee);const nte=it(Zg);var Jg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ee);const ite=it(Jg);var ep=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ee);const rte=it(ep);var tp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ee);const ste=it(tp);var np=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ee);const ate=it(np);var ip=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ee);const ote=it(ip);var rp=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ee);const lte=it(rp);var sp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ee);const cte=it(sp);var ap=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ee);const ute=it(ap);var op=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ee);const fte=it(op);var lp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ee);const dte=it(lp);var cp=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ee);const hte=it(cp);var up=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ee);const gte=it(up);var fp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ee);const pte=it(fp);var dp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ee);const mte=it(dp);var hp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ee);const _te=it(hp);var gp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ee);const yte=it(gp);var pp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ee);const bte=it(pp);var mp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ee);const vte=it(mp);var _p=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ee);const xte=it(_p);var yp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ee);const wte=it(yp);var bp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ee);const Ste=it(bp);var vp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ee);const Tte=it(vp);var xp=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ee);const Ete=it(xp);var wp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ee);const Cte=it(wp);var Sp=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ee);const Ate=it(Sp);var Tp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ee);const Rte=it(Tp);function Mte(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const kte=Ew(Vi(300,.5,0),Vi(-240,.5,1));var Ote=Ew(Vi(-100,.75,.35),Vi(80,1.5,.8)),Nte=Ew(Vi(260,.75,.35),Vi(80,1.5,.8)),Bd=Vi();function Ite(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Bd.h=360*t-100,Bd.s=1.5-1.5*e,Bd.l=.8-.9*e,Bd+""}var Fd=zu(),Dte=Math.PI/3,Pte=Math.PI*2/3;function Lte(t){var e;return t=(.5-t)*Math.PI,Fd.r=255*(e=Math.sin(t))*e,Fd.g=255*(e=Math.sin(t+Dte))*e,Fd.b=255*(e=Math.sin(t+Pte))*e,Fd+""}function jte(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Ep(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const zte=Ep(Ee("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Ute=Ep(Ee("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Hte=Ep(Ee("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),qte=Ep(Ee("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Ub,q3;function Bte(){if(q3)return Ub;q3=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Ub=t,Ub}var Fte=Bte();const pe=Wi(Fte);Si();Hg();E5();var Hb,B3;function Vte(){if(B3)return Hb;B3=1;var t=z5(),e=U5(),n=Yg();function i(r,a,l){for(var u=-1,f=a.length,d={};++u<f;){var p=a[u],m=t(r,p);l(m,p)&&e(d,n(p,r),m)}return d}return Hb=i,Hb}var qb,F3;function Wte(){if(F3)return qb;F3=1;function t(e,n){return e!=null&&n in Object(e)}return qb=t,qb}var Bb,V3;function $te(){if(V3)return Bb;V3=1;var t=Yg(),e=Fg(),n=Si(),i=Wg(),r=gw(),a=yw();function l(u,f,d){f=t(f,u);for(var p=-1,m=f.length,y=!1;++p<m;){var b=a(f[p]);if(!(y=u!=null&&d(u,b)))break;u=u[b]}return y||++p!=m?y:(m=u==null?0:u.length,!!m&&r(m)&&i(b,m)&&(n(u)||e(u)))}return Bb=l,Bb}var Fb,W3;function Yte(){if(W3)return Fb;W3=1;var t=Wte(),e=$te();function n(i,r){return i!=null&&e(i,r,t)}return Fb=n,Fb}var Vb,$3;function Gte(){if($3)return Vb;$3=1;var t=Vte(),e=Yte();function n(i,r){return t(i,r,function(a,l){return e(i,l)})}return Vb=n,Vb}var Wb,Y3;function T8(){if(Y3)return Wb;Y3=1;function t(e,n){for(var i=-1,r=n.length,a=e.length;++i<r;)e[a+i]=n[i];return e}return Wb=t,Wb}var $b,G3;function Kte(){if(G3)return $b;G3=1;var t=af(),e=Fg(),n=Si(),i=t?t.isConcatSpreadable:void 0;function r(a){return n(a)||e(a)||!!(i&&a&&a[i])}return $b=r,$b}var Yb,K3;function Xte(){if(K3)return Yb;K3=1;var t=T8(),e=Kte();function n(i,r,a,l,u){var f=-1,d=i.length;for(a||(a=e),u||(u=[]);++f<d;){var p=i[f];r>0&&a(p)?r>1?n(p,r-1,a,l,u):t(u,p):l||(u[u.length]=p)}return u}return Yb=n,Yb}var Gb,X3;function Qte(){if(X3)return Gb;X3=1;var t=Xte();function e(n){var i=n==null?0:n.length;return i?t(n,1):[]}return Gb=e,Gb}var Kb,Q3;function Zte(){if(Q3)return Kb;Q3=1;var t=Qte(),e=N5(),n=I5();function i(r){return n(e(r,void 0,t),r+"")}return Kb=i,Kb}var Xb,Z3;function Jte(){if(Z3)return Xb;Z3=1;var t=Gte(),e=Zte(),n=e(function(i,r){return i==null?{}:t(i,r)});return Xb=n,Xb}Jte();var Qb,J3;function ene(){if(J3)return Qb;J3=1;function t(e,n){for(var i=-1,r=e==null?0:e.length;++i<r;)if(n(e[i],i,e))return!0;return!1}return Qb=t,Qb}var Zb,eO;function E8(){if(eO)return Zb;eO=1;var t=K5(),e=ene(),n=X5(),i=1,r=2;function a(l,u,f,d,p,m){var y=f&i,b=l.length,v=u.length;if(b!=v&&!(y&&v>b))return!1;var x=m.get(l),w=m.get(u);if(x&&w)return x==u&&w==l;var E=-1,k=!0,O=f&r?new t:void 0;for(m.set(l,u),m.set(u,l);++E<b;){var A=l[E],M=u[E];if(d)var R=y?d(M,A,E,u,l,m):d(A,M,E,l,u,m);if(R!==void 0){if(R)continue;k=!1;break}if(O){if(!e(u,function(P,z){if(!n(O,z)&&(A===P||p(A,P,f,d,m)))return O.push(z)})){k=!1;break}}else if(!(A===M||p(A,M,f,d,m))){k=!1;break}}return m.delete(l),m.delete(u),k}return Zb=a,Zb}var Jb,tO;function tne(){if(tO)return Jb;tO=1;function t(e){var n=-1,i=Array(e.size);return e.forEach(function(r,a){i[++n]=[a,r]}),i}return Jb=t,Jb}var ev,nO;function nne(){if(nO)return ev;nO=1;function t(e){var n=-1,i=Array(e.size);return e.forEach(function(r){i[++n]=r}),i}return ev=t,ev}var tv,iO;function ine(){if(iO)return tv;iO=1;var t=af(),e=x5(),n=sf(),i=E8(),r=tne(),a=nne(),l=1,u=2,f="[object Boolean]",d="[object Date]",p="[object Error]",m="[object Map]",y="[object Number]",b="[object RegExp]",v="[object Set]",x="[object String]",w="[object Symbol]",E="[object ArrayBuffer]",k="[object DataView]",O=t?t.prototype:void 0,A=O?O.valueOf:void 0;function M(R,P,z,V,$,U,Q){switch(z){case k:if(R.byteLength!=P.byteLength||R.byteOffset!=P.byteOffset)return!1;R=R.buffer,P=P.buffer;case E:return!(R.byteLength!=P.byteLength||!U(new e(R),new e(P)));case f:case d:case y:return n(+R,+P);case p:return R.name==P.name&&R.message==P.message;case b:case x:return R==P+"";case m:var J=r;case v:var re=V&l;if(J||(J=a),R.size!=P.size&&!re)return!1;var ee=Q.get(R);if(ee)return ee==P;V|=u,Q.set(R,P);var L=i(J(R),J(P),V,$,U,Q);return Q.delete(R),L;case w:if(A)return A.call(R)==A.call(P)}return!1}return tv=M,tv}var nv,rO;function rne(){if(rO)return nv;rO=1;var t=T8(),e=Si();function n(i,r,a){var l=r(i);return e(i)?l:t(l,a(i))}return nv=n,nv}var iv,sO;function sne(){if(sO)return iv;sO=1;function t(e,n){for(var i=-1,r=e==null?0:e.length,a=0,l=[];++i<r;){var u=e[i];n(u,i,e)&&(l[a++]=u)}return l}return iv=t,iv}var rv,aO;function ane(){if(aO)return rv;aO=1;function t(){return[]}return rv=t,rv}var sv,oO;function one(){if(oO)return sv;oO=1;var t=sne(),e=ane(),n=Object.prototype,i=n.propertyIsEnumerable,r=Object.getOwnPropertySymbols,a=r?function(l){return l==null?[]:(l=Object(l),t(r(l),function(u){return i.call(l,u)}))}:e;return sv=a,sv}var av,lO;function lne(){if(lO)return av;lO=1;var t=w5(),e=t(Object.keys,Object);return av=e,av}var ov,cO;function cne(){if(cO)return ov;cO=1;var t=hw(),e=lne(),n=Object.prototype,i=n.hasOwnProperty;function r(a){if(!t(a))return e(a);var l=[];for(var u in Object(a))i.call(a,u)&&u!="constructor"&&l.push(u);return l}return ov=r,ov}var lv,uO;function une(){if(uO)return lv;uO=1;var t=M5(),e=cne(),n=Vg();function i(r){return n(r)?t(r):e(r)}return lv=i,lv}var cv,fO;function fne(){if(fO)return cv;fO=1;var t=rne(),e=one(),n=une();function i(r){return t(r,n,e)}return cv=i,cv}var uv,dO;function dne(){if(dO)return uv;dO=1;var t=fne(),e=1,n=Object.prototype,i=n.hasOwnProperty;function r(a,l,u,f,d,p){var m=u&e,y=t(a),b=y.length,v=t(l),x=v.length;if(b!=x&&!m)return!1;for(var w=b;w--;){var E=y[w];if(!(m?E in l:i.call(l,E)))return!1}var k=p.get(a),O=p.get(l);if(k&&O)return k==l&&O==a;var A=!0;p.set(a,l),p.set(l,a);for(var M=m;++w<b;){E=y[w];var R=a[E],P=l[E];if(f)var z=m?f(P,R,E,l,a,p):f(R,P,E,a,l,p);if(!(z===void 0?R===P||d(R,P,u,f,p):z)){A=!1;break}M||(M=E=="constructor")}if(A&&!M){var V=a.constructor,$=l.constructor;V!=$&&"constructor"in a&&"constructor"in l&&!(typeof V=="function"&&V instanceof V&&typeof $=="function"&&$ instanceof $)&&(A=!1)}return p.delete(a),p.delete(l),A}return uv=r,uv}var fv,hO;function hne(){if(hO)return fv;hO=1;var t=za(),e=Ki(),n=t(e,"DataView");return fv=n,fv}var dv,gO;function gne(){if(gO)return dv;gO=1;var t=za(),e=Ki(),n=t(e,"Promise");return dv=n,dv}var hv,pO;function pne(){if(pO)return hv;pO=1;var t=za(),e=Ki(),n=t(e,"Set");return hv=n,hv}var gv,mO;function mne(){if(mO)return gv;mO=1;var t=za(),e=Ki(),n=t(e,"WeakMap");return gv=n,gv}var pv,_O;function _ne(){if(_O)return pv;_O=1;var t=hne(),e=uw(),n=gne(),i=pne(),r=mne(),a=Ls(),l=_5(),u="[object Map]",f="[object Object]",d="[object Promise]",p="[object Set]",m="[object WeakMap]",y="[object DataView]",b=l(t),v=l(e),x=l(n),w=l(i),E=l(r),k=a;return(t&&k(new t(new ArrayBuffer(1)))!=y||e&&k(new e)!=u||n&&k(n.resolve())!=d||i&&k(new i)!=p||r&&k(new r)!=m)&&(k=function(O){var A=a(O),M=A==f?O.constructor:void 0,R=M?l(M):"";if(R)switch(R){case b:return y;case v:return u;case x:return d;case w:return p;case E:return m}return A}),pv=k,pv}var mv,yO;function yne(){if(yO)return mv;yO=1;var t=y5(),e=E8(),n=ine(),i=dne(),r=_ne(),a=Si(),l=pw(),u=_w(),f=1,d="[object Arguments]",p="[object Array]",m="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function v(x,w,E,k,O,A){var M=a(x),R=a(w),P=M?p:r(x),z=R?p:r(w);P=P==d?m:P,z=z==d?m:z;var V=P==m,$=z==m,U=P==z;if(U&&l(x)){if(!l(w))return!1;M=!0,V=!1}if(U&&!V)return A||(A=new t),M||u(x)?e(x,w,E,k,O,A):n(x,w,P,E,k,O,A);if(!(E&f)){var Q=V&&b.call(x,"__wrapped__"),J=$&&b.call(w,"__wrapped__");if(Q||J){var re=Q?x.value():x,ee=J?w.value():w;return A||(A=new t),O(re,ee,E,k,A)}}return U?(A||(A=new t),i(x,w,E,k,O,A)):!1}return mv=v,mv}var _v,bO;function bne(){if(bO)return _v;bO=1;var t=yne(),e=jr();function n(i,r,a,l,u){return i===r?!0:i==null||r==null||!e(i)&&!e(r)?i!==i&&r!==r:t(i,r,a,l,n,u)}return _v=n,_v}var yv,vO;function vne(){if(vO)return yv;vO=1;var t=bne();function e(n,i){return t(n,i)}return yv=e,yv}vne();var C8=N.createContext(),xne=function(t){var e=t.children,n=t.animate,i=n===void 0||n,r=t.config,a=r===void 0?"default":r,l=N.useMemo(function(){var u=fZ(a)?n5[a]:a;return{animate:i,config:u}},[i,a]);return T.jsx(C8.Provider,{value:l,children:e})},Dw=function(){return N.useContext(C8)},wne=function(t){var e=t.children,n=t.condition,i=t.wrapper;return n?N.cloneElement(i,{},e):e},Sne={position:"relative"},Tne=function(t){var e=t.children,n=t.theme,i=t.renderWrapper,r=i===void 0||i,a=t.isInteractive,l=a===void 0||a,u=t.animate,f=t.motionConfig,d=N.useRef(null);return T.jsx(GQ,{theme:n,children:T.jsx(xne,{animate:u,config:f,children:T.jsx(lZ,{container:d,children:T.jsxs(wne,{condition:r,wrapper:T.jsx("div",{style:Sne,ref:d}),children:[e,l&&T.jsx(oZ,{})]})})})})},Ene={basis:WZ,basisClosed:$Z,basisOpen:YZ,bundle:GZ,cardinal:KZ,cardinalClosed:XZ,cardinalOpen:QZ,catmullRom:ZZ,catmullRomClosed:JZ,catmullRomOpen:eJ,linear:VZ,linearClosed:tJ,monotoneX:nJ,monotoneY:iJ,natural:rJ,step:sJ,stepAfter:oJ,stepBefore:aJ},Pw=Object.keys(Ene);Pw.filter(function(t){return t.endsWith("Closed")});Q5(Pw,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");Q5(Pw,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");function Ia(){return Ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ia.apply(null,arguments)}function A8(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}pe(Zg),pe(Jg),pe(ep),pe(tp),pe(np),pe(ip),pe(rp),pe(sp),pe(ap),pe(bp),pe(vp),pe(xp),pe(Tp),pe(wp),pe(Sp),pe(op),pe(lp),pe(cp),pe(up),pe(fp),pe(dp),pe(hp),pe(gp),pe(pp),pe(mp),pe(_p),pe(yp);pe(Zg),pe(Jg),pe(ep),pe(tp),pe(np),pe(ip),pe(rp),pe(sp),pe(ap),pe(bp),pe(vp),pe(xp),pe(Tp),pe(wp),pe(Sp),pe(op),pe(lp),pe(cp),pe(up),pe(fp),pe(dp),pe(hp),pe(gp),pe(pp),pe(mp),pe(_p),pe(yp);f8(S8);var Cne={top:0,right:0,bottom:0,left:0},R8=function(t,e,n){return n===void 0&&(n={}),N.useMemo(function(){var i=Ia({},Cne,n);return{margin:i,innerWidth:t-i.left-i.right,innerHeight:e-i.top-i.bottom,outerWidth:t,outerHeight:e}},[t,e,n])},M8=function(){var t=N.useRef(null),e=N.useState({left:0,top:0,width:0,height:0}),n=e[0],i=e[1],r=N.useState(function(){return typeof ResizeObserver>"u"?null:new ResizeObserver(function(a){var l=a[0];return i(l.contentRect)})})[0];return N.useEffect(function(){return t.current&&r!==null&&r.observe(t.current),function(){r!==null&&r.disconnect()}},[r]),[t,n]},Ane=function(t){return typeof t=="function"?t:typeof t=="string"?t.indexOf("time:")===0?of(t.slice("5")):Ow(t):function(e){return""+e}},Hu=function(t){return N.useMemo(function(){return Ane(t)},[t])},Rne=function(t){var e=t.children,n=M8(),i=n[0],r=n[1],a=r.width>0&&r.height>0;return T.jsx("div",{ref:i,style:{width:"100%",height:"100%"},children:a&&e({width:r.width,height:r.height})})},Mne=["id","colors"],kne=function(t){var e=t.id,n=t.colors,i=A8(t,Mne);return T.jsx("linearGradient",Ia({id:e,x1:0,x2:0,y1:0,y2:1},i,{children:n.map(function(r){var a=r.offset,l=r.color,u=r.opacity;return T.jsx("stop",{offset:a+"%",stopColor:l,stopOpacity:u!==void 0?u:1},a)})}))},One={linearGradient:kne},Ic={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},Nne=N.memo(function(t){var e=t.id,n=t.background,i=n===void 0?Ic.background:n,r=t.color,a=r===void 0?Ic.color:r,l=t.size,u=l===void 0?Ic.size:l,f=t.padding,d=f===void 0?Ic.padding:f,p=t.stagger,m=p===void 0?Ic.stagger:p,y=u+d,b=u/2,v=d/2;return m===!0&&(y=2*u+2*d),T.jsxs("pattern",{id:e,width:y,height:y,patternUnits:"userSpaceOnUse",children:[T.jsx("rect",{width:y,height:y,fill:i}),T.jsx("circle",{cx:v+b,cy:v+b,r:b,fill:a}),m&&T.jsx("circle",{cx:1.5*d+u+b,cy:1.5*d+u+b,r:b,fill:a})]})}),Zh=function(t){return t*Math.PI/180},Dc={spacing:5,rotation:0,background:"#000000",color:"#ffffff",lineWidth:2},Ine=N.memo(function(t){var e=t.id,n=t.spacing,i=n===void 0?Dc.spacing:n,r=t.rotation,a=r===void 0?Dc.rotation:r,l=t.background,u=l===void 0?Dc.background:l,f=t.color,d=f===void 0?Dc.color:f,p=t.lineWidth,m=p===void 0?Dc.lineWidth:p,y=Math.round(a)%360,b=Math.abs(i);y>180?y-=360:y>90?y-=180:y<-180?y+=360:y<-90&&(y+=180);var v,x=b,w=b;return y===0?v=`
                M 0 0 L `+x+` 0
                M 0 `+w+" L "+x+" "+w+`
            `:y===90?v=`
                M 0 0 L 0 `+w+`
                M `+x+" 0 L "+x+" "+w+`
            `:(x=Math.abs(b/Math.sin(Zh(y))),w=b/Math.sin(Zh(90-y)),v=y>0?`
                    M 0 `+-w+" L "+2*x+" "+w+`
                    M `+-x+" "+-w+" L "+x+" "+w+`
                    M `+-x+" 0 L "+x+" "+2*w+`
                `:`
                    M `+-x+" "+w+" L "+x+" "+-w+`
                    M `+-x+" "+2*w+" L "+2*x+" "+-w+`
                    M 0 `+2*w+" L "+2*x+` 0
                `),T.jsxs("pattern",{id:e,width:x,height:w,patternUnits:"userSpaceOnUse",children:[T.jsx("rect",{width:x,height:w,fill:u,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),T.jsx("path",{d:v,strokeWidth:m,stroke:d,strokeLinecap:"square"})]})}),Pc={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},Dne=N.memo(function(t){var e=t.id,n=t.color,i=n===void 0?Pc.color:n,r=t.background,a=r===void 0?Pc.background:r,l=t.size,u=l===void 0?Pc.size:l,f=t.padding,d=f===void 0?Pc.padding:f,p=t.stagger,m=p===void 0?Pc.stagger:p,y=u+d,b=d/2;return m===!0&&(y=2*u+2*d),T.jsxs("pattern",{id:e,width:y,height:y,patternUnits:"userSpaceOnUse",children:[T.jsx("rect",{width:y,height:y,fill:a}),T.jsx("rect",{x:b,y:b,width:u,height:u,fill:i}),m&&T.jsx("rect",{x:1.5*d+u,y:1.5*d+u,width:u,height:u,fill:i})]})}),Pne={patternDots:Nne,patternLines:Ine,patternSquares:Dne},Lne=["type"],xO=Ia({},One,Pne),jne=N.memo(function(t){var e=t.defs;return!e||e.length<1?null:T.jsx("defs",{"aria-hidden":!0,children:e.map(function(n){var i=n.type,r=A8(n,Lne);return xO[i]?N.createElement(xO[i],Ia({key:r.id},r)):null})})}),zne=function(t){var e=t.width,n=t.height,i=t.margin,r=t.defs,a=t.children,l=t.role,u=t.ariaLabel,f=t.ariaLabelledBy,d=t.ariaDescribedBy,p=t.isFocusable,m=Xi();return T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,role:l,"aria-label":u,"aria-labelledby":f,"aria-describedby":d,focusable:p,tabIndex:p?0:void 0,children:[T.jsx(jne,{defs:r}),T.jsx("rect",{width:e,height:n,fill:m.background}),T.jsx("g",{transform:"translate("+i.left+","+i.top+")",children:a})]})},Une=N.memo(function(t){var e=t.size,n=t.color,i=t.borderWidth,r=t.borderColor;return T.jsx("circle",{r:e/2,fill:n,stroke:r,strokeWidth:i,style:{pointerEvents:"none"}})});N.memo(function(t){var e=t.x,n=t.y,i=t.symbol,r=i===void 0?Une:i,a=t.size,l=t.datum,u=t.color,f=t.borderWidth,d=t.borderColor,p=t.label,m=t.labelTextAnchor,y=m===void 0?"middle":m,b=t.labelYOffset,v=b===void 0?-12:b,x=t.ariaLabel,w=t.ariaLabelledBy,E=t.ariaDescribedBy,k=t.ariaHidden,O=t.ariaDisabled,A=t.isFocusable,M=A!==void 0&&A,R=t.tabIndex,P=R===void 0?0:R,z=t.onFocus,V=t.onBlur,$=t.testId,U=Xi(),Q=Dw(),J=Q.animate,re=Q.config,ee=cw({transform:"translate("+e+", "+n+")",config:re,immediate:!J}),L=N.useCallback(function(se){z==null||z(l,se)},[z,l]),Y=N.useCallback(function(se){V==null||V(l,se)},[V,l]);return T.jsxs(Lu.g,{transform:ee.transform,style:{pointerEvents:"none"},focusable:M,tabIndex:M?P:void 0,"aria-label":x,"aria-labelledby":w,"aria-describedby":E,"aria-disabled":O,"aria-hidden":k,onFocus:M&&z?L:void 0,onBlur:M&&V?Y:void 0,"data-testid":$,children:[N.createElement(r,{size:a,color:u,datum:l,borderWidth:f,borderColor:d}),p&&T.jsx("text",{textAnchor:y,y:v,style:XQ(U.dots.text),children:p})]})});var Hne=N.memo(function(t){var e=t.width,n=t.height,i=t.axis,r=t.scale,a=t.value,l=t.lineStyle,u=t.textStyle,f=t.legend,d=t.legendNode,p=t.legendPosition,m=p===void 0?"top-right":p,y=t.legendOffsetX,b=y===void 0?14:y,v=t.legendOffsetY,x=v===void 0?14:v,w=t.legendOrientation,E=w===void 0?"horizontal":w,k=Xi(),O=0,A=0,M=0,R=0;if(i==="y"?(M=r(a),A=e):(O=r(a),R=n),f&&!d){var P=function(z){var V=z.axis,$=z.width,U=z.height,Q=z.position,J=z.offsetX,re=z.offsetY,ee=z.orientation,L=0,Y=0,se=ee==="vertical"?-90:0,ce="start";if(V==="x")switch(Q){case"top-left":L=-J,Y=re,ce="end";break;case"top":Y=-re,ce=ee==="horizontal"?"middle":"start";break;case"top-right":L=J,Y=re,ce=ee==="horizontal"?"start":"end";break;case"right":L=J,Y=U/2,ce=ee==="horizontal"?"start":"middle";break;case"bottom-right":L=J,Y=U-re,ce="start";break;case"bottom":Y=U+re,ce=ee==="horizontal"?"middle":"end";break;case"bottom-left":Y=U-re,L=-J,ce=ee==="horizontal"?"end":"start";break;case"left":L=-J,Y=U/2,ce=ee==="horizontal"?"end":"middle"}else switch(Q){case"top-left":L=J,Y=-re,ce="start";break;case"top":L=$/2,Y=-re,ce=ee==="horizontal"?"middle":"start";break;case"top-right":L=$-J,Y=-re,ce=ee==="horizontal"?"end":"start";break;case"right":L=$+J,ce=ee==="horizontal"?"start":"middle";break;case"bottom-right":L=$-J,Y=re,ce="end";break;case"bottom":L=$/2,Y=re,ce=ee==="horizontal"?"middle":"end";break;case"bottom-left":L=J,Y=re,ce=ee==="horizontal"?"start":"end";break;case"left":L=-J,ce=ee==="horizontal"?"end":"middle"}return{x:L,y:Y,rotation:se,textAnchor:ce}}({axis:i,width:e,height:n,position:m,offsetX:b,offsetY:x,orientation:E});d=T.jsx("text",{transform:"translate("+P.x+", "+P.y+") rotate("+P.rotation+")",textAnchor:P.textAnchor,dominantBaseline:"central",style:u,children:f})}return T.jsxs("g",{transform:"translate("+O+", "+M+")",children:[T.jsx("line",{x1:0,x2:A,y1:0,y2:R,stroke:k.markers.lineColor,strokeWidth:k.markers.lineStrokeWidth,style:l}),d]})});N.memo(function(t){var e=t.markers,n=t.width,i=t.height,r=t.xScale,a=t.yScale;return e&&e.length!==0?e.map(function(l,u){return T.jsx(Hne,Ia({},l,{width:n,height:i,scale:l.axis==="y"?a:r}),u)}):null});var qne=function(t,e,n){var i=e.width-t.width,r=e.height-t.height,a=0,l=0;return n==="center"&&(a=i/2,l=r/2),n==="top"&&(a=i/2),n==="top-right"&&(a=i),n==="right"&&(a=i,l=r/2),n==="bottom-right"&&(a=i,l=r),n==="bottom"&&(a=i/2,l=r),n==="bottom-left"&&(l=r),n==="left"&&(l=r/2),[a,l]},Bne=function(t,e,n,i,r,a){return t<=r&&r<=t+n&&e<=a&&a<=e+i},Fne=function(t,e){var n,i="touches"in e?e.touches[0]:e,r=i.clientX,a=i.clientY,l=t.getBoundingClientRect(),u=(n=t.getBBox!==void 0?t.getBBox():{width:t.offsetWidth||0,height:t.offsetHeight||0}).width===l.width?1:n.width/l.width;return[(r-l.left)*u,(a-l.top)*u]};function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jh.apply(null,arguments)}var Vne={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:Yee,accent:Gee,dark2:Kee,paired:Xee,pastel1:Qee,pastel2:Zee,set1:Jee,set2:ete,set3:S8,tableau10:tte},Wne={brown_blueGreen:Zg,purpleRed_green:Jg,pink_yellowGreen:ep,purple_orange:tp,red_blue:np,red_grey:ip,red_yellow_blue:rp,red_yellow_green:sp,spectral:ap},$ne={brown_blueGreen:nte,purpleRed_green:ite,pink_yellowGreen:rte,purple_orange:ste,red_blue:ate,red_grey:ote,red_yellow_blue:lte,red_yellow_green:cte,spectral:ute},Yne={blues:bp,greens:vp,greys:xp,oranges:Tp,purples:wp,reds:Sp,blue_green:op,blue_purple:lp,green_blue:cp,orange_red:up,purple_blue_green:fp,purple_blue:dp,purple_red:hp,red_purple:gp,yellow_green_blue:pp,yellow_green:mp,yellow_orange_brown:_p,yellow_orange_red:yp},Gne={blues:Ste,greens:Tte,greys:Ete,oranges:Rte,purples:Cte,reds:Ate,turbo:jte,viridis:zte,inferno:Hte,magma:Ute,plasma:qte,cividis:Mte,warm:Ote,cool:Nte,cubehelixDefault:kte,blue_green:fte,blue_purple:dte,green_blue:hte,orange_red:gte,purple_blue_green:pte,purple_blue:mte,purple_red:_te,red_purple:yte,yellow_green_blue:bte,yellow_green:vte,yellow_orange_brown:xte,yellow_orange_red:wte};Jh({},Vne,Wne,Yne);var Kne={rainbow:Ite,sinebow:Lte};Jh({},$ne,Gne,Kne);var k8=function(t,e){t.font=(e.fontWeight?e.fontWeight+" ":"")+e.fontSize+"px "+e.fontFamily},E1=function(t,e,n,i,r){i===void 0&&(i=0),r===void 0&&(r=0),e.outlineWidth>0&&(t.strokeStyle=e.outlineColor,t.lineWidth=2*e.outlineWidth,t.lineJoin="round",t.strokeText(n,i,r)),t.fillStyle=e.fill,t.fillText(n,i,r)};function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cu.apply(null,arguments)}function wO(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Xne=["style","children"],Qne=["outlineWidth","outlineColor","outlineOpacity"],Lw=function(t){var e=t.style,n=t.children,i=wO(t,Xne),r=e.outlineWidth,a=e.outlineColor,l=e.outlineOpacity,u=wO(e,Qne);return T.jsxs(T.Fragment,{children:[r>0&&T.jsx(Lu.text,cu({},i,{style:cu({},u,{strokeWidth:2*r,stroke:a,strokeOpacity:l,strokeLinejoin:"round"}),children:n})),T.jsx(Lu.text,cu({},i,{style:u,children:n}))]})},Zne=function(t){var e=t.x,n=t.y,i=t.size,r=t.fill,a=t.opacity,l=a===void 0?1:a,u=t.borderWidth,f=u===void 0?0:u,d=t.borderColor;return T.jsx("circle",{r:i/2,cx:e+i/2,cy:n+i/2,fill:r,opacity:l,strokeWidth:f,stroke:d===void 0?"transparent":d,style:{pointerEvents:"none"}})},Jne=function(t){var e=t.x,n=t.y,i=t.size,r=t.fill,a=t.opacity,l=a===void 0?1:a,u=t.borderWidth,f=u===void 0?0:u,d=t.borderColor;return T.jsx("g",{transform:"translate("+e+","+n+")",children:T.jsx("path",{d:`
                    M`+i/2+` 0
                    L`+.8*i+" "+i/2+`
                    L`+i/2+" "+i+`
                    L`+.2*i+" "+i/2+`
                    L`+i/2+` 0
                `,fill:r,opacity:l,strokeWidth:f,stroke:d===void 0?"transparent":d,style:{pointerEvents:"none"}})})},eie=function(t){var e=t.x,n=t.y,i=t.size,r=t.fill,a=t.opacity,l=a===void 0?1:a,u=t.borderWidth,f=u===void 0?0:u,d=t.borderColor;return T.jsx("rect",{x:e,y:n,fill:r,opacity:l,strokeWidth:f,stroke:d===void 0?"transparent":d,width:i,height:i,style:{pointerEvents:"none"}})},tie=function(t){var e=t.x,n=t.y,i=t.size,r=t.fill,a=t.opacity,l=a===void 0?1:a,u=t.borderWidth,f=u===void 0?0:u,d=t.borderColor;return T.jsx("g",{transform:"translate("+e+","+n+")",children:T.jsx("path",{d:`
                M`+i/2+` 0
                L`+i+" "+i+`
                L0 `+i+`
                L`+i/2+` 0
            `,fill:r,opacity:l,strokeWidth:f,stroke:d===void 0?"transparent":d,style:{pointerEvents:"none"}})})};function bs(){return bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bs.apply(null,arguments)}var nie={top:0,right:0,bottom:0,left:0},jw=function(t){var e,n=t.direction,i=t.itemsSpacing,r=t.padding,a=t.itemCount,l=t.itemWidth,u=t.itemHeight;if(typeof r!="number"&&(typeof(e=r)!="object"||Array.isArray(e)||e===null))throw new Error("Invalid property padding, must be one of: number, object");var f=typeof r=="number"?{top:r,right:r,bottom:r,left:r}:bs({},nie,r),d=f.left+f.right,p=f.top+f.bottom,m=l+d,y=u+p,b=(a-1)*i;return n==="row"?m=l*a+b+d:n==="column"&&(y=u*a+b+p),{width:m,height:y,padding:f}},O8=function(t){var e=t.anchor,n=t.translateX,i=t.translateY,r=t.containerWidth,a=t.containerHeight,l=t.width,u=t.height,f=n,d=i;switch(e){case"top":f+=(r-l)/2;break;case"top-right":f+=r-l;break;case"right":f+=r-l,d+=(a-u)/2;break;case"bottom-right":f+=r-l,d+=a-u;break;case"bottom":f+=(r-l)/2,d+=a-u;break;case"bottom-left":d+=a-u;break;case"left":d+=(a-u)/2;break;case"center":f+=(r-l)/2,d+=(a-u)/2}return{x:f,y:d}},N8=function(t){var e,n,i,r,a,l,u=t.direction,f=t.justify,d=t.symbolSize,p=t.symbolSpacing,m=t.width,y=t.height;switch(u){case"left-to-right":e=0,n=(y-d)/2,r=y/2,l="central",f?(i=m,a="end"):(i=d+p,a="start");break;case"right-to-left":e=m-d,n=(y-d)/2,r=y/2,l="central",f?(i=0,a="start"):(i=m-d-p,a="end");break;case"top-to-bottom":e=(m-d)/2,n=0,i=m/2,a="middle",f?(r=y,l="alphabetic"):(r=d+p,l="text-before-edge");break;case"bottom-to-top":e=(m-d)/2,n=y-d,i=m/2,a="middle",f?(r=0,l="text-before-edge"):(r=y-d-p,l="alphabetic")}return{symbolX:e,symbolY:n,labelX:i,labelY:r,labelAnchor:a,labelAlignment:l}},iie={circle:Zne,diamond:Jne,square:eie,triangle:tie},rie=function(t){var e,n,i,r,a,l,u,f,d,p,m,y=t.x,b=t.y,v=t.width,x=t.height,w=t.data,E=t.direction,k=E===void 0?"left-to-right":E,O=t.justify,A=O!==void 0&&O,M=t.textColor,R=t.background,P=R===void 0?"transparent":R,z=t.opacity,V=z===void 0?1:z,$=t.symbolShape,U=$===void 0?"square":$,Q=t.symbolSize,J=Q===void 0?16:Q,re=t.symbolSpacing,ee=re===void 0?8:re,L=t.symbolBorderWidth,Y=L===void 0?0:L,se=t.symbolBorderColor,ce=se===void 0?"transparent":se,D=t.onClick,K=t.onMouseEnter,ie=t.onMouseLeave,ne=t.toggleSerie,ue=t.effects,ge=N.useState({}),fe=ge[0],$e=ge[1],Re=Xi(),le=N.useCallback(function(st){if(ue){var Gt=ue.filter(function(Kt){return Kt.on==="hover"}).reduce(function(Kt,Pn){return bs({},Kt,Pn.style)},{});$e(Gt)}K==null||K(w,st)},[K,w,ue]),ye=N.useCallback(function(st){if(ue){var Gt=ue.filter(function(Kt){return Kt.on!=="hover"}).reduce(function(Kt,Pn){return bs({},Kt,Pn.style)},{});$e(Gt)}ie==null||ie(w,st)},[ie,w,ue]),me=N8({direction:k,justify:A,symbolSize:(e=fe.symbolSize)!=null?e:J,symbolSpacing:ee,width:v,height:x}),te=me.symbolX,ct=me.symbolY,Me=me.labelX,mt=me.labelY,ut=me.labelAnchor,rt=me.labelAlignment,ii=[D,K,ie,ne].some(function(st){return st!==void 0}),Zi=typeof U=="function"?U:iie[U];return T.jsxs("g",{transform:"translate("+y+","+b+")",style:{opacity:(n=fe.itemOpacity)!=null?n:V},children:[T.jsx("rect",{width:v,height:x,fill:(i=fe.itemBackground)!=null?i:P,style:{cursor:ii?"pointer":"auto"},onClick:function(st){D==null||D(w,st),ne==null||ne(w.id)},onMouseEnter:le,onMouseLeave:ye}),N.createElement(Zi,bs({id:w.id,x:te,y:ct,size:(r=fe.symbolSize)!=null?r:J,fill:(a=(l=w.fill)!=null?l:w.color)!=null?a:"black",borderWidth:(u=fe.symbolBorderWidth)!=null?u:Y,borderColor:(f=fe.symbolBorderColor)!=null?f:ce},w.hidden?Re.legends.hidden.symbol:void 0)),T.jsx(Lw,{textAnchor:ut,style:bs({},Re.legends.text,{fill:(d=(p=(m=fe.itemTextColor)!=null?m:M)!=null?p:Re.legends.text.fill)!=null?d:"black",dominantBaseline:rt,pointerEvents:"none",userSelect:"none"},w.hidden?Re.legends.hidden.text:void 0),x:Me,y:mt,children:w.label})]})},sie=function(t){var e=t.data,n=t.x,i=t.y,r=t.direction,a=t.padding,l=a===void 0?0:a,u=t.justify,f=t.effects,d=t.itemWidth,p=t.itemHeight,m=t.itemDirection,y=m===void 0?"left-to-right":m,b=t.itemsSpacing,v=b===void 0?0:b,x=t.itemTextColor,w=t.itemBackground,E=w===void 0?"transparent":w,k=t.itemOpacity,O=k===void 0?1:k,A=t.symbolShape,M=t.symbolSize,R=t.symbolSpacing,P=t.symbolBorderWidth,z=t.symbolBorderColor,V=t.onClick,$=t.onMouseEnter,U=t.onMouseLeave,Q=t.toggleSerie,J=jw({itemCount:e.length,itemWidth:d,itemHeight:p,itemsSpacing:v,direction:r,padding:l}).padding,re=r==="row"?d+v:0,ee=r==="column"?p+v:0;return T.jsx("g",{transform:"translate("+n+","+i+")",children:e.map(function(L,Y){return T.jsx(rie,{data:L,x:Y*re+J.left,y:Y*ee+J.top,width:d,height:p,direction:y,justify:u,effects:f,textColor:x,background:E,opacity:O,symbolShape:A,symbolSize:M,symbolSpacing:R,symbolBorderWidth:P,symbolBorderColor:z,onClick:V,onMouseEnter:$,onMouseLeave:U,toggleSerie:Q},Y)})})},aie=function(t){var e=t.data,n=t.containerWidth,i=t.containerHeight,r=t.translateX,a=r===void 0?0:r,l=t.translateY,u=l===void 0?0:l,f=t.anchor,d=t.direction,p=t.padding,m=p===void 0?0:p,y=t.justify,b=t.itemsSpacing,v=b===void 0?0:b,x=t.itemWidth,w=t.itemHeight,E=t.itemDirection,k=t.itemTextColor,O=t.itemBackground,A=t.itemOpacity,M=t.symbolShape,R=t.symbolSize,P=t.symbolSpacing,z=t.symbolBorderWidth,V=t.symbolBorderColor,$=t.onClick,U=t.onMouseEnter,Q=t.onMouseLeave,J=t.toggleSerie,re=t.effects,ee=jw({itemCount:e.length,itemsSpacing:v,itemWidth:x,itemHeight:w,direction:d,padding:m}),L=ee.width,Y=ee.height,se=O8({anchor:f,translateX:a,translateY:u,containerWidth:n,containerHeight:i,width:L,height:Y}),ce=se.x,D=se.y;return T.jsx(sie,{data:e,x:ce,y:D,direction:d,padding:m,justify:y,effects:re,itemsSpacing:v,itemWidth:x,itemHeight:w,itemDirection:E,itemTextColor:k,itemBackground:O,itemOpacity:A,symbolShape:M,symbolSize:R,symbolSpacing:P,symbolBorderWidth:z,symbolBorderColor:V,onClick:$,onMouseEnter:U,onMouseLeave:Q,toggleSerie:typeof J=="boolean"?void 0:J})},oie={start:"left",middle:"center",end:"right"},lie=function(t,e){var n=e.data,i=e.containerWidth,r=e.containerHeight,a=e.translateX,l=a===void 0?0:a,u=e.translateY,f=u===void 0?0:u,d=e.anchor,p=e.direction,m=e.padding,y=m===void 0?0:m,b=e.justify,v=b!==void 0&&b,x=e.itemsSpacing,w=x===void 0?0:x,E=e.itemWidth,k=e.itemHeight,O=e.itemDirection,A=O===void 0?"left-to-right":O,M=e.itemTextColor,R=e.symbolSize,P=R===void 0?16:R,z=e.symbolSpacing,V=z===void 0?8:z,$=e.theme,U=jw({itemCount:n.length,itemWidth:E,itemHeight:k,itemsSpacing:w,direction:p,padding:y}),Q=U.width,J=U.height,re=U.padding,ee=O8({anchor:d,translateX:l,translateY:f,containerWidth:i,containerHeight:r,width:Q,height:J}),L=ee.x,Y=ee.y,se=p==="row"?E+w:0,ce=p==="column"?k+w:0;t.save(),t.translate(L,Y),k8(t,$.legends.text),n.forEach(function(D,K){var ie,ne=K*se+re.left,ue=K*ce+re.top,ge=N8({direction:A,justify:v,symbolSize:P,symbolSpacing:V,width:E,height:k}),fe=ge.symbolX,$e=ge.symbolY,Re=ge.labelX,le=ge.labelY,ye=ge.labelAnchor,me=ge.labelAlignment;t.fillStyle=(ie=D.color)!=null?ie:"black",t.fillRect(ne+fe,ue+$e,P,P),t.textAlign=oie[ye],me==="central"&&(t.textBaseline="middle"),E1(t,bs({},$.legends.text,{fill:M??$.legends.text.fill}),String(D.label),ne+Re,ue+le)}),t.restore()},bv,SO;function cie(){if(SO)return bv;SO=1;var t=Ls(),e=jr(),n="[object Date]";function i(r){return e(r)&&t(r)==n}return bv=i,bv}var vv,TO;function uie(){if(TO)return vv;TO=1;var t=cie(),e=mw(),n=C5(),i=n&&n.isDate,r=i?e(i):t;return vv=r,vv}var fie=uie();const EO=Wi(fie);var die=L5();const hie=Wi(die);var xv,CO;function gie(){if(CO)return xv;CO=1;var t=Math.ceil,e=Math.max;function n(i,r,a,l){for(var u=-1,f=e(t((r-i)/(a||1)),0),d=Array(f);f--;)d[l?f:++u]=i,i+=a;return d}return xv=n,xv}var wv,AO;function pie(){if(AO)return wv;AO=1;var t=/\s/;function e(n){for(var i=n.length;i--&&t.test(n.charAt(i)););return i}return wv=e,wv}var Sv,RO;function mie(){if(RO)return Sv;RO=1;var t=pie(),e=/^\s+/;function n(i){return i&&i.slice(0,t(i)+1).replace(e,"")}return Sv=n,Sv}var Tv,MO;function _ie(){if(MO)return Tv;MO=1;var t=mie(),e=Lr(),n=$g(),i=NaN,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function f(d){if(typeof d=="number")return d;if(n(d))return i;if(e(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=e(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=a.test(d);return m||l.test(d)?u(d.slice(2),m?2:8):r.test(d)?i:+d}return Tv=f,Tv}var Ev,kO;function yie(){if(kO)return Ev;kO=1;var t=_ie(),e=1/0,n=17976931348623157e292;function i(r){if(!r)return r===0?r:0;if(r=t(r),r===e||r===-1/0){var a=r<0?-1:1;return a*n}return r===r?r:0}return Ev=i,Ev}var Cv,OO;function bie(){if(OO)return Cv;OO=1;var t=gie(),e=P5(),n=yie();function i(r){return function(a,l,u){return u&&typeof u!="number"&&e(a,l,u)&&(l=u=void 0),a=n(a),l===void 0?(l=a,a=0):l=n(l),u=u===void 0?a<l?1:-1:n(u),t(a,l,u,r)}}return Cv=i,Cv}var Av,NO;function vie(){if(NO)return Av;NO=1;var t=bie(),e=t();return Av=e,Av}var xie=vie();const wie=Wi(xie);function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},tt.apply(null,arguments)}function zw(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var IO,Sie=N.memo(function(t){var e=t.years,n=t.legend,i=t.theme;return T.jsx(T.Fragment,{children:e.map(function(r){return T.jsx(Lw,{transform:"translate("+r.x+","+r.y+") rotate("+r.rotation+")",textAnchor:"middle",style:i.labels.text,children:n(r.year)},r.year)})})}),Tie=N.memo(function(t){var e=t.path,n=t.borderWidth,i=t.borderColor;return T.jsx("path",{d:e,style:{fill:"none",strokeWidth:n,stroke:i,pointerEvents:"none"}})}),Eie=N.memo(function(t){var e=t.months,n=t.legend,i=t.theme;return T.jsx(T.Fragment,{children:e.map(function(r){return T.jsx(Lw,{transform:"translate("+r.x+","+r.y+") rotate("+r.rotation+")",textAnchor:"middle",style:i.labels.text,children:n(r.year,r.month,r.date)},r.date.toString()+".legend")})})}),Cie=N.memo(function(t){var e=t.data,n=t.x,i=t.y,r=t.size,a=t.color,l=t.borderWidth,u=t.borderColor,f=t.isInteractive,d=t.tooltip,p=t.onMouseEnter,m=t.onMouseMove,y=t.onMouseLeave,b=t.onClick,v=t.formatValue,x=bw(),w=x.showTooltipFromEvent,E=x.hideTooltip,k=N.useCallback(function(R){if("value"in e){var P=tt({},e,{value:v(e.value),data:tt({},e.data)});w(N.createElement(d,tt({},P)),R),p==null||p(e,R)}},[w,d,e,p,v]),O=N.useCallback(function(R){if("value"in e){var P=tt({},e,{value:v(e.value),data:tt({},e.data)});w(N.createElement(d,tt({},P)),R),m==null||m(e,R)}},[w,d,e,m,v]),A=N.useCallback(function(R){"value"in e&&(E(),y==null||y(e,R))},[E,e,y]),M=N.useCallback(function(R){return b==null?void 0:b(e,R)},[e,b]);return T.jsx("rect",{x:n,y:i,width:r,height:r,style:{fill:a,strokeWidth:l,stroke:u},onMouseEnter:f?k:void 0,onMouseMove:f?O:void 0,onMouseLeave:f?A:void 0,onClick:f?M:void 0})}),Aie=N.memo(function(t){var e=t.value,n=t.day,i=t.color;return e===void 0||isNaN(Number(e))?null:T.jsx(eZ,{id:n,value:e,color:i,enableChip:!0})}),Rie=of("%b"),I8={colors:["#61cdbb","#97e3d5","#e8c1a0","#f47560"],align:"center",direction:"horizontal",emptyColor:"#fff",minValue:0,maxValue:"auto",yearSpacing:30,yearLegend:function(t){return t},yearLegendPosition:"before",yearLegendOffset:10,monthBorderWidth:2,monthBorderColor:"#000",monthSpacing:0,monthLegend:function(t,e,n){return Rie(n)},monthLegendPosition:"before",monthLegendOffset:10,daySpacing:0,dayBorderWidth:1,dayBorderColor:"#000",isInteractive:!0,legends:[],tooltip:Aie},ft=tt({},I8,{role:"img"}),St=tt({},I8,{pixelRatio:typeof window<"u"&&(IO=window.devicePixelRatio)!=null?IO:1});tt({},ft,{dayBorderColor:"#fff",dayRadius:0,square:!0,weekdayLegendOffset:75,firstWeekday:"sunday",weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]});var Mie=function(t,e,n){var i=t.map(function(r){return r.value});return[e==="auto"?Math.min.apply(Math,i):e,n==="auto"?Math.max.apply(Math,i):n]},kie=hie(function(t){var e,n=t.date,i=t.cellSize,r=t.yearIndex,a=t.yearSpacing,l=t.monthSpacing,u=t.daySpacing,f=t.direction,d=t.originX,p=t.originY,m=new Date(n.getFullYear(),n.getMonth()+1,0),y=tl.count(xi(n),n),b=tl.count(xi(m),m),v=n.getDay(),x=m.getDay(),w=d,E=p,k=r*(7*(i+u)+a),O=n.getMonth()*l;f==="horizontal"?(E+=k,w+=O):(E+=O,w+=k);var A={x:w,y:E,width:0,height:0};return f==="horizontal"?(e=["M"+(w+(y+1)*(i+u))+","+(E+v*(i+u)),"H"+(w+y*(i+u))+"V"+(E+7*(i+u)),"H"+(w+b*(i+u))+"V"+(E+(x+1)*(i+u)),"H"+(w+(b+1)*(i+u))+"V"+E,"H"+(w+(y+1)*(i+u))+"Z"].join(""),A.x=w+y*(i+u),A.width=w+(b+1)*(i+u)-A.x,A.height=7*(i+u)):(e=["M"+(w+v*(i+u))+","+(E+(y+1)*(i+u)),"H"+w+"V"+(E+(b+1)*(i+u)),"H"+(w+(x+1)*(i+u))+"V"+(E+b*(i+u)),"H"+(w+7*(i+u))+"V"+(E+y*(i+u)),"H"+(w+v*(i+u))+"Z"].join(""),A.y=E+y*(i+u),A.width=7*(i+u),A.height=E+(b+1)*(i+u)-A.y),{path:e,bbox:A}},function(t){var e=t.date,n=t.cellSize,i=t.yearIndex,r=t.yearSpacing,a=t.monthSpacing,l=t.daySpacing,u=t.direction,f=t.originX,d=t.originY;return e.toString()+"."+n+"."+i+"."+r+"."+a+"."+l+"."+u+"."+f+"."+d}),Oie=of("%Y-%m-%d"),Nie=function(t){var e,n=t.width,i=t.height,r=t.from,a=t.to,l=t.direction,u=t.yearSpacing,f=t.monthSpacing,d=t.daySpacing,p=t.align,m=EO(r)?r:new Date(r),y=EO(a)?a:new Date(a),b=wie(m.getFullYear(),y.getFullYear()+1),v=Math.max.apply(Math,b.map(function($){return UJ(new Date($,0,1),new Date($+1,0,1)).length}))+1,x=function($){var U,Q,J=$.width,re=$.height,ee=$.direction,L=$.yearRange,Y=$.yearSpacing,se=$.monthSpacing,ce=$.daySpacing,D=$.maxWeeks;return ee==="horizontal"?(U=(J-12*se-ce*D)/D,Q=(re-(L.length-1)*Y-L.length*(8*ce))/(7*L.length)):(U=(J-(L.length-1)*Y-L.length*(8*ce))/(7*L.length),Q=(re-12*se-ce*D)/D),Math.min(U,Q)}({width:n,height:i,direction:l,yearRange:b,yearSpacing:u,monthSpacing:f,daySpacing:d,maxWeeks:v}),w=x*v+d*v+12*f,E=7*(x+d)*b.length+u*(b.length-1),k=l==="horizontal"?w:E,O=l==="horizontal"?E:w,A=qne({width:k,height:O},{width:n,height:i},p),M=A[0],R=A[1];e=l==="horizontal"?function($,U,Q,J){return function(re,ee,L,Y){return{x:re+tl.count(xi(L),L)*($+J)+J/2+L.getMonth()*Q,y:ee+L.getDay()*($+J)+J/2+Y*(U+7*($+J))}}}(x,u,f,d):function($,U,Q,J){return function(re,ee,L,Y){var se=tl.count(xi(L),L);return{x:re+L.getDay()*($+J)+J/2+Y*(U+7*($+J)),y:ee+se*($+J)+J/2+L.getMonth()*Q}}}(x,u,f,d);var P=[],z=[],V=[];return b.forEach(function($,U){var Q=new Date($,0,1),J=new Date($+1,0,1);V=V.concat(DJ(Q,J).map(function(ee){return tt({date:ee,day:Oie(ee),size:x},e(M,R,ee,U))}));var re=qJ(Q,J).map(function(ee){return tt({date:ee,year:ee.getFullYear(),month:ee.getMonth()},kie({originX:M,originY:R,date:ee,direction:l,yearIndex:U,yearSpacing:u,monthSpacing:f,daySpacing:d,cellSize:x}))});z=z.concat(re),P.push({year:$,bbox:{x:re[0].bbox.x,y:re[0].bbox.y,width:re[11].bbox.x-re[0].bbox.x+re[11].bbox.width,height:re[11].bbox.y-re[0].bbox.y+re[11].bbox.height}})}),{years:P,months:z,days:V,cellSize:x,calendarWidth:k,calendarHeight:O,originX:M,originY:R}},Iie=function(t){var e=t.days,n=t.data,i=t.colorScale,r=t.emptyColor;return e.map(function(a){var l=n.find(function(u){return u.day===a.day});return tt({},a,l?{color:i(l.value),data:l,value:l.value}:{color:r})})},Die=function(t){var e=t.years,n=t.direction,i=t.position,r=t.offset;return e.map(function(a){var l=0,u=0,f=0;return n==="horizontal"&&i==="before"?(l=a.bbox.x-r,u=a.bbox.y+a.bbox.height/2,f=-90):n==="horizontal"&&i==="after"?(l=a.bbox.x+a.bbox.width+r,u=a.bbox.y+a.bbox.height/2,f=-90):n==="vertical"&&i==="before"?(l=a.bbox.x+a.bbox.width/2,u=a.bbox.y-r):(l=a.bbox.x+a.bbox.width/2,u=a.bbox.y+a.bbox.height+r),tt({},a,{x:l,y:u,rotation:f})})},Pie=function(t){var e=t.months,n=t.direction,i=t.position,r=t.offset;return e.map(function(a){var l=0,u=0,f=0;return n==="horizontal"&&i==="before"?(l=a.bbox.x+a.bbox.width/2,u=a.bbox.y-r):n==="horizontal"&&i==="after"?(l=a.bbox.x+a.bbox.width/2,u=a.bbox.y+a.bbox.height+r):n==="vertical"&&i==="before"?(l=a.bbox.x-r,u=a.bbox.y+a.bbox.height/2,f=-90):(l=a.bbox.x+a.bbox.width+r,u=a.bbox.y+a.bbox.height/2,f=-90),tt({},a,{x:l,y:u,rotation:f})})},D8=function(t){var e=t.width,n=t.height,i=t.from,r=t.to,a=t.direction,l=t.yearSpacing,u=t.monthSpacing,f=t.daySpacing,d=t.align;return N.useMemo(function(){return Nie({width:e,height:n,from:i,to:r,direction:a,yearSpacing:l,monthSpacing:u,daySpacing:f,align:d})},[e,n,i,r,a,l,u,f,d])},P8=function(t){var e=t.data,n=t.minValue,i=t.maxValue,r=t.colors,a=t.colorScale;return N.useMemo(function(){if(a)return a;var l=Mie(e,n,i);return g8().domain(l).range(r)},[e,n,i,r,a])},L8=function(t){var e=t.years,n=t.direction,i=t.yearLegendPosition,r=t.yearLegendOffset;return N.useMemo(function(){return Die({years:e,direction:n,position:i,offset:r})},[e,n,i,r])},j8=function(t){var e=t.months,n=t.direction,i=t.monthLegendPosition,r=t.monthLegendOffset;return N.useMemo(function(){return Pie({months:e,direction:n,position:i,offset:r})},[e,n,i,r])},z8=function(t){var e=t.days,n=t.data,i=t.colorScale,r=t.emptyColor;return N.useMemo(function(){return Iie({days:e,data:n,colorScale:i,emptyColor:r})},[e,n,i,r])},Lie=["months","years"],jie=["isInteractive","renderWrapper","theme"],zie=function(t){var e=t.margin,n=t.width,i=t.height,r=t.align,a=r===void 0?ft.align:r,l=t.colors,u=l===void 0?ft.colors:l,f=t.colorScale,d=t.data,p=t.direction,m=p===void 0?ft.direction:p,y=t.emptyColor,b=y===void 0?ft.emptyColor:y,v=t.from,x=t.to,w=t.minValue,E=w===void 0?ft.minValue:w,k=t.maxValue,O=k===void 0?ft.maxValue:k,A=t.valueFormat,M=t.legendFormat,R=t.yearLegend,P=R===void 0?ft.yearLegend:R,z=t.yearLegendOffset,V=z===void 0?ft.yearLegendOffset:z,$=t.yearLegendPosition,U=$===void 0?ft.yearLegendPosition:$,Q=t.yearSpacing,J=Q===void 0?ft.yearSpacing:Q,re=t.monthBorderColor,ee=re===void 0?ft.monthBorderColor:re,L=t.monthBorderWidth,Y=L===void 0?ft.monthBorderWidth:L,se=t.monthLegend,ce=se===void 0?ft.monthLegend:se,D=t.monthLegendOffset,K=D===void 0?ft.monthLegendOffset:D,ie=t.monthLegendPosition,ne=ie===void 0?ft.monthLegendPosition:ie,ue=t.monthSpacing,ge=ue===void 0?ft.monthSpacing:ue,fe=t.dayBorderColor,$e=fe===void 0?ft.dayBorderColor:fe,Re=t.dayBorderWidth,le=Re===void 0?ft.dayBorderWidth:Re,ye=t.daySpacing,me=ye===void 0?ft.daySpacing:ye,te=t.isInteractive,ct=te===void 0?ft.isInteractive:te,Me=t.tooltip,mt=Me===void 0?ft.tooltip:Me,ut=t.onClick,rt=t.onMouseEnter,ii=t.onMouseLeave,Zi=t.onMouseMove,st=t.legends,Gt=st===void 0?ft.legends:st,Kt=t.role,Pn=Kt===void 0?ft.role:Kt,Ti=Xi(),Tn=R8(n,i,e),an=Tn.margin,Rt=Tn.innerWidth,Ln=Tn.innerHeight,Vt=Tn.outerWidth,_l=Tn.outerHeight,Ei=D8({width:Rt,height:Ln,from:v,to:x,direction:m,yearSpacing:J,monthSpacing:ge,daySpacing:me,align:a}),js=Ei.months,Ji=Ei.years,on=zw(Ei,Lie),fn=P8({data:d,minValue:E,maxValue:O,colors:u,colorScale:f}),Ci=j8({months:js,direction:m,monthLegendPosition:ne,monthLegendOffset:K}),jn=L8({years:Ji,direction:m,yearLegendPosition:U,yearLegendOffset:V}),Ai=z8({days:on.days,data:d,colorScale:fn,emptyColor:b}),zs=Hu(M),Us=Hu(A);return T.jsxs(zne,{width:Vt,height:_l,margin:an,role:Pn,children:[Ai.map(function(Mt){return T.jsx(Cie,{data:Mt,x:Mt.x,y:Mt.y,size:Mt.size,color:Mt.color,borderWidth:le,borderColor:$e,onMouseEnter:rt,onMouseLeave:ii,onMouseMove:Zi,isInteractive:ct,tooltip:mt,onClick:ut,formatValue:Us},Mt.date.toString())}),js.map(function(Mt){return T.jsx(Tie,{path:Mt.path,borderWidth:Y,borderColor:ee},Mt.date.toString())}),T.jsx(Eie,{months:Ci,legend:ce,theme:Ti}),T.jsx(Sie,{years:jn,legend:P,theme:Ti}),Gt.map(function(Mt,Ri){var zr=fn.ticks(Mt.itemCount).map(function(er){return{id:er,label:zs(er),color:fn(er)}});return T.jsx(aie,tt({},Mt,{containerWidth:n,containerHeight:i,data:zr}),Ri)})]})},Uie=function(t){var e=t.isInteractive,n=e===void 0?ft.isInteractive:e,i=t.renderWrapper,r=t.theme,a=zw(t,jie);return T.jsx(Tne,{isInteractive:n,renderWrapper:i,theme:r,children:T.jsx(zie,tt({isInteractive:n},a))})};of("%Y-%m-%d");N.memo(function(t){var e=t.data,n=t.x,i=t.ry,r=i===void 0?5:i,a=t.rx,l=a===void 0?5:a,u=t.y,f=t.width,d=t.height,p=t.color,m=t.borderWidth,y=t.borderColor,b=t.isInteractive,v=t.tooltip,x=t.onMouseEnter,w=t.onMouseMove,E=t.onMouseLeave,k=t.onClick,O=t.formatValue,A=bw(),M=A.showTooltipFromEvent,R=A.hideTooltip,P=N.useCallback(function(U){if("value"in e){var Q=tt({},e,{value:O(e.value)});M(N.createElement(v,tt({},Q)),U),x==null||x(e,U)}},[M,v,e,x,O]),z=N.useCallback(function(U){if("value"in e){var Q=tt({},e,{value:O(e.value)});M(N.createElement(v,tt({},Q)),U),w==null||w(e,U)}},[M,v,e,w,O]),V=N.useCallback(function(U){"value"in e&&(R(),E==null||E(e,U))},[R,e,E]),$=N.useCallback(function(U){return k==null?void 0:k(e,U)},[e,k]);return T.jsx("rect",{x:n,y:u,rx:l,ry:r,width:f,height:d,style:{fill:p,strokeWidth:m,stroke:y},onMouseEnter:b?P:void 0,onMouseMove:b?z:void 0,onMouseLeave:b?V:void 0,onClick:b?$:void 0})});var Hie=function(t){return T.jsx(Rne,{children:function(e){var n=e.width,i=e.height;return T.jsx(Uie,tt({width:n,height:i},t))}})},qie=["months","years"],DO=function(t,e,n,i,r,a){var l=Fne(e,t),u=l[0],f=l[1];return n.find(function(d){return"value"in d&&Bne(d.x+a.left-r/2,d.y+a.top-r/2,i+r,i+r,u,f)})};N.memo(function(t){var e=t.margin,n=t.width,i=t.height,r=t.pixelRatio,a=r===void 0?St.pixelRatio:r,l=t.align,u=l===void 0?St.align:l,f=t.colors,d=f===void 0?St.colors:f,p=t.colorScale,m=t.data,y=t.direction,b=y===void 0?St.direction:y,v=t.emptyColor,x=v===void 0?St.emptyColor:v,w=t.from,E=t.to,k=t.minValue,O=k===void 0?St.minValue:k,A=t.maxValue,M=A===void 0?St.maxValue:A,R=t.valueFormat,P=t.legendFormat,z=t.yearLegend,V=z===void 0?St.yearLegend:z,$=t.yearLegendOffset,U=$===void 0?St.yearLegendOffset:$,Q=t.yearLegendPosition,J=Q===void 0?St.yearLegendPosition:Q,re=t.yearSpacing,ee=re===void 0?St.yearSpacing:re,L=t.monthLegend,Y=L===void 0?St.monthLegend:L,se=t.monthLegendOffset,ce=se===void 0?St.monthLegendOffset:se,D=t.monthLegendPosition,K=D===void 0?St.monthLegendPosition:D,ie=t.monthSpacing,ne=ie===void 0?St.monthSpacing:ie,ue=t.dayBorderColor,ge=ue===void 0?St.dayBorderColor:ue,fe=t.dayBorderWidth,$e=fe===void 0?St.dayBorderWidth:fe,Re=t.daySpacing,le=Re===void 0?St.daySpacing:Re,ye=t.isInteractive,me=ye===void 0?St.isInteractive:ye,te=t.tooltip,ct=te===void 0?St.tooltip:te,Me=t.onClick,mt=t.onMouseEnter,ut=t.onMouseLeave,rt=t.onMouseMove,ii=t.legends,Zi=ii===void 0?St.legends:ii,st=N.useRef(null),Gt=R8(n,i,e),Kt=Gt.innerWidth,Pn=Gt.innerHeight,Ti=Gt.outerWidth,Tn=Gt.outerHeight,an=Gt.margin,Rt=D8({width:Kt,height:Pn,from:w,to:E,direction:b,yearSpacing:ee,monthSpacing:ne,daySpacing:le,align:u}),Ln=Rt.months,Vt=Rt.years,_l=zw(Rt,qie),Ei=P8({data:m,minValue:O,maxValue:M,colors:d,colorScale:p}),js=j8({months:Ln,direction:b,monthLegendPosition:K,monthLegendOffset:ce}),Ji=L8({years:Vt,direction:b,yearLegendPosition:J,yearLegendOffset:U}),on=z8({days:_l.days,data:m,colorScale:Ei,emptyColor:x}),fn=N.useState(null),Ci=fn[0],jn=fn[1],Ai=Xi(),zs=Hu(R),Us=Hu(P),Mt=bw(),Ri=Mt.showTooltipFromEvent,zr=Mt.hideTooltip;N.useEffect(function(){if(st.current){st.current.width=Ti*a,st.current.height=Tn*a;var Ce=st.current.getContext("2d");Ce&&(Ce.scale(a,a),Ce.fillStyle=Ai.background,Ce.fillRect(0,0,Ti,Tn),Ce.translate(an.left,an.top),on.forEach(function(Oe){Ce.fillStyle=Oe.color,$e>0&&(Ce.strokeStyle=ge,Ce.lineWidth=$e),Ce.beginPath(),Ce.rect(Oe.x,Oe.y,Oe.size,Oe.size),Ce.fill(),$e>0&&Ce.stroke()}),Ce.textAlign="center",Ce.textBaseline="middle",k8(Ce,Ai.labels.text),js.forEach(function(Oe){Ce.save(),Ce.translate(Oe.x,Oe.y),Ce.rotate(Zh(Oe.rotation)),E1(Ce,Ai.labels.text,String(Y(Oe.year,Oe.month,Oe.date))),Ce.restore()}),Ji.forEach(function(Oe){Ce.save(),Ce.translate(Oe.x,Oe.y),Ce.rotate(Zh(Oe.rotation)),E1(Ce,Ai.labels.text,String(V(Oe.year))),Ce.restore()}),Zi.forEach(function(Oe){var bl=Ei.ticks(Oe.itemCount).map(function(zn){return{id:zn,label:Us(zn),color:Ei(zn)}});lie(Ce,tt({},Oe,{data:bl,containerWidth:Kt,containerHeight:Pn,theme:Ai}))}))}},[st,Pn,Kt,Ti,Tn,a,an,on,ge,$e,p,V,Ji,Y,js,Zi,Ai,Us,Ei]);var er=N.useCallback(function(Ce){if(st.current){var Oe=DO(Ce,st.current,on,on[0].size,$e,an);if(Oe){if(jn(Oe),!("value"in Oe))return;var bl=tt({},Oe,{value:zs(Oe.value),data:tt({},Oe.data)});Ri(N.createElement(ct,tt({},bl)),Ce),Ci||mt==null||mt(Oe,Ce),rt==null||rt(Oe,Ce),Ci&&(ut==null||ut(Oe,Ce))}else zr(),Oe&&(ut==null||ut(Oe,Ce))}},[st,Ci,an,on,jn,zs,$e,Ri,zr,mt,rt,ut,ct]),lf=N.useCallback(function(){jn(null),zr()},[jn,zr]),yl=N.useCallback(function(Ce){if(Me&&st.current){var Oe=DO(Ce,st.current,on,on[0].size,le,an);Oe&&Me(Oe,Ce)}},[st,le,an,on,Me]);return T.jsx("canvas",{ref:st,width:Ti*a,height:Tn*a,style:{width:Ti,height:Tn},onMouseEnter:me?er:void 0,onMouseMove:me?er:void 0,onMouseLeave:me?lf:void 0,onClick:me?yl:void 0})});const Bie=({data:t})=>{const e=t.map(n=>({day:n.date,value:n.moodScore}));return T.jsx("div",{className:"text-bluegray",style:{height:"200px"},children:T.jsx(Hie,{data:e,from:new Date(new Date().getFullYear(),0,1),to:new Date(new Date().getFullYear(),11,31),emptyColor:"#eeeeee",colors:["#ac92eb","#967adc","#8363d2","#704dc9","#5d37bf"],margin:{top:20,right:40,bottom:40,left:40},yearSpacing:40,monthBorderColor:"#ffffff",dayBorderWidth:2,dayBorderColor:"#ffffff",theme:{text:{fontSize:13,fill:"#ff5722"}},legends:[{anchor:"bottom-right",direction:"row",translateY:36,itemCount:4,itemWidth:42,itemHeight:36,itemsSpacing:14,itemDirection:"right-to-left"}]})})},PO={happy:{tips:["Journal about what made you happy today","Share your positive energy with others","Plan something fun for tomorrow"],icon:"🌟"},sad:{tips:["Practice self-compassion and be gentle with yourself","Reach out to a friend or family member","Try a calm, soothing activity you enjoy"],icon:"💙"},anxious:{tips:["Try deep breathing exercises: 4 seconds in, 4 seconds out","Ground yourself by naming 5 things you can see","Take a short walk if possible"],icon:"🍃"},angry:{tips:["Take a moment to pause before reacting","Express your feelings through writing or art","Try progressive muscle relaxation"],icon:"🌊"},neutral:{tips:["Reflect on what you're grateful for today","Set a small goal for tomorrow","Try something new to spark joy"],icon:"✨"}},Rv={exercise:["Try a new workout routine tomorrow","Schedule your next exercise session","Remember to stretch and stay hydrated"],meditation:["Set a regular meditation time","Try guided meditation apps","Create a peaceful meditation space"],socializing:["Plan your next social gathering","Stay connected with friends virtually","Join a community group or club"],hobby:["Set aside dedicated time for your hobbies","Share your creations with others","Try expanding your skills in this area"],nature:["Plan your next outdoor adventure","Start a small garden or care for plants","Find new nature spots to explore"]},Fie={sunny:["Take advantage of the sunshine with outdoor activities","Get some natural vitamin D with a short walk","Consider having lunch outside"],cloudy:["Indoor activities can be just as energizing","Use this calm weather for a peaceful walk","Practice indoor exercises or stretching"],rainy:["Create a cozy indoor environment","Use the rain sounds for meditation","Catch up on indoor hobbies or reading"],snowy:["Stay warm and maintain your routine indoors","Try winter sports if conditions permit","Use this time for creative indoor activities"],stormy:["Focus on calming indoor activities","Practice relaxation techniques during the storm","Use this time for self-reflection or journaling"]},Vie={low:["Take short, frequent breaks","Try light stretching exercises","Focus on proper hydration","Consider a power nap (15-20 minutes)"],medium:["Maintain your current energy with regular movement","Balance activity with rest periods","Stay consistent with your routine"],high:["Channel your energy into productive activities","Try more challenging exercises","Use this boost for tasks requiring focus"]},Wie={headache:["Take regular screen breaks","Stay hydrated and consider rest","Practice neck and shoulder stretches"],fatigue:["Listen to your body and rest when needed","Maintain a consistent sleep schedule","Consider light exercise to boost energy"],nausea:["Stay hydrated with small sips of water","Try ginger tea or mint","Rest in a well-ventilated space"],pain:["Practice gentle stretching if appropriate","Consider relaxation techniques","Apply hot or cold compress as needed"],healthy:["Maintain your healthy habits","Stay active and keep moving","Focus on prevention and self-care"]},$ie=({mood:t,activities:e=[],weather:n,energyLevel:i,physicalHealth:r=[]})=>{const a=()=>["exercise","meditation","socializing","nature"].filter(x=>!e.includes(x)).map(x=>({activity:x,suggestion:`Consider adding ${x} to improve your mood`})),l=()=>i<=3?"low":i<=7?"medium":"high",u=PO[t]||PO.neutral,f=Fie[n]||[],d=Vie[l()]||[],p=a(),m=v=>({exercise:"🏃‍♂️",meditation:"🧘‍♂️",socializing:"👥",hobby:"🎨",nature:"🌳"})[v]||"✨",y=v=>({headache:"🤕",fatigue:"😴",nausea:"🤢",pain:"😣",healthy:"💪"})[v]||"🏥",b=v=>({sunny:"☀️",cloudy:"☁️",rainy:"🌧️",snowy:"🌨️",stormy:"⛈️"})[v]||"🌤️";return T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("span",{className:"text-4xl",children:u.icon}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-white text-xl font-semibold",children:"Personalized Tips"}),T.jsx("p",{className:"text-white/90 text-sm",children:"Based on your current mood and activities"})]})]}),T.jsx(Io,{title:"Mood Recommendations",children:u.tips.map((v,x)=>T.jsx(Yie,{index:x+1,text:v},x))}),n&&T.jsx(Io,{title:"Weather Tips",children:f.map((v,x)=>T.jsx(Lc,{icon:b(n),text:v},x))}),i&&T.jsx(Io,{title:"Energy Management",children:d.map((v,x)=>T.jsx(Lc,{icon:"⚡",text:v},x))}),r.length>0&&T.jsx(Io,{title:"Health Tips",children:r.flatMap(v=>{var x;return(x=Wie[v])==null?void 0:x.map((w,E)=>T.jsx(Lc,{icon:y(v),text:w,label:v},`${v}-${E}`))})}),e.length>0&&T.jsx(Io,{title:"Activity Follow-up",children:e.map(v=>Rv[v]?T.jsx(Lc,{icon:m(v),text:Rv[v][Math.floor(Math.random()*Rv[v].length)],label:v},v):null)}),p.length>0&&T.jsx(Io,{title:"Try These Activities",children:p.map(({activity:v,suggestion:x})=>T.jsx(Lc,{icon:m(v),text:x},v))}),T.jsx("div",{className:"border-t border-white/20 pt-6",children:T.jsx("p",{className:"text-sm text-white/90",children:"Remember: Your emotions are valid, and it's okay to feel the way you do. These tips are suggestions to help you navigate your current mood. If you're consistently feeling down, consider talking to a mental health professional."})})]})},Io=({title:t,children:e})=>T.jsxs("div",{className:"space-y-4 border-t border-white/20 pt-6",children:[T.jsx("h4",{className:"text-white font-semibold text-lg",children:t}),T.jsx("div",{className:"grid gap-3",children:e})]}),Lc=({icon:t,text:e,label:n})=>T.jsxs("div",{className:"bg-white/10 p-4 rounded-xl text-white",children:[T.jsxs("div",{className:"font-medium mb-2 flex items-center space-x-2",children:[T.jsx("span",{className:"text-2xl",children:t}),n&&T.jsx("span",{className:"capitalize",children:n})]}),T.jsx("p",{className:"text-white/90",children:e})]}),Yie=({index:t,text:e})=>T.jsxs("div",{className:"text-white flex items-start space-x-3 bg-white/10 p-4 rounded-xl backdrop-blur-sm",children:[T.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center font-bold",children:t}),T.jsx("p",{className:"flex-1",children:e})]}),Gie=()=>{const{moodData:t}=B6(),{preferences:e,updatePreferences:n,requestNotificationPermission:i}=CV(),r=t[t.length-1]||{},a=NV(t),l=IV(t),u={happy:"😊",sad:"😢",anxious:"😰",angry:"😠",neutral:"😐"},f={exercise:"🏃‍♂️",meditation:"🧘‍♂️",socializing:"👥",hobby:"🎨",nature:"🌳",work:"💼",study:"📚",rest:"🛋️"},d={sunny:"☀️",cloudy:"☁️",rainy:"🌧️",snowy:"🌨️",stormy:"⛈️"},p={headache:"🤕",fatigue:"😴",nausea:"🤢",pain:"😣",healthy:"💪"},[m,y]=N.useState(!1),[b,v]=N.useState(""),[x,w]=N.useState(!1),E=N.useRef(null),k=async()=>{if(!e.enabled&&!await i()){alert("Notification permission is required to enable reminders");return}await n({enabled:!e.enabled})},O=async R=>{await n({frequency:R})},A=async R=>{await n({checkInTime:R})},M=async(R,P)=>{const z=P?[...e.weekdays,R]:e.weekdays.filter(V=>V!==R);await n({weekdays:z})};return T.jsx("div",{className:"mt-3 min-h-screen p-3 sm:p-6",children:T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsx("div",{className:"bg-bluegray rounded-2xl sm:rounded-3xl shadow-xl p-4 sm:p-8 mb-6",children:T.jsxs("div",{className:"text-center space-y-4",children:[T.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-200 ",children:"Today's Check-In"}),T.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-6 space-y-4 sm:space-y-0",children:[T.jsx("div",{className:`text-6xl sm:text-7xl animated-emoji ${r.mood?"":"opacity-50"}`,children:u[r.mood]||"😴"}),T.jsxs("div",{className:"text-center sm:text-left space-y-2",children:[T.jsxs("div",{className:"text-xl sm:text-2xl font-semibold text-gray-300 ",children:["Mood Score: ",r.moodScore,"/10"]}),T.jsxs("div",{className:"text-base sm:text-lg text-gray-300 flex items-center justify-center sm:justify-start",children:[T.jsx("span",{className:"mr-2",children:"⚡"}),"Energy: ",r.energyLevel,"/10"]}),T.jsxs("div",{className:"text-base sm:text-lg text-gray-300 flex items-center justify-center sm:justify-start",children:[T.jsx("span",{className:"mr-2",children:"😴"}),"Sleep: ",r.sleepHours," hours"]}),T.jsxs("div",{className:"text-base sm:text-lg text-gray-300 flex items-center justify-center sm:justify-start",children:[T.jsx("span",{className:"mr-2",children:"📊"}),"Stress: ",r.stressLevel,"/10"]})]})]}),r.weather&&T.jsxs("div",{className:"mt-4",children:[T.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-200",children:"Weather"}),T.jsxs("div",{className:"inline-flex items-center bg-indigo-900/50 px-4 py-2 rounded-full text-indigo-200",children:[T.jsx("span",{className:"text-2xl mr-2",children:d[r.weather]}),T.jsx("span",{className:"capitalize",children:r.weather})]})]}),r.physicalHealth&&r.physicalHealth.length>0&&T.jsxs("div",{className:"mt-4",children:[T.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-200",children:"Physical Health"}),T.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:r.physicalHealth.map(R=>T.jsxs("div",{className:"bg-indigo-900/50 text-indigo-200 px-3 py-2 rounded-full flex items-center",children:[T.jsx("span",{className:"text-xl mr-2",children:p[R]}),T.jsx("span",{className:"capitalize",children:R})]},R))})]}),r.activities&&r.activities.length>0&&T.jsxs("div",{className:"mt-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-200",children:"Today's Activities"}),T.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3",children:r.activities.map(R=>T.jsxs("div",{className:`bg-indigo-900/50 text-indigo-200 \r
                        px-3 sm:px-4 py-2 rounded-full flex items-center text-sm sm:text-base`,children:[T.jsx("span",{className:"mr-2",children:f[R]}),T.jsx("span",{className:"capitalize",children:R})]},R))})]}),r.notes&&T.jsxs("div",{className:"mt-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-200",children:"Notes"}),T.jsx("div",{className:"bg-indigo-900/50 p-4 rounded-xl text-gray-200",children:r.notes})]})]})}),a.length>0&&T.jsxs("div",{className:"bg-bluegray rounded-2xl sm:rounded-3xl shadow-xl p-4 sm:p-8 mb-6",children:[T.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6",children:"Your Insights"}),T.jsx("div",{className:"grid gap-3 sm:gap-4",children:a.map((R,P)=>T.jsx("div",{className:`p-4 rounded-xl text-sm sm:text-base transition-all
                    ${R.priority==="high"?"bg-red-50 dark:bg-red-900/50 text-red-700 dark:text-red-200 border border-red-200 dark:border-red-800":R.priority==="medium"?"bg-yellow-50 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-200 border border-yellow-200 dark:border-yellow-800":"bg-indigo-50 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-200 border border-indigo-200 dark:border-indigo-800"}`,children:T.jsxs("div",{className:"flex items-start space-x-3",children:[T.jsxs("div",{className:"flex-shrink-0 text-xl sm:text-2xl",children:[R.type==="sleep"&&"😴",R.type==="mood"&&"🎭",R.type==="activity"&&"⭐",R.type==="energy"&&"⚡",R.type==="weather"&&"🌤️",R.type==="health"&&"🏥"]}),T.jsx("p",{className:"flex-1 pt-1",children:R.message})]})},P))})]}),T.jsx("div",{className:"flex flex-wrap gap-4 justify-center mb-6",children:T.jsx("button",{onClick:()=>w(!x),className:"bg-indigo-600 text-white px-6 py-2 rounded-full hover:bg-indigo-700 transition-all",children:"Notification Settings"})}),x&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-md w-full",children:[T.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Notification Settings"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("span",{children:"Enable Notifications"}),T.jsx("input",{type:"checkbox",checked:e.enabled,onChange:k,className:"w-4 h-4"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-2",children:"Check-in Time"}),T.jsx("input",{type:"time",value:e.checkInTime,onChange:R=>A(R.target.value),className:"w-full p-2 border rounded"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-2",children:"Frequency"}),T.jsxs("select",{value:e.frequency,onChange:R=>O(R.target.value),className:"w-full p-2 border rounded",children:[T.jsx("option",{value:"daily",children:"Daily"}),T.jsx("option",{value:"weekdays",children:"Weekdays Only"}),T.jsx("option",{value:"custom",children:"Custom Days"})]})]}),e.frequency==="weekdays"&&T.jsx("div",{className:"space-y-2",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(R=>T.jsxs("div",{className:"flex items-center",children:[T.jsx("input",{type:"checkbox",id:R,checked:e.weekdays.includes(R),onChange:P=>M(R,P.target.checked),className:"mr-2"}),T.jsx("label",{htmlFor:R,children:R})]},R))})]}),T.jsx("div",{className:"mt-6 flex justify-end",children:T.jsx("button",{onClick:()=>w(!1),className:"bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300 transition-all",children:"Close"})})]})}),T.jsxs("div",{ref:E,className:"bg-bluegray rounded-2xl sm:rounded-3xl shadow-xl p-4 sm:p-8 mb-6",style:{willChange:"transform",transform:"translateZ(0)"},children:[T.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Your Mood Journey"}),T.jsx(fK,{data:t})]}),T.jsxs("div",{className:"bg-bluegray rounded-2xl sm:rounded-3xl shadow-xl p-4 sm:p-8 mb-6",children:[T.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Mood Heatmap"}),T.jsx(Bie,{data:t})]}),T.jsxs("div",{className:"bg-bluegray rounded-2xl sm:rounded-3xl shadow-xl p-4 sm:p-8 mb-6",children:[T.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Advanced Insights"}),T.jsx("div",{className:"grid gap-4",children:l.map((R,P)=>T.jsx("div",{className:`p-4 rounded-xl ${R.category==="health"?"bg-red-50 dark:bg-red-900/50 text-red-700 dark:text-red-200":R.category==="pattern"?"bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-200":"bg-green-50 dark:bg-green-900/50 text-green-700 dark:text-green-200"}`,children:T.jsxs("div",{className:"flex items-start space-x-3",children:[T.jsxs("div",{className:"flex-shrink-0 text-xl sm:text-2xl",children:[R.category==="health"&&"🏥",R.category==="pattern"&&"📊",R.category==="suggestion"&&"💡"]}),T.jsx("p",{className:"flex-1",children:R.message})]})},P))})]}),T.jsx("div",{className:"mb-6 rounded-3xl bg-gradient-to-r from-indigo-500 to-purple-600",style:{background:"linear-gradient(to right, rgb(99, 102, 241), rgb(147, 51, 234))"},children:T.jsx("div",{className:"p-4 sm:p-8 ",children:T.jsx($ie,{mood:r.mood,activities:r.activities,weather:r.weather,energyLevel:r.energyLevel,physicalHealth:r.physicalHealth})})})]})})},Kie=()=>{const{user:t,login:e,logout:n}=Sg(),[i,r]=N.useState(!1),[a,l]=N.useState(()=>{const b=localStorage.getItem("darkMode");return b!==null?JSON.parse(b):!0}),u=N.useRef(null),f=Ir();N.useEffect(()=>{document.body.classList.toggle("dark-mode",a),localStorage.setItem("darkMode",JSON.stringify(a))},[a]),N.useEffect(()=>{r(!1)},[f]),N.useEffect(()=>{const b=v=>{u.current&&!u.current.contains(v.target)&&r(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),N.useEffect(()=>(document.body.style.overflow=i?"hidden":"",()=>{document.body.style.overflow=""}),[i]);const d=()=>l(!a),p=b=>f.pathname===b,m=b=>{r(!1),typeof b=="function"&&b()},y=b=>`
    relative px-4 py-2 rounded-full transition-all duration-300
    ${p(b)?a?"text-white bg-white bg-opacity-20":"text-white bg-bluegray":a?"text-white hover:bg-bluegray hover:bg-opacity-10":"text-white hover:bg-bluegray"}
  `;return T.jsxs(T.Fragment,{children:[T.jsxs("nav",{className:"navbar backdrop-blur-sm relative",ref:u,children:[T.jsxs(en,{to:"/",className:"flex items-center space-x-2 text-white",children:[T.jsx("span",{className:"text-2xl",children:"🌟"}),T.jsx("h1",{className:"text-2xl font-bold",children:"MoodMate"})]}),T.jsx("button",{onClick:()=>r(!i),className:`md:hidden p-2 rounded-lg hover:bg-bluegray hover:bg-opacity-10 ${a?"text-white":"text-indigo-700"}`,"aria-label":"Toggle menu",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i?T.jsx("path",{d:"M6 18L18 6M6 6l12 12"}):T.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})}),T.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[T.jsx(en,{to:"/",className:y("/"),children:"Home"}),t&&T.jsxs(T.Fragment,{children:[T.jsx(en,{to:"/checkin",className:y("/checkin"),children:"Check-In"}),T.jsx(en,{to:"/results",className:y("/results"),children:"Results"})]}),T.jsx("button",{onClick:t?n:e,className:`px-4 py-2 rounded-full transition-all duration-300 ${a?"bg-white bg-opacity-10 text-white hover:bg-opacity-20":"bg-bluegray text-white"}`,children:t?"Sign Out":"Sign In"}),T.jsx("button",{onClick:d,className:`ml-4 p-2 rounded-full hover:bg-bluegray hover:bg-opacity-10 transition-all duration-300 ${a?"text-white":"text-indigo-700"}`,"aria-label":"Toggle dark mode",children:a?T.jsx("span",{className:"text-xl",role:"img","aria-label":"Light mode",children:"🌞"}):T.jsx("span",{className:"text-xl",role:"img","aria-label":"Dark mode",children:"🌙"})})]}),T.jsxs("div",{className:`mobile-menu fixed sm:absolute top-[var(--navbar-height)] inset-x-0 max-h-[calc(100vh-var(--navbar-height))] overflow-y-auto shadow-lg rounded-b-lg p-4 md:hidden space-y-2 z-50 transform transition-all duration-300 backdrop-blur-md ${i?"opacity-100 translate-y-0":"opacity-0 -translate-y-4 pointer-events-none"}`,style:{"--navbar-height":"64px"},children:[T.jsx(en,{to:"/",onClick:()=>m(),className:`block px-4 py-2 rounded-lg hover:bg-bluegray hover:bg-opacity-10 text-white ${p("/")?"active":""}`,children:"Home"}),t&&T.jsxs(T.Fragment,{children:[T.jsx(en,{to:"/checkin",onClick:()=>m(),className:`block px-4 py-2 rounded-lg hover:bg-bluegray hover:bg-opacity-10 text-white ${p("/checkin")?"active":""}`,children:"Check-In"}),T.jsx(en,{to:"/results",onClick:()=>m(),className:`block px-4 py-2 rounded-lg hover:bg-bluegray hover:bg-opacity-10 text-white ${p("/results")?"active":""}`,children:"Results"})]}),T.jsx("button",{onClick:()=>m(t?n:e),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-bluegray hover:bg-opacity-10 text-white",children:t?"Sign Out":"Sign In"}),T.jsx("button",{onClick:()=>m(d),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-bluegray hover:bg-opacity-10 text-white",children:a?"🌞 Light Mode":"🌙 Dark Mode"})]})]}),T.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 md:hidden ${i?"opacity-30 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)})]})},Xie=()=>T.jsx("footer",{className:"footer backdrop-blur-sm",children:T.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 sm:py-8",children:[T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 sm:gap-8",children:[T.jsxs("div",{className:"text-center sm:text-left",children:[T.jsxs("div",{className:"flex items-center justify-center sm:justify-start mb-4",children:[T.jsx("span",{className:"text-xl sm:text-2xl mr-2",children:"🌟"}),T.jsx("h2",{className:"text-lg sm:text-xl font-bold",children:"MoodMate"})]}),T.jsx("p",{className:"text-sm opacity-80 px-4 sm:px-0",children:"Your daily companion for emotional well-being and mental health tracking."})]}),T.jsxs("div",{className:"text-center sm:text-left",children:[T.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Quick Links"}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(en,{to:"/",className:"block hover:text-indigo-200 transition-colors",children:"Home"}),T.jsx(en,{to:"/checkin",className:"block hover:text-indigo-200 transition-colors",children:"Daily Check-In"}),T.jsx(en,{to:"/results",className:"block hover:text-indigo-200 transition-colors",children:"Your Progress"})]})]}),T.jsxs("div",{className:"text-center sm:text-left col-span-1 sm:col-span-2 md:col-span-1",children:[T.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Resources"}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("a",{href:"https://www.who.int/health-topics/mental-health",target:"_blank",rel:"noopener noreferrer",className:"block hover:text-indigo-200 transition-colors",children:"Mental Health Resources"}),T.jsx("a",{href:"https://www.mind.org.uk",target:"_blank",rel:"noopener noreferrer",className:"block hover:text-indigo-200 transition-colors",children:"Support Services"})]})]})]}),T.jsx("div",{className:"mt-6 sm:mt-8 pt-6 sm:pt-8 border-t border-white border-opacity-20 text-center",children:T.jsxs("p",{className:"text-xs sm:text-sm opacity-80",children:["© ",new Date().getFullYear()," MoodMate. All rights reserved."]})})]})}),LO=({children:t})=>{const{user:e,loading:n}=Sg();return n?T.jsx("div",{className:"flex justify-center items-center min-h-screen",children:"Loading..."}):e?t:T.jsx(G9,{to:"/"})};function Qie(){return N.useEffect(()=>{const t=localStorage.getItem("darkMode");t===null?(localStorage.setItem("darkMode","true"),document.body.classList.add("dark-mode")):document.body.classList.toggle("dark-mode",JSON.parse(t))},[]),T.jsxs("div",{className:"min-h-screen flex flex-col",children:[T.jsx(Kie,{}),T.jsx("main",{className:"flex-grow",children:T.jsxs(X9,{children:[T.jsx(Vd,{path:"/",element:T.jsx(MV,{})}),T.jsx(Vd,{path:"/checkin",element:T.jsx(LO,{children:T.jsx(BV,{})})}),T.jsx(Vd,{path:"/results",element:T.jsx(LO,{children:T.jsx(Gie,{})})})]})}),T.jsx(Xie,{})]})}function Zie(){return T.jsx(bV,{children:T.jsx(AV,{children:T.jsx(Qie,{})})})}const Jie=()=>{s9.createRoot(document.getElementById("root")).render(T.jsx(C1.StrictMode,{children:T.jsx(vP,{basename:"/Moodmate",children:T.jsx(kV,{children:T.jsx(Zie,{})})})}))},ere=Lq(ti,()=>{ere(),Jie()});
